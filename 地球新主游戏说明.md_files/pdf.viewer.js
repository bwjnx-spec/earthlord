/**
 * @licstart The following is the entire license notice for the
 * Javascript code in this page
 *
 * Copyright 2020 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * Javascript code in this page
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],t):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=t():e["pdfjs-dist/build/pdf"]=e.pdfjsLib=t()}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLinkAttributes",{enumerable:!0,get:function(){return r.addLinkAttributes}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(t,"LinkTarget",{enumerable:!0,get:function(){return r.LinkTarget}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return i.LoopbackPort}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return i.version}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty(t,"createObjectURL",{enumerable:!0,get:function(){return a.createObjectURL}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return a.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty(t,"removeNullCharacters",{enumerable:!0,get:function(){return a.removeNullCharacters}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return a.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(t,"apiCompatibilityParams",{enumerable:!0,get:function(){return s.apiCompatibilityParams}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return u.GlobalWorkerOptions}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return l.SVGGraphics}});var r=n(1),i=n(198),a=n(5),o=n(211),s=n(200),u=n(203),c=n(214),l=n(215);if(n(7).isNodeJS){var f=n(216).PDFNodeStream;(0,i.setPDFNetworkStreamFactory)((function(e){return new f(e)}))}else{var d,h=n(219).PDFNetworkStream;(0,r.isFetchSupported)()&&(d=n(220).PDFFetchStream),(0,i.setPDFNetworkStreamFactory)((function(e){return d&&(0,r.isValidFetchUrl)(e.url)?new d(e):new h(e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLinkAttributes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.url,r=t.target,i=t.rel,o=t.enabled,s=void 0===o||o;(0,a.assert)(n&&"string"==typeof n,'addLinkAttributes: A valid "url" parameter must provided.');var u=(0,a.removeNullCharacters)(n);s?e.href=e.title=u:(e.href="",e.title="Disabled: ".concat(u),e.onclick=function(){return!1});var c="";switch(r){case C.NONE:break;case C.SELF:c="_self";break;case C.BLANK:c="_blank";break;case C.PARENT:c="_parent";break;case C.TOP:c="_top"}e.target=c,e.rel="string"==typeof i?i:"noopener noreferrer nofollow"},t.getFilenameFromUrl=function(e){var t=e.indexOf("#"),n=e.indexOf("?"),r=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",r)+1,r)},t.isFetchSupported=T,t.isValidFetchUrl=x,t.loadScript=function(e){return new Promise((function(t,n){var r=document.createElement("script");r.src=e,r.onload=t,r.onerror=function(){n(new Error("Cannot load script at: ".concat(r.src)))},(document.head||document.documentElement).appendChild(r)}))},t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.PDFDateString=t.StatTimer=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.LinkTarget=t.RenderingCancelledException=t.PageViewport=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(5);function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){h(a,r,i,o,s,"next",e)}function s(e){h(a,r,i,o,s,"throw",e)}o(void 0)}))}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}t.DEFAULT_LINK_REL="noopener noreferrer nofollow";var y="http://www.w3.org/2000/svg",b=function(){function e(){v(this,e)}return m(e,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var n=document.createElement("canvas"),r=n.getContext("2d");return n.width=e,n.height=t,{canvas:n,context:r}}},{key:"reset",value:function(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}}]),e}();t.DOMCanvasFactory=b;var _=function(){function e(t){var n=t.baseUrl,r=void 0===n?null:n,i=t.isCompressed,a=void 0!==i&&i;v(this,e),this.baseUrl=r,this.isCompressed=a}return m(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=p(i.default.mark((function e(t){var n,r,o,s=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,this.baseUrl){e.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(n){e.next=5;break}throw new Error("CMap name must be specified.");case 5:if(r=this.baseUrl+n+(this.isCompressed?".bcmap":""),o=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE,!T()||!x(r,document.baseURI)){e.next=9;break}return e.abrupt("return",fetch(r).then(function(){var e=p(i.default.mark((function e(t){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}throw new Error(t.statusText);case 2:if(!s.isCompressed){e.next=10;break}return e.t0=Uint8Array,e.next=6,t.arrayBuffer();case 6:e.t1=e.sent,n=new e.t0(e.t1),e.next=15;break;case 10:return e.t2=a.stringToBytes,e.next=13,t.text();case 13:e.t3=e.sent,n=(0,e.t2)(e.t3);case 15:return e.abrupt("return",{cMapData:n,compressionType:o});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw new Error("Unable to load ".concat(s.isCompressed?"binary ":"")+"CMap at: ".concat(r))})));case 9:return e.abrupt("return",new Promise((function(e,t){var n=new XMLHttpRequest;n.open("GET",r,!0),s.isCompressed&&(n.responseType="arraybuffer"),n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE){var r;if(200===n.status||0===n.status)if(s.isCompressed&&n.response?r=new Uint8Array(n.response):!s.isCompressed&&n.responseText&&(r=(0,a.stringToBytes)(n.responseText)),r)return void e({cMapData:r,compressionType:o});t(new Error(n.statusText))}},n.send(null)})).catch((function(e){throw new Error("Unable to load ".concat(s.isCompressed?"binary ":"")+"CMap at: ".concat(r))})));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}())}]),e}();t.DOMCMapReaderFactory=_;var w=function(){function e(){v(this,e)}return m(e,[{key:"create",value:function(e,t){(0,a.assert)(e>0&&t>0,"Invalid SVG dimensions");var n=document.createElementNS(y,"svg:svg");return n.setAttribute("version","1.1"),n.setAttribute("width",e+"px"),n.setAttribute("height",t+"px"),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 "+e+" "+t),n}},{key:"createElement",value:function(e){return(0,a.assert)("string"==typeof e,"Invalid SVG element type"),document.createElementNS(y,e)}}]),e}();t.DOMSVGFactory=w;var S=function(){function e(t){var n=t.viewBox,r=t.scale,i=t.rotation,a=t.offsetX,o=void 0===a?0:a,s=t.offsetY,u=void 0===s?0:s,c=t.dontFlip,l=void 0!==c&&c;v(this,e),this.viewBox=n,this.scale=r,this.rotation=i,this.offsetX=o,this.offsetY=u;var f,d,h,p,g,m,y,b,_=(n[2]+n[0])/2,w=(n[3]+n[1])/2;switch(i=(i%=360)<0?i+360:i){case 180:f=-1,d=0,h=0,p=1;break;case 90:f=0,d=1,h=1,p=0;break;case 270:f=0,d=-1,h=-1,p=0;break;case 0:f=1,d=0,h=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(h=-h,p=-p),0===f?(g=Math.abs(w-n[1])*r+o,m=Math.abs(_-n[0])*r+u,y=Math.abs(n[3]-n[1])*r,b=Math.abs(n[2]-n[0])*r):(g=Math.abs(_-n[0])*r+o,m=Math.abs(w-n[1])*r+u,y=Math.abs(n[2]-n[0])*r,b=Math.abs(n[3]-n[1])*r),this.transform=[f*r,d*r,h*r,p*r,g-f*r*_-h*r*w,m-d*r*_-p*r*w],this.width=y,this.height=b}return m(e,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.scale,r=void 0===n?this.scale:n,i=t.rotation,a=void 0===i?this.rotation:i,o=t.offsetX,s=void 0===o?this.offsetX:o,u=t.offsetY,c=void 0===u?this.offsetY:u,l=t.dontFlip,f=void 0!==l&&l;return new e({viewBox:this.viewBox.slice(),scale:r,rotation:a,offsetX:s,offsetY:c,dontFlip:f})}},{key:"convertToViewportPoint",value:function(e,t){return a.Util.applyTransform([e,t],this.transform)}},{key:"convertToViewportRectangle",value:function(e){var t=a.Util.applyTransform([e[0],e[1]],this.transform),n=a.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function(e,t){return a.Util.applyInverseTransform([e,t],this.transform)}}]),e}();t.PageViewport=S;var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,e);var t=l(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).type=r,i}return n}(a.BaseException);t.RenderingCancelledException=A;var C={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};t.LinkTarget=C;var P,E=function(){function e(){v(this,e),this.started=Object.create(null),this.times=[]}return m(e,[{key:"time",value:function(e){e in this.started&&(0,a.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}},{key:"timeEnd",value:function(e){e in this.started||(0,a.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}},{key:"toString",value:function(){var e,t=[],n=0,r=o(this.times);try{for(r.s();!(e=r.n()).done;){var i=e.value.name;i.length>n&&(n=i.length)}}catch(e){r.e(e)}finally{r.f()}var a,s=o(this.times);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.end-u.start;t.push("".concat(u.name.padEnd(n)," ").concat(c,"ms\n"))}}catch(e){s.e(e)}finally{s.f()}return t.join("")}}]),e}();function T(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function x(e,t){try{var n=(t?new URL(e,t):new URL(e)).protocol;return"http:"===n||"https:"===n}catch(e){return!1}}t.StatTimer=E;var k=function(){function e(){v(this,e)}return m(e,null,[{key:"toDateObject",value:function(e){if(!e||!(0,a.isString)(e))return null;P||(P=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var t=P.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;var i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;var o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;var s=parseInt(t[5],10);s=s>=0&&s<=59?s:0;var u=parseInt(t[6],10);u=u>=0&&u<=59?u:0;var c=t[7]||"Z",l=parseInt(t[8],10);l=l>=0&&l<=23?l:0;var f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,"-"===c?(o+=l,s+=f):"+"===c&&(o-=l,s-=f),new Date(Date.UTC(n,r,i,o,s,u))}}]),e}();t.PDFDateString=k},function(e,t,n){"use strict";e.exports=n(3)},function(e,t,n){"use strict";(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(e){var n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new A(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return P()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function f(){}function d(){}function h(){}var p={};p[a]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==n&&r.call(g,a)&&(p=g);var m=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function b(e,n){var i;this._invoke=function(a,o){function s(){return new n((function(i,s){!function i(a,o,s,u){var l=c(e[a],e,o);if("throw"!==l.type){var f=l.arg,d=f.value;return d&&"object"===t(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):n.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return i("throw",e,s,u)}))}u(l.arg)}(a,o,i,s)}))}return i=i?i.then(s,s):s()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=m.constructor=h,h.constructor=d,h[s]=d.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[o]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(m),m[s]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}("object"===t(e)?e.exports:{});try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(4)(e))},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=k,t.arraysToBytes=function(e){var t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];for(var n=0,r=0;r<t;r++)n+=k(e[r]);for(var i=0,a=new Uint8Array(n),o=0;o<t;o++){var s=e[o];s instanceof Uint8Array||(s="string"==typeof s?x(s):new Uint8Array(s));var u=s.byteLength;a.set(s,i),i+=u}return a},t.assert=m,t.bytesToString=function(e){m(null!==e&&"object"===o(e)&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length;if(t<8192)return String.fromCharCode.apply(null,e);for(var n=[],r=0;r<t;r+=8192){var i=Math.min(r+8192,t),a=e.subarray(r,i);n.push(String.fromCharCode.apply(null,a))}return n.join("")},t.createObjectURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&!n)return URL.createObjectURL(new Blob([e],{type:t}));for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="data:".concat(t,";base64,"),a=0,o=e.length;a<o;a+=3){var s=255&e[a],u=255&e[a+1],c=255&e[a+2],l=s>>2,f=(3&s)<<4|u>>4,d=a+1<o?(15&u)<<2|c>>6:64,h=a+2<o?63&c:64;i+=r[l]+r[f]+r[d]+r[h]}return i},t.createPromiseCapability=function(){var e=Object.create(null),t=!1;return Object.defineProperty(e,"settled",{get:function(){return t}}),e.promise=new Promise((function(n,r){e.resolve=function(e){t=!0,n(e)},e.reject=function(e){t=!0,r(e)}})),e},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var n=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n))return n}catch(e){}return null},t.escapeString=function(e){return e.replace(/([()\\\n\r])/g,(function(e){return"\n"===e?"\\n":"\r"===e?"\\r":"\\".concat(e)}))},t.getModificationDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")];return t.join("")},t.getVerbosityLevel=function(){return p},t.info=function(e){p>=h.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"===o(e)&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.isAscii=function(e){return/^[\x00-\x7F]*$/.test(e)},t.isBool=function(e){return"boolean"==typeof e},t.isNum=function(e){return"number"==typeof e},t.isSameOrigin=function(e,t){var n;try{if(!(n=new URL(e)).origin||"null"===n.origin)return!1}catch(e){return!1}var r=new URL(t,n);return n.origin===r.origin},t.isString=function(e){return"string"==typeof e},t.objectFromMap=function(e){var t,n=Object.create(null),r=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}(e);try{for(r.s();!(t=r.n()).done;){var a=(u=t.value,c=2,function(e){if(Array.isArray(e))return e}(u)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(u,c)||i(u,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],s=a[1];n[o]=s}}catch(e){r.e(e)}finally{r.f()}var u,c;return n},t.objectSize=function(e){return Object.keys(e).length},t.removeNullCharacters=function(e){if("string"!=typeof e)return v("The argument for removeNullCharacters must be a string."),e;return e.replace(T,"")},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(p=e)},t.shadow=y,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=x,t.stringToPDFString=function(e){var t=e.length,n=[];if("þ"===e[0]&&"ÿ"===e[1])for(var r=2;r<t;r+=2)n.push(String.fromCharCode(e.charCodeAt(r)<<8|e.charCodeAt(r+1)));else if("ÿ"===e[0]&&"þ"===e[1])for(var i=2;i<t;i+=2)n.push(String.fromCharCode(e.charCodeAt(i+1)<<8|e.charCodeAt(i)));else for(var a=0;a<t;++a){var o=N[e.charCodeAt(a)];n.push(o?String.fromCharCode(o):e.charAt(a))}return n.join("")},t.stringToUTF16BEString=function(e){for(var t=["þÿ"],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);t.push(String.fromCharCode(i>>8&255),String.fromCharCode(255&i))}return t.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.unreachable=g,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=v,t.VerbosityLevel=t.Util=t.UNSUPPORTED_FEATURES=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.IsLittleEndianCached=t.IsEvalSupportedCached=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,n(6);t.IDENTITY_MATRIX=[1,0,0,1,0,0];t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0];t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"};t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"};t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};t.AnnotationReplyType={GROUP:"Group",REPLY:"R"};t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.PageActionEventType={O:"PageOpen",C:"PageClose"};t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var h={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=h;t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"};t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var p=h.WARNINGS;function v(e){p>=h.WARNINGS&&console.log("Warning: ".concat(e))}function g(e){throw new Error(e)}function m(e,t){e||g(t)}function y(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}var b=function(){function e(t){this.constructor===e&&g("Cannot initialize BaseException."),this.message=t,this.name=this.constructor.name}return e.prototype=new Error,e.constructor=e,e}();t.BaseException=b;var _=function(e){u(n,e);var t=l(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).code=r,i}return n}(b);t.PasswordException=_;var w=function(e){u(n,e);var t=l(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).details=r,i}return n}(b);t.UnknownErrorException=w;var S=function(e){u(n,e);var t=l(n);function n(){return s(this,n),t.apply(this,arguments)}return n}(b);t.InvalidPDFException=S;var A=function(e){u(n,e);var t=l(n);function n(){return s(this,n),t.apply(this,arguments)}return n}(b);t.MissingPDFException=A;var C=function(e){u(n,e);var t=l(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).status=r,i}return n}(b);t.UnexpectedResponseException=C;var P=function(e){u(n,e);var t=l(n);function n(){return s(this,n),t.apply(this,arguments)}return n}(b);t.FormatError=P;var E=function(e){u(n,e);var t=l(n);function n(){return s(this,n),t.apply(this,arguments)}return n}(b);t.AbortException=E;var T=/\x00/g;function x(e){m("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,n=new Uint8Array(t),r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function k(e){return void 0!==e.length?e.length:(m(void 0!==e.byteLength,"arrayByteLength - invalid argument."),e.byteLength)}var O={get value(){return y(this,"value",((e=new Uint8Array(4))[0]=1,1===new Uint32Array(e.buffer,0,1)[0]));var e}};t.IsLittleEndianCached=O;var R={get value(){return y(this,"value",function(){try{return new Function(""),!0}catch(e){return!1}}())}};t.IsEvalSupportedCached=R;var M,L=(M=Array(256).keys(),function(e){if(Array.isArray(e))return a(e)}(M)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(M)||i(M)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return e.toString(16).padStart(2,"0")})),I=function(){function e(){s(this,e)}var t,n,i;return t=e,i=[{key:"makeHexColor",value:function(e,t,n){return"#".concat(L[e]).concat(L[t]).concat(L[n])}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}},{key:"applyInverseTransform",value:function(e,t){var n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}},{key:"getAxialAlignedBoundingBox",value:function(t,n){var r=e.applyTransform(t,n),i=e.applyTransform(t.slice(2,4),n),a=e.applyTransform([t[0],t[3]],n),o=e.applyTransform([t[2],t[1]],n);return[Math.min(r[0],i[0],a[0],o[0]),Math.min(r[1],i[1],a[1],o[1]),Math.max(r[0],i[0],a[0],o[0]),Math.max(r[1],i[1],a[1],o[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"apply3dTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(n+a)/2,s=Math.sqrt(Math.pow(n+a,2)-4*(n*a-i*r))/2,u=o+s||1,c=o-s||1;return[Math.sqrt(u),Math.sqrt(c)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(t,n){function r(e,t){return e-t}var i=[t[0],t[2],n[0],n[2]].sort(r),a=[t[1],t[3],n[1],n[3]].sort(r),o=[];return t=e.normalizeRect(t),n=e.normalizeRect(n),i[0]===t[0]&&i[1]===n[0]||i[0]===n[0]&&i[1]===t[0]?(o[0]=i[1],o[2]=i[2],a[0]===t[1]&&a[1]===n[1]||a[0]===n[1]&&a[1]===t[1]?(o[1]=a[1],o[3]=a[2],o):null):null}}],(n=null)&&r(t.prototype,n),i&&r(t,i),e}();t.Util=I;var N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]},function(e,t,n){"use strict";var r=n(7);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}if("undefined"==typeof globalThis||!globalThis._pdfjsCompatibilityChecked){"undefined"!=typeof globalThis&&globalThis.Math===Math||(globalThis=n(8)),globalThis._pdfjsCompatibilityChecked=!0;var a="object"===("undefined"==typeof window?"undefined":i(window))&&"object"===("undefined"==typeof document?"undefined":i(document)),o="undefined"!=typeof navigator&&navigator.userAgent||"",s=/Trident/.test(o);!globalThis.btoa&&r.isNodeJS&&(globalThis.btoa=function(e){return Buffer.from(e,"binary").toString("base64")}),!globalThis.atob&&r.isNodeJS&&(globalThis.atob=function(e){return Buffer.from(e,"base64").toString("binary")}),a&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),function(){if(a&&!r.isNodeJS){var e=document.createElement("div");if(e.classList.add("testOne","testTwo"),!0!==e.classList.contains("testOne")||!0!==e.classList.contains("testTwo")){var t=DOMTokenList.prototype.add,n=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];t.call(this,o)}},DOMTokenList.prototype.remove=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var i=0,a=t;i<a.length;i++){var o=a[i];n.call(this,o)}}}}}(),a&&!r.isNodeJS&&!1!==document.createElement("div").classList.toggle("test",0)&&(DOMTokenList.prototype.toggle=function(e){var t=arguments.length>1?!!arguments[1]:!this.contains(e);return this[t?"add":"remove"](e),t}),function(){if(a&&s){var e=window.history.pushState,t=window.history.replaceState;window.history.pushState=function(t,n,r){var i=void 0===r?[t,n]:[t,n,r];e.apply(this,i)},window.history.replaceState=function(e,n,r){var i=void 0===r?[e,n]:[e,n,r];t.apply(this,i)}}}(),String.prototype.startsWith||n(53),String.prototype.endsWith||n(64),String.prototype.includes||n(66),Array.prototype.includes||n(68),Array.from||n(76),Object.assign||n(98),Math.log2||(Math.log2=n(101)),Number.isNaN||(Number.isNaN=n(103)),Number.isInteger||(Number.isInteger=n(105)),Uint8Array.prototype.slice||n(108),globalThis.Promise&&globalThis.Promise.allSettled||(globalThis.Promise=n(113)),globalThis.URL=n(136),function(){var e=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(e){e.close()}}),e=!0}catch(e){}e||(globalThis.ReadableStream=n(143).ReadableStream)}(),globalThis.Map&&globalThis.Map.prototype.entries||(globalThis.Map=n(144)),globalThis.Set&&globalThis.Set.prototype.entries||(globalThis.Set=n(151)),globalThis.WeakMap||(globalThis.WeakMap=n(153)),globalThis.WeakSet||(globalThis.WeakSet=n(159)),String.prototype.codePointAt||n(161),String.fromCodePoint||(String.fromCodePoint=n(163)),globalThis.Symbol||n(165),String.prototype.padStart||n(188),String.prototype.padEnd||n(193),Object.values||(Object.values=n(195))}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var i="object"===("undefined"==typeof process?"undefined":r(process))&&process+""=="[object process]"&&!process.versions.nw&&!process.versions.electron;t.isNodeJS=i},function(e,t,n){n(9),e.exports=n(11)},function(e,t,n){n(10)({global:!0},{globalThis:n(11)})},function(e,t,n){var r=n(11),i=n(12).f,a=n(26),o=n(29),s=n(30),u=n(40),c=n(52);e.exports=function(e,t){var n,l,f,d,h,p=e.target,v=e.global,g=e.stat;if(n=v?r:g?r[p]||s(p,{}):(r[p]||{}).prototype)for(l in t){if(d=t[l],f=e.noTargetGet?(h=i(n,l))&&h.value:n[l],!c(v?l:p+(g?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(e.sham||f&&f.sham)&&a(d,"sham",!0),o(n,l,d,e)}}},function(e,t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof global&&global)||Function("return this")()},function(e,t,n){var r=n(13),i=n(15),a=n(16),o=n(17),s=n(21),u=n(23),c=n(24),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=o(e),t=s(t,!0),c)try{return l(e,t)}catch(e){}if(u(e,t))return a(!i.f.call(e,t),e[t])}},function(e,t,n){var r=n(14);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(18),i=n(20);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(14),i=n(19),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(22);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(13),i=n(14),a=n(25);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(11),i=n(22),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,n){var r=n(13),i=n(27),a=n(16);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(13),i=n(24),a=n(28),o=n(21),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(22);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(11),i=n(26),a=n(23),o=n(30),s=n(31),u=n(33),c=u.get,l=u.enforce,f=String(String).split("String");(e.exports=function(e,t,n,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||i(n,"name",t),l(n).source=f.join("string"==typeof t?t:"")),e!==r?(u?!d&&e[t]&&(c=!0):delete e[t],c?e[t]=n:i(e,t,n)):c?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},function(e,t,n){var r=n(11),i=n(26);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(32),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(11),i=n(30),a=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=a},function(e,t,n){var r,i,a,o=n(34),s=n(11),u=n(22),c=n(26),l=n(23),f=n(35),d=n(39),h=s.WeakMap;if(o){var p=new h,v=p.get,g=p.has,m=p.set;r=function(e,t){return m.call(p,e,t),t},i=function(e){return v.call(p,e)||{}},a=function(e){return g.call(p,e)}}else{var y=f("state");d[y]=!0,r=function(e,t){return c(e,y,t),t},i=function(e){return l(e,y)?e[y]:{}},a=function(e){return l(e,y)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(11),i=n(31),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(i(a))},function(e,t,n){var r=n(36),i=n(38),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},function(e,t,n){var r=n(37),i=n(32);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t){e.exports={}},function(e,t,n){var r=n(23),i=n(41),a=n(12),o=n(27);e.exports=function(e,t){for(var n=i(t),s=o.f,u=a.f,c=0;c<n.length;c++){var l=n[c];r(e,l)||s(e,l,u(t,l))}}},function(e,t,n){var r=n(42),i=n(44),a=n(51),o=n(28);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(43),i=n(11),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){var r=n(11);e.exports=r},function(e,t,n){var r=n(45),i=n(50).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(23),i=n(17),a=n(46).indexOf,o=n(39);e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)!r(o,n)&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~a(c,n)||c.push(n));return c}},function(e,t,n){var r=n(17),i=n(47),a=n(49),o=function(e){return function(t,n,o){var s,u=r(t),c=i(u.length),l=a(o,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,n){var r=n(48),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(48),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(14),i=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==c||n!=u&&("function"==typeof t?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},function(e,t,n){n(54);var r=n(61);e.exports=r("String","startsWith")},function(e,t,n){"use strict";var r,i=n(10),a=n(12).f,o=n(47),s=n(55),u=n(20),c=n(60),l=n(37),f="".startsWith,d=Math.min,h=c("startsWith");i({target:"String",proto:!0,forced:!!(l||h||(r=a(String.prototype,"startsWith"),!r||r.writable))&&!h},{startsWith:function(e){var t=String(u(this));s(e);var n=o(d(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return f?f.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){var r=n(56);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(22),i=n(19),a=n(57)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(11),i=n(36),a=n(23),o=n(38),s=n(58),u=n(59),c=i("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||o;e.exports=function(e){return a(c,e)||(s&&a(l,e)?c[e]=l[e]:c[e]=f("Symbol."+e)),c[e]}},function(e,t,n){var r=n(14);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r=n(58);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(57)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){var r=n(11),i=n(62),a=Function.call;e.exports=function(e,t,n){return i(a,r[e].prototype[t],n)}},function(e,t,n){var r=n(63);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){n(65);var r=n(61);e.exports=r("String","endsWith")},function(e,t,n){"use strict";var r,i=n(10),a=n(12).f,o=n(47),s=n(55),u=n(20),c=n(60),l=n(37),f="".endsWith,d=Math.min,h=c("endsWith");i({target:"String",proto:!0,forced:!!(l||h||(r=a(String.prototype,"endsWith"),!r||r.writable))&&!h},{endsWith:function(e){var t=String(u(this));s(e);var n=arguments.length>1?arguments[1]:void 0,r=o(t.length),i=void 0===n?r:d(o(n),r),a=String(e);return f?f.call(t,a,i):t.slice(i-a.length,i)===a}})},function(e,t,n){n(67);var r=n(61);e.exports=r("String","includes")},function(e,t,n){"use strict";var r=n(10),i=n(55),a=n(20);r({target:"String",proto:!0,forced:!n(60)("includes")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){n(69);var r=n(61);e.exports=r("Array","includes")},function(e,t,n){"use strict";var r=n(10),i=n(46).includes,a=n(70);r({target:"Array",proto:!0,forced:!n(75)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},function(e,t,n){var r=n(57),i=n(71),a=n(27),o=r("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},function(e,t,n){var r,i=n(28),a=n(72),o=n(50),s=n(39),u=n(74),c=n(25),l=n(35),f=l("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=r?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var n=o.length;n--;)delete p.prototype[o[n]];return p()};s[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[f]=e):n=p(),void 0===t?n:a(n,t)}},function(e,t,n){var r=n(13),i=n(27),a=n(28),o=n(73);e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),s=r.length,u=0;s>u;)i.f(e,n=r[u++],t[n]);return e}},function(e,t,n){var r=n(45),i=n(50);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(42);e.exports=r("document","documentElement")},function(e,t,n){var r=n(13),i=n(14),a=n(23),o=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(a(s,e))return s[e];t||(t={});var n=[][e],c=!!a(t,"ACCESSORS")&&t.ACCESSORS,l=a(t,0)?t[0]:u,f=a(t,1)?t[1]:void 0;return s[e]=!!n&&!i((function(){if(c&&!r)return!0;var e={length:-1};c?o(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,l,f)}))}},function(e,t,n){n(77),n(89);var r=n(43);e.exports=r.Array.from},function(e,t,n){"use strict";var r=n(78).charAt,i=n(33),a=n(79),o=i.set,s=i.getterFor("String Iterator");a(String,"String",(function(e){o(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(48),i=n(20),a=function(e){return function(t,n){var a,o,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):a:e?s.slice(u,u+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t,n){"use strict";var r=n(10),i=n(80),a=n(82),o=n(87),s=n(85),u=n(26),c=n(29),l=n(57),f=n(37),d=n(86),h=n(81),p=h.IteratorPrototype,v=h.BUGGY_SAFARI_ITERATORS,g=l("iterator"),m=function(){return this};e.exports=function(e,t,n,l,h,y,b){i(n,t,l);var _,w,S,A=function(e){if(e===h&&x)return x;if(!v&&e in E)return E[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},C=t+" Iterator",P=!1,E=e.prototype,T=E[g]||E["@@iterator"]||h&&E[h],x=!v&&T||A(h),k="Array"==t&&E.entries||T;if(k&&(_=a(k.call(new e)),p!==Object.prototype&&_.next&&(f||a(_)===p||(o?o(_,p):"function"!=typeof _[g]&&u(_,g,m)),s(_,C,!0,!0),f&&(d[C]=m))),"values"==h&&T&&"values"!==T.name&&(P=!0,x=function(){return T.call(this)}),f&&!b||E[g]===x||u(E,g,x),d[t]=x,h)if(w={values:A("values"),keys:y?x:A("keys"),entries:A("entries")},b)for(S in w)(v||P||!(S in E))&&c(E,S,w[S]);else r({target:t,proto:!0,forced:v||P},w);return w}},function(e,t,n){"use strict";var r=n(81).IteratorPrototype,i=n(71),a=n(16),o=n(85),s=n(86),u=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:a(1,n)}),o(e,c,!1,!0),s[c]=u,e}},function(e,t,n){"use strict";var r,i,a,o=n(82),s=n(26),u=n(23),c=n(57),l=n(37),f=c("iterator"),d=!1;[].keys&&("next"in(a=[].keys())?(i=o(o(a)))!==Object.prototype&&(r=i):d=!0),null==r&&(r={}),l||u(r,f)||s(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},function(e,t,n){var r=n(23),i=n(83),a=n(35),o=n(84),s=a("IE_PROTO"),u=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,n){var r=n(20);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(14);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(27).f,i=n(23),a=n(57)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t){e.exports={}},function(e,t,n){var r=n(28),i=n(88);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,a){return r(n),i(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},function(e,t,n){var r=n(22);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var r=n(10),i=n(90);r({target:"Array",stat:!0,forced:!n(97)((function(e){Array.from(e)}))},{from:i})},function(e,t,n){"use strict";var r=n(62),i=n(83),a=n(91),o=n(92),s=n(47),u=n(93),c=n(94);e.exports=function(e){var t,n,l,f,d,h,p=i(e),v="function"==typeof this?this:Array,g=arguments.length,m=g>1?arguments[1]:void 0,y=void 0!==m,b=c(p),_=0;if(y&&(m=r(m,g>2?arguments[2]:void 0,2)),null==b||v==Array&&o(b))for(n=new v(t=s(p.length));t>_;_++)h=y?m(p[_],_):p[_],u(n,_,h);else for(d=(f=b.call(p)).next,n=new v;!(l=d.call(f)).done;_++)h=y?a(f,m,[l.value,_],!0):l.value,u(n,_,h);return n.length=_,n}},function(e,t,n){var r=n(28);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},function(e,t,n){var r=n(57),i=n(86),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},function(e,t,n){"use strict";var r=n(21),i=n(27),a=n(16);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},function(e,t,n){var r=n(95),i=n(86),a=n(57)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(96),i=n(19),a=n(57)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:o?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r={};r[n(57)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(57)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},function(e,t,n){n(99);var r=n(43);e.exports=r.Object.assign},function(e,t,n){var r=n(10),i=n(100);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,n){"use strict";var r=n(13),i=n(14),a=n(73),o=n(51),s=n(15),u=n(83),c=n(18),l=Object.assign,f=Object.defineProperty;e.exports=!l||i((function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||"abcdefghijklmnopqrst"!=a(l({},t)).join("")}))?function(e,t){for(var n=u(e),i=arguments.length,l=1,f=o.f,d=s.f;i>l;)for(var h,p=c(arguments[l++]),v=f?a(p).concat(f(p)):a(p),g=v.length,m=0;g>m;)h=v[m++],r&&!d.call(p,h)||(n[h]=p[h]);return n}:l},function(e,t,n){n(102);var r=n(43);e.exports=r.Math.log2},function(e,t,n){var r=n(10),i=Math.log,a=Math.LN2;r({target:"Math",stat:!0},{log2:function(e){return i(e)/a}})},function(e,t,n){n(104);var r=n(43);e.exports=r.Number.isNaN},function(e,t,n){n(10)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,n){n(106);var r=n(43);e.exports=r.Number.isInteger},function(e,t,n){n(10)({target:"Number",stat:!0},{isInteger:n(107)})},function(e,t,n){var r=n(22),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){n(109)},function(e,t,n){"use strict";var r=n(110),i=n(112),a=n(14),o=r.aTypedArray,s=r.aTypedArrayConstructor,u=r.exportTypedArrayMethod,c=[].slice;u("slice",(function(e,t){for(var n=c.call(o(this),e,t),r=i(this,this.constructor),a=0,u=n.length,l=new(s(r))(u);u>a;)l[a]=n[a++];return l}),a((function(){new Int8Array(1).slice()})))},function(e,t,n){"use strict";var r,i=n(111),a=n(13),o=n(11),s=n(22),u=n(23),c=n(95),l=n(26),f=n(29),d=n(27).f,h=n(82),p=n(87),v=n(57),g=n(38),m=o.Int8Array,y=m&&m.prototype,b=o.Uint8ClampedArray,_=b&&b.prototype,w=m&&h(m),S=y&&h(y),A=Object.prototype,C=A.isPrototypeOf,P=v("toStringTag"),E=g("TYPED_ARRAY_TAG"),T=i&&!!p&&"Opera"!==c(o.opera),x=!1,k={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},O=function(e){return s(e)&&u(k,c(e))};for(r in k)o[r]||(T=!1);if((!T||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},T))for(r in k)o[r]&&p(o[r],w);if((!T||!S||S===A)&&(S=w.prototype,T))for(r in k)o[r]&&p(o[r].prototype,S);if(T&&h(_)!==S&&p(_,S),a&&!u(S,P))for(r in x=!0,d(S,P,{get:function(){return s(this)?this[E]:void 0}}),k)o[r]&&l(o[r],E,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:T,TYPED_ARRAY_TAG:x&&E,aTypedArray:function(e){if(O(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(p){if(C.call(w,e))return e}else for(var t in k)if(u(k,r)){var n=o[t];if(n&&(e===n||C.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(a){if(n)for(var r in k){var i=o[r];i&&u(i.prototype,e)&&delete i.prototype[e]}S[e]&&!n||f(S,e,n?t:T&&y[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(a){if(p){if(n)for(r in k)(i=o[r])&&u(i,e)&&delete i[e];if(w[e]&&!n)return;try{return f(w,e,n?t:T&&m[e]||t)}catch(e){}}for(r in k)!(i=o[r])||i[e]&&!n||f(i,e,t)}},isView:function(e){var t=c(e);return"DataView"===t||u(k,t)},isTypedArray:O,TypedArray:w,TypedArrayPrototype:S}},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,n){var r=n(28),i=n(63),a=n(57)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[a])?t:i(n)}},function(e,t,n){n(114),n(77),n(116),n(119),n(134),n(135);var r=n(43);e.exports=r.Promise},function(e,t,n){var r=n(96),i=n(29),a=n(115);r||i(Object.prototype,"toString",a,{unsafe:!0})},function(e,t,n){"use strict";var r=n(96),i=n(95);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,n){var r=n(11),i=n(117),a=n(118),o=n(26),s=n(57),u=s("iterator"),c=s("toStringTag"),l=a.values;for(var f in i){var d=r[f],h=d&&d.prototype;if(h){if(h[u]!==l)try{o(h,u,l)}catch(e){h[u]=l}if(h[c]||o(h,c,f),i[f])for(var p in a)if(h[p]!==a[p])try{o(h,p,a[p])}catch(e){h[p]=a[p]}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";var r=n(17),i=n(70),a=n(86),o=n(33),s=n(79),u=o.set,c=o.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(e,t,n){"use strict";var r,i,a,o,s=n(10),u=n(37),c=n(11),l=n(42),f=n(120),d=n(29),h=n(121),p=n(85),v=n(122),g=n(22),m=n(63),y=n(123),b=n(19),_=n(31),w=n(124),S=n(97),A=n(112),C=n(125).set,P=n(128),E=n(129),T=n(131),x=n(130),k=n(132),O=n(33),R=n(52),M=n(57),L=n(133),I=M("species"),N="Promise",D=O.get,F=O.set,B=O.getterFor(N),j=f,U=c.TypeError,V=c.document,W=c.process,G=l("fetch"),H=x.f,z=H,q="process"==b(W),Y=!!(V&&V.createEvent&&c.dispatchEvent),X=R(N,(function(){if(!(_(j)!==String(j))){if(66===L)return!0;if(!q&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!j.prototype.finally)return!0;if(L>=51&&/native code/.test(j))return!1;var e=j.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[I]=t,!(e.then((function(){}))instanceof t)})),K=X||!S((function(e){j.all(e).catch((function(){}))})),Q=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},Z=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;P((function(){for(var i=t.value,a=1==t.state,o=0;r.length>o;){var s,u,c,l=r[o++],f=a?l.ok:l.fail,d=l.resolve,h=l.reject,p=l.domain;try{f?(a||(2===t.rejection&&te(e,t),t.rejection=1),!0===f?s=i:(p&&p.enter(),s=f(i),p&&(p.exit(),c=!0)),s===l.promise?h(U("Promise-chain cycle")):(u=Q(s))?u.call(s,d,h):d(s)):h(i)}catch(e){p&&!c&&p.exit(),h(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&$(e,t)}))}},J=function(e,t,n){var r,i;Y?((r=V.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},(i=c["on"+e])?i(r):"unhandledrejection"===e&&T("Unhandled promise rejection",n)},$=function(e,t){C.call(c,(function(){var n,r=t.value;if(ee(t)&&(n=k((function(){q?W.emit("unhandledRejection",r,e):J("unhandledrejection",e,r)})),t.rejection=q||ee(t)?2:1,n.error))throw n.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){C.call(c,(function(){q?W.emit("rejectionHandled",e):J("rejectionhandled",e,t.value)}))},ne=function(e,t,n,r){return function(i){e(t,n,i,r)}},re=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,Z(e,t,!0))},ie=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw U("Promise can't be resolved itself");var i=Q(n);i?P((function(){var r={done:!1};try{i.call(n,ne(ie,e,r,t),ne(re,e,r,t))}catch(n){re(e,r,n,t)}})):(t.value=n,t.state=1,Z(e,t,!1))}catch(n){re(e,{done:!1},n,t)}}};X&&(j=function(e){y(this,j,N),m(e),r.call(this);var t=D(this);try{e(ne(ie,this,t),ne(re,this,t))}catch(e){re(this,t,e)}},(r=function(e){F(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(j.prototype,{then:function(e,t){var n=B(this),r=H(A(this,j));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=q?W.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Z(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=D(e);this.promise=e,this.resolve=ne(ie,e,t),this.reject=ne(re,e,t)},x.f=H=function(e){return e===j||e===a?new i(e):z(e)},u||"function"!=typeof f||(o=f.prototype.then,d(f.prototype,"then",(function(e,t){var n=this;return new j((function(e,t){o.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof G&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return E(j,G.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:X},{Promise:j}),p(j,N,!1,!0),v(N),a=l(N),s({target:N,stat:!0,forced:X},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),s({target:N,stat:!0,forced:u||X},{resolve:function(e){return E(u&&this===a?j:this,e)}}),s({target:N,stat:!0,forced:K},{all:function(e){var t=this,n=H(t),r=n.resolve,i=n.reject,a=k((function(){var n=m(t.resolve),a=[],o=0,s=1;w(e,(function(e){var u=o++,c=!1;a.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,a[u]=e,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=H(t),r=n.reject,i=k((function(){var i=m(t.resolve);w(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(e,t,n){var r=n(11);e.exports=r.Promise},function(e,t,n){var r=n(29);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(42),i=n(27),a=n(57),o=n(13),s=a("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(28),i=n(92),a=n(47),o=n(62),s=n(94),u=n(91),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,l,f){var d,h,p,v,g,m,y,b=o(t,n,l?2:1);if(f)d=e;else{if("function"!=typeof(h=s(e)))throw TypeError("Target is not iterable");if(i(h)){for(p=0,v=a(e.length);v>p;p++)if((g=l?b(r(y=e[p])[0],y[1]):b(e[p]))&&g instanceof c)return g;return new c(!1)}d=h.call(e)}for(m=d.next;!(y=m.call(d)).done;)if("object"==typeof(g=u(d,b,y.value,l))&&g&&g instanceof c)return g;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t,n){var r,i,a,o=n(11),s=n(14),u=n(19),c=n(62),l=n(74),f=n(25),d=n(126),h=o.location,p=o.setImmediate,v=o.clearImmediate,g=o.process,m=o.MessageChannel,y=o.Dispatch,b=0,_={},w=function(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},S=function(e){return function(){w(e)}},A=function(e){w(e.data)},C=function(e){o.postMessage(e+"",h.protocol+"//"+h.host)};p&&v||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(b),b},v=function(e){delete _[e]},"process"==u(g)?r=function(e){g.nextTick(S(e))}:y&&y.now?r=function(e){y.now(S(e))}:m&&!d?(a=(i=new m).port2,i.port1.onmessage=A,r=c(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(C)||"file:"===h.protocol?r="onreadystatechange"in f("script")?function(e){l.appendChild(f("script")).onreadystatechange=function(){l.removeChild(this),w(e)}}:function(e){setTimeout(S(e),0)}:(r=C,o.addEventListener("message",A,!1))),e.exports={set:p,clear:v}},function(e,t,n){var r=n(127);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){var r=n(42);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r,i,a,o,s,u,c,l,f=n(11),d=n(12).f,h=n(19),p=n(125).set,v=n(126),g=f.MutationObserver||f.WebKitMutationObserver,m=f.process,y=f.Promise,b="process"==h(m),_=d(f,"queueMicrotask"),w=_&&_.value;w||(r=function(){var e,t;for(b&&(e=m.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?o():a=void 0,e}}a=void 0,e&&e.enter()},b?o=function(){m.nextTick(r)}:g&&!v?(s=!0,u=document.createTextNode(""),new g(r).observe(u,{characterData:!0}),o=function(){u.data=s=!s}):y&&y.resolve?(c=y.resolve(void 0),l=c.then,o=function(){l.call(c,r)}):o=function(){p.call(f,r)}),e.exports=w||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},function(e,t,n){var r=n(28),i=n(22),a=n(130);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(63),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(11);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){var r,i,a=n(11),o=n(127),s=a.process,u=s&&s.versions,c=u&&u.v8;c?i=(r=c.split("."))[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},function(e,t,n){"use strict";var r=n(10),i=n(63),a=n(130),o=n(132),s=n(124);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,u=n.reject,c=o((function(){var n=i(t.resolve),a=[],o=0,u=1;s(e,(function(e){var i=o++,s=!1;a.push(void 0),u++,n.call(t,e).then((function(e){s||(s=!0,a[i]={status:"fulfilled",value:e},--u||r(a))}),(function(e){s||(s=!0,a[i]={status:"rejected",reason:e},--u||r(a))}))})),--u||r(a)}));return c.error&&u(c.value),n.promise}})},function(e,t,n){"use strict";var r=n(10),i=n(37),a=n(120),o=n(14),s=n(42),u=n(112),c=n(129),l=n(29);r({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof a||a.prototype.finally||l(a.prototype,"finally",s("Promise").prototype.finally)},function(e,t,n){n(137),n(142),n(140);var r=n(43);e.exports=r.URL},function(e,t,n){"use strict";n(77);var r,i=n(10),a=n(13),o=n(138),s=n(11),u=n(72),c=n(29),l=n(123),f=n(23),d=n(100),h=n(90),p=n(78).codeAt,v=n(139),g=n(85),m=n(140),y=n(33),b=s.URL,_=m.URLSearchParams,w=m.getState,S=y.set,A=y.getterFor("URL"),C=Math.floor,P=Math.pow,E=/[A-Za-z]/,T=/[\d+-.A-Za-z]/,x=/\d/,k=/^(0x|0X)/,O=/^[0-7]+$/,R=/^\d+$/,M=/^[\dA-Fa-f]+$/,L=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,I=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,N=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,D=/[\u0009\u000A\u000D]/g,F=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=j(t.slice(1,-1))))return"Invalid host";e.host=n}else if(Y(e)){if(t=v(t),L.test(t))return"Invalid host";if(null===(n=B(t)))return"Invalid host";e.host=n}else{if(I.test(t))return"Invalid host";for(n="",r=h(t),i=0;i<r.length;i++)n+=z(r[i],V);e.host=n}},B=function(e){var t,n,r,i,a,o,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=u[r]))return e;if(a=10,i.length>1&&"0"==i.charAt(0)&&(a=k.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)o=0;else{if(!(10==a?R:8==a?O:M).test(i))return e;o=parseInt(i,a)}n.push(o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=P(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*P(256,3-r);return s},j=function(e){var t,n,r,i,a,o,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,d=function(){return e.charAt(f)};if(":"==d()){if(":"!=e.charAt(1))return;f+=2,l=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=n=0;n<4&&M.test(d());)t=16*t+parseInt(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,c>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;f++}if(!x.test(d()))return;for(;x.test(d());){if(a=parseInt(d(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;f++}u[c]=256*u[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;u[c++]=t}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(o=c-l,c=7;0!=c&&o>0;)s=u[c],u[c--]=u[l+o-1],u[l+--o]=s;else if(8!=c)return;return u},U=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=C(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},V={},W=d({},V,{" ":1,'"':1,"<":1,">":1,"`":1}),G=d({},W,{"#":1,"?":1,"{":1,"}":1}),H=d({},G,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),z=function(e,t){var n=p(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},q={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(e){return f(q,e.scheme)},X=function(e){return""!=e.username||""!=e.password},K=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Q=function(e,t){var n;return 2==e.length&&E.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},Z=function(e){var t;return e.length>1&&Q(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},J=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Q(t[0],!0)||t.pop()},$=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ne={},re={},ie={},ae={},oe={},se={},ue={},ce={},le={},fe={},de={},he={},pe={},ve={},ge={},me={},ye={},be={},_e={},we=function(e,t,n,i){var a,o,s,u,c,l=n||ee,d=0,p="",v=!1,g=!1,m=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(N,"")),t=t.replace(D,""),a=h(t);d<=a.length;){switch(o=a[d],l){case ee:if(!o||!E.test(o)){if(n)return"Invalid scheme";l=ne;continue}p+=o.toLowerCase(),l=te;break;case te:if(o&&(T.test(o)||"+"==o||"-"==o||"."==o))p+=o.toLowerCase();else{if(":"!=o){if(n)return"Invalid scheme";p="",l=ne,d=0;continue}if(n&&(Y(e)!=f(q,p)||"file"==p&&(X(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(Y(e)&&q[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?l=he:Y(e)&&i&&i.scheme==e.scheme?l=re:Y(e)?l=se:"/"==a[d+1]?(l=ie,d++):(e.cannotBeABaseURL=!0,e.path.push(""),l=ye)}break;case ne:if(!i||i.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(i.cannotBeABaseURL&&"#"==o){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,l=_e;break}l="file"==i.scheme?he:ae;continue;case re:if("/"!=o||"/"!=a[d+1]){l=ae;continue}l=ue,d++;break;case ie:if("/"==o){l=ce;break}l=me;continue;case ae:if(e.scheme=i.scheme,o==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==o||"\\"==o&&Y(e))l=oe;else if("?"==o)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",l=be;else{if("#"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),l=me;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=_e}break;case oe:if(!Y(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,l=me;continue}l=ce}else l=ue;break;case se:if(l=ue,"/"!=o||"/"!=p.charAt(d+1))continue;d++;break;case ue:if("/"!=o&&"\\"!=o){l=ce;continue}break;case ce:if("@"==o){v&&(p="%40"+p),v=!0,s=h(p);for(var y=0;y<s.length;y++){var b=s[y];if(":"!=b||m){var _=z(b,H);m?e.password+=_:e.username+=_}else m=!0}p=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&Y(e)){if(v&&""==p)return"Invalid authority";d-=h(p).length+1,p="",l=le}else p+=o;break;case le:case fe:if(n&&"file"==e.scheme){l=ve;continue}if(":"!=o||g){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&Y(e)){if(Y(e)&&""==p)return"Invalid host";if(n&&""==p&&(X(e)||null!==e.port))return;if(u=F(e,p))return u;if(p="",l=ge,n)return;continue}"["==o?g=!0:"]"==o&&(g=!1),p+=o}else{if(""==p)return"Invalid host";if(u=F(e,p))return u;if(p="",l=de,n==fe)return}break;case de:if(!x.test(o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&Y(e)||n){if(""!=p){var w=parseInt(p,10);if(w>65535)return"Invalid port";e.port=Y(e)&&w===q[e.scheme]?null:w,p=""}if(n)return;l=ge;continue}return"Invalid port"}p+=o;break;case he:if(e.scheme="file","/"==o||"\\"==o)l=pe;else{if(!i||"file"!=i.scheme){l=me;continue}if(o==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==o)e.host=i.host,e.path=i.path.slice(),e.query="",l=be;else{if("#"!=o){Z(a.slice(d).join(""))||(e.host=i.host,e.path=i.path.slice(),J(e)),l=me;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=_e}}break;case pe:if("/"==o||"\\"==o){l=ve;break}i&&"file"==i.scheme&&!Z(a.slice(d).join(""))&&(Q(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),l=me;continue;case ve:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&Q(p))l=me;else if(""==p){if(e.host="",n)return;l=ge}else{if(u=F(e,p))return u;if("localhost"==e.host&&(e.host=""),n)return;p="",l=ge}continue}p+=o;break;case ge:if(Y(e)){if(l=me,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=r&&(l=me,"/"!=o))continue}else e.fragment="",l=_e;else e.query="",l=be;break;case me:if(o==r||"/"==o||"\\"==o&&Y(e)||!n&&("?"==o||"#"==o)){if(".."===(c=(c=p).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(J(e),"/"==o||"\\"==o&&Y(e)||e.path.push("")):$(p)?"/"==o||"\\"==o&&Y(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Q(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(o==r||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",l=be):"#"==o&&(e.fragment="",l=_e)}else p+=z(o,G);break;case ye:"?"==o?(e.query="",l=be):"#"==o?(e.fragment="",l=_e):o!=r&&(e.path[0]+=z(o,V));break;case be:n||"#"!=o?o!=r&&("'"==o&&Y(e)?e.query+="%27":e.query+="#"==o?"%23":z(o,V)):(e.fragment="",l=_e);break;case _e:o!=r&&(e.fragment+=z(o,W))}d++}},Se=function(e){var t,n,r=l(this,Se,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(e),s=S(r,{type:"URL"});if(void 0!==i)if(i instanceof Se)t=A(i);else if(n=we(t={},String(i)))throw TypeError(n);if(n=we(s,o,null,t))throw TypeError(n);var u=s.searchParams=new _,c=w(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},a||(r.href=Ce.call(r),r.origin=Pe.call(r),r.protocol=Ee.call(r),r.username=Te.call(r),r.password=xe.call(r),r.host=ke.call(r),r.hostname=Oe.call(r),r.port=Re.call(r),r.pathname=Me.call(r),r.search=Le.call(r),r.searchParams=Ie.call(r),r.hash=Ne.call(r))},Ae=Se.prototype,Ce=function(){var e=A(this),t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,s=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",X(e)&&(c+=n+(r?":"+r:"")+"@"),c+=U(i),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Pe=function(){var e=A(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Y(e)?t+"://"+U(e.host)+(null!==n?":"+n:""):"null"},Ee=function(){return A(this).scheme+":"},Te=function(){return A(this).username},xe=function(){return A(this).password},ke=function(){var e=A(this),t=e.host,n=e.port;return null===t?"":null===n?U(t):U(t)+":"+n},Oe=function(){var e=A(this).host;return null===e?"":U(e)},Re=function(){var e=A(this).port;return null===e?"":String(e)},Me=function(){var e=A(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Le=function(){var e=A(this).query;return e?"?"+e:""},Ie=function(){return A(this).searchParams},Ne=function(){var e=A(this).fragment;return e?"#"+e:""},De=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&u(Ae,{href:De(Ce,(function(e){var t=A(this),n=String(e),r=we(t,n);if(r)throw TypeError(r);w(t.searchParams).updateSearchParams(t.query)})),origin:De(Pe),protocol:De(Ee,(function(e){var t=A(this);we(t,String(e)+":",ee)})),username:De(Te,(function(e){var t=A(this),n=h(String(e));if(!K(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=z(n[r],H)}})),password:De(xe,(function(e){var t=A(this),n=h(String(e));if(!K(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=z(n[r],H)}})),host:De(ke,(function(e){var t=A(this);t.cannotBeABaseURL||we(t,String(e),le)})),hostname:De(Oe,(function(e){var t=A(this);t.cannotBeABaseURL||we(t,String(e),fe)})),port:De(Re,(function(e){var t=A(this);K(t)||(""==(e=String(e))?t.port=null:we(t,e,de))})),pathname:De(Me,(function(e){var t=A(this);t.cannotBeABaseURL||(t.path=[],we(t,e+"",ge))})),search:De(Le,(function(e){var t=A(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",we(t,e,be)),w(t.searchParams).updateSearchParams(t.query)})),searchParams:De(Ie),hash:De(Ne,(function(e){var t=A(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",we(t,e,_e)):t.fragment=null}))}),c(Ae,"toJSON",(function(){return Ce.call(this)}),{enumerable:!0}),c(Ae,"toString",(function(){return Ce.call(this)}),{enumerable:!0}),b){var Fe=b.createObjectURL,Be=b.revokeObjectURL;Fe&&c(Se,"createObjectURL",(function(e){return Fe.apply(b,arguments)})),Be&&c(Se,"revokeObjectURL",(function(e){return Be.apply(b,arguments)}))}g(Se,"URL"),i({global:!0,forced:!o,sham:!a},{URL:Se})},function(e,t,n){var r=n(14),i=n(57),a=n(37),o=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(e,t,n){"use strict";var r=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",o=Math.floor,s=String.fromCharCode,u=function(e){return e+22+75*(e<26)},c=function(e,t,n){var r=0;for(e=n?o(e/700):e>>1,e+=o(e/t);e>455;r+=36)e=o(e/35);return o(r+36*e/(e+38))},l=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e)).length,l=128,f=0,d=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(s(n));var h=r.length,p=h;for(h&&r.push("-");p<i;){var v=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=l&&n<v&&(v=n);var g=p+1;if(v-l>o((2147483647-f)/g))throw RangeError(a);for(f+=(v-l)*g,l=v,t=0;t<e.length;t++){if((n=e[t])<l&&++f>2147483647)throw RangeError(a);if(n==l){for(var m=f,y=36;;y+=36){var b=y<=d?1:y>=d+26?26:y-d;if(m<b)break;var _=m-b,w=36-b;r.push(s(u(b+_%w))),m=o(_/w)}r.push(s(u(m))),d=c(f,g,p==h),f=0,++p}}++f,++l}return r.join("")};e.exports=function(e){var t,n,a=[],o=e.toLowerCase().replace(i,".").split(".");for(t=0;t<o.length;t++)n=o[t],a.push(r.test(n)?"xn--"+l(n):n);return a.join(".")}},function(e,t,n){"use strict";n(118);var r=n(10),i=n(42),a=n(138),o=n(29),s=n(121),u=n(85),c=n(80),l=n(33),f=n(123),d=n(23),h=n(62),p=n(95),v=n(28),g=n(22),m=n(71),y=n(16),b=n(141),_=n(94),w=n(57),S=i("fetch"),A=i("Headers"),C=w("iterator"),P=l.set,E=l.getterFor("URLSearchParams"),T=l.getterFor("URLSearchParamsIterator"),x=/\+/g,k=Array(4),O=function(e){return k[e-1]||(k[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},R=function(e){try{return decodeURIComponent(e)}catch(t){return e}},M=function(e){var t=e.replace(x," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(O(n--),R);return t}},L=/[!'()~]|%20/g,I={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},N=function(e){return I[e]},D=function(e){return encodeURIComponent(e).replace(L,N)},F=function(e,t){if(t)for(var n,r,i=t.split("&"),a=0;a<i.length;)(n=i[a++]).length&&(r=n.split("="),e.push({key:M(r.shift()),value:M(r.join("="))}))},B=function(e){this.entries.length=0,F(this.entries,e)},j=function(e,t){if(e<t)throw TypeError("Not enough arguments")},U=c((function(e,t){P(this,{type:"URLSearchParamsIterator",iterator:b(E(e).entries),kind:t})}),"Iterator",(function(){var e=T(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),V=function(){f(this,V,"URLSearchParams");var e,t,n,r,i,a,o,s,u,c=arguments.length>0?arguments[0]:void 0,l=this,h=[];if(P(l,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:B}),void 0!==c)if(g(c))if("function"==typeof(e=_(c)))for(n=(t=e.call(c)).next;!(r=n.call(t)).done;){if((o=(a=(i=b(v(r.value))).next).call(i)).done||(s=a.call(i)).done||!a.call(i).done)throw TypeError("Expected sequence with length 2");h.push({key:o.value+"",value:s.value+""})}else for(u in c)d(c,u)&&h.push({key:u,value:c[u]+""});else F(h,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},W=V.prototype;s(W,{append:function(e,t){j(arguments.length,2);var n=E(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){j(arguments.length,1);for(var t=E(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){j(arguments.length,1);for(var t=E(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){j(arguments.length,1);for(var t=E(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){j(arguments.length,1);for(var t=E(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){j(arguments.length,1);for(var n,r=E(this),i=r.entries,a=!1,o=e+"",s=t+"",u=0;u<i.length;u++)(n=i[u]).key===o&&(a?i.splice(u--,1):(a=!0,n.value=s));a||i.push({key:o,value:s}),r.updateURL()},sort:function(){var e,t,n,r=E(this),i=r.entries,a=i.slice();for(i.length=0,n=0;n<a.length;n++){for(e=a[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=E(this).entries,r=h(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new U(this,"keys")},values:function(){return new U(this,"values")},entries:function(){return new U(this,"entries")}},{enumerable:!0}),o(W,C,W.entries),o(W,"toString",(function(){for(var e,t=E(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(D(e.key)+"="+D(e.value));return n.join("&")}),{enumerable:!0}),u(V,"URLSearchParams"),r({global:!0,forced:!a},{URLSearchParams:V}),a||"function"!=typeof S||"function"!=typeof A||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(g(t=arguments[1])&&(n=t.body,"URLSearchParams"===p(n)&&((r=t.headers?new A(t.headers):new A).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=m(t,{body:y(0,String(n)),headers:y(0,r)}))),i.push(t)),S.apply(this,i)}}),e.exports={URLSearchParams:V,getState:E}},function(e,t,n){var r=n(28),i=n(94);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){"use strict";n(10)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(e,t,n){!function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(e){return"Symbol("+e+")"};function n(){}var r=Number.isNaN||function(e){return e!=e},i=n;function a(e){return"object"==typeof e&&null!==e||"function"==typeof e}function o(e){return e.slice()}function s(e){return!1!==function(e){return"number"==typeof e&&(!r(e)&&!(e<0))}(e)&&e!==1/0}function u(e,t,n){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,n)}function c(e,t,n,r){var i=e[t];if(void 0!==i){if("function"!=typeof i)throw new TypeError(i+" is not a method");switch(n){case 0:return function(){return f(i,e,r)};case 1:return function(t){var n=[t].concat(r);return f(i,e,n)}}}return function(){return b(void 0)}}function l(e,t,n){var r=e[t];if(void 0!==r)return u(r,e,n)}function f(e,t,n){try{return b(u(e,t,n))}catch(e){return _(e)}}function d(e){if(e=Number(e),r(e)||e<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return e}function h(e){if(void 0===e)return function(){return 1};if("function"!=typeof e)throw new TypeError("size property of a queuing strategy must be a function");return function(t){return e(t)}}var p=Promise,v=Promise.prototype.then,g=Promise.resolve.bind(p),m=Promise.reject.bind(p);function y(e){return new p(e)}function b(e){return g(e)}function _(e){return m(e)}function w(e,t,n){return v.call(e,t,n)}function S(e,t,n){w(w(e,t,n),void 0,i)}function A(e,t){S(e,t)}function C(e,t){S(e,void 0,t)}function P(e,t,n){return w(e,t,n)}function E(e){w(e,void 0,i)}var T=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.push=function(e){var t=this._back,n=t;16383===t._elements.length&&(n={_elements:[],_next:void 0}),t._elements.push(e),n!==t&&(this._back=n,t._next=n),++this._size},e.prototype.shift=function(){var e=this._front,t=e,n=this._cursor,r=n+1,i=e._elements,a=i[n];return 16384===r&&(t=e._next,r=0),--this._size,this._cursor=r,e!==t&&(this._front=t),i[n]=void 0,a},e.prototype.forEach=function(e){for(var t=this._cursor,n=this._front,r=n._elements;!(t===r.length&&void 0===n._next||t===r.length&&(t=0,0===(r=(n=n._next)._elements).length));)e(r[t]),++t},e.prototype.peek=function(){var e=this._front,t=this._cursor;return e._elements[t]},e}();function x(e,t,n){var r=null;!0===n&&(r=Object.prototype);var i=Object.create(r);return i.value=e,i.done=t,i}function k(e,t){e._forAuthorCode=!0,e._ownerReadableStream=t,t._reader=e,"readable"===t._state?L(e):"closed"===t._state?function(e){L(e),D(e)}(e):I(e,t._storedError)}function O(e,t){return Ut(e._ownerReadableStream,t)}function R(e){"readable"===e._ownerReadableStream._state?N(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){I(e,t)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function M(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function L(e){e._closedPromise=y((function(t,n){e._closedPromise_resolve=t,e._closedPromise_reject=n}))}function I(e,t){L(e),N(e,t)}function N(e,t){E(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function D(e){e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}var F=t("[[CancelSteps]]"),B=t("[[PullSteps]]");function j(e,t){void 0===t&&(t=!1);var n=new q(e);return n._forAuthorCode=t,n}function U(e){return y((function(t,n){var r={_resolve:t,_reject:n};e._reader._readRequests.push(r)}))}function V(e,t,n){var r=e._reader;r._readRequests.shift()._resolve(x(t,n,r._forAuthorCode))}function W(e){return e._reader._readRequests.length}function G(e){var t=e._reader;return void 0!==t&&!!Y(t)}var H,z,q=function(){function e(e){if(!1===Bt(e))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===jt(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");k(this,e),this._readRequests=new T}return Object.defineProperty(e.prototype,"closed",{get:function(){return Y(this)?this._closedPromise:_(K("closed"))},enumerable:!0,configurable:!0}),e.prototype.cancel=function(e){return Y(this)?void 0===this._ownerReadableStream?_(M("cancel")):O(this,e):_(K("cancel"))},e.prototype.read=function(){return Y(this)?void 0===this._ownerReadableStream?_(M("read from")):X(this):_(K("read"))},e.prototype.releaseLock=function(){if(!Y(this))throw K("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");R(this)}},e}();function Y(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function X(e){var t=e._ownerReadableStream;return t._disturbed=!0,"closed"===t._state?b(x(void 0,!0,e._forAuthorCode)):"errored"===t._state?_(t._storedError):t._readableStreamController[B]()}function K(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof t.asyncIterator&&((H={})[t.asyncIterator]=function(){return this},z=H,Object.defineProperty(z,t.asyncIterator,{enumerable:!1}));var Q={next:function(){if(!1===Z(this))return _(J("next"));var e=this._asyncIteratorReader;return void 0===e._ownerReadableStream?_(M("iterate")):P(X(e),(function(t){var n=t.done;return n&&R(e),x(t.value,n,!0)}))},return:function(e){if(!1===Z(this))return _(J("next"));var t=this._asyncIteratorReader;if(void 0===t._ownerReadableStream)return _(M("finish iterating"));if(t._readRequests.length>0)return _(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this._preventCancel){var n=O(t,e);return R(t),P(n,(function(){return x(e,!0,!0)}))}return R(t),b(x(e,!0,!0))}};function Z(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorReader")}function J(e){return new TypeError("ReadableStreamAsyncIterator."+e+" can only be used on a ReadableSteamAsyncIterator")}function $(e){var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function ee(e,t,n){if(!s(n=Number(n)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:n}),e._queueTotalSize+=n}function te(e){e._queue=new T,e._queueTotalSize=0}void 0!==z&&Object.setPrototypeOf(Q,z),Object.defineProperty(Q,"next",{enumerable:!1}),Object.defineProperty(Q,"return",{enumerable:!1});var ne=t("[[AbortSteps]]"),re=t("[[ErrorSteps]]"),ie=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),oe(this);var n=t.size,r=t.highWaterMark;if(void 0!==e.type)throw new RangeError("Invalid type is specified");var i=h(n);void 0===r&&(r=1),function(e,t,n,r){var i=Object.create(Ce.prototype),a=c(t,"write",1,[i]),o=c(t,"close",0,[]),s=c(t,"abort",1,[]);Pe(e,i,(function(){return l(t,"start",[i])}),a,o,s,n,r)}(this,e,r=d(r),i)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!1===se(this))throw Me("locked");return ue(this)},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){return!1===se(this)?_(Me("abort")):!0===ue(this)?_(new TypeError("Cannot abort a stream that already has a writer")):ce(this,e)},e.prototype.close=function(){return!1===se(this)?_(Me("close")):!0===ue(this)?_(new TypeError("Cannot close a stream that already has a writer")):!0===pe(this)?_(new TypeError("Cannot close an already-closing stream")):le(this)},e.prototype.getWriter=function(){if(!1===se(this))throw Me("getWriter");return ae(this)},e}();function ae(e){return new me(e)}function oe(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new T,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function se(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function ue(e){return void 0!==e._writer}function ce(e,t){var n=e._state;if("closed"===n||"errored"===n)return b(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;var r=!1;"erroring"===n&&(r=!0,t=void 0);var i=y((function(n,i){e._pendingAbortRequest={_promise:void 0,_resolve:n,_reject:i,_reason:t,_wasAlreadyErroring:r}}));return e._pendingAbortRequest._promise=i,!1===r&&de(e,t),i}function le(e){var t=e._state;if("closed"===t||"errored"===t)return _(new TypeError("The stream (in "+t+" state) is not in the writable state and cannot be closed"));var n,r=y((function(t,n){var r={_resolve:t,_reject:n};e._closeRequest=r})),i=e._writer;return void 0!==i&&!0===e._backpressure&&"writable"===t&&Ge(i),ee(n=e._writableStreamController,"close",0),xe(n),r}function fe(e,t){"writable"!==e._state?he(e):de(e,t)}function de(e,t){var n=e._writableStreamController;e._state="erroring",e._storedError=t;var r=e._writer;void 0!==r&&we(r,t),!1===function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&!0===n._started&&he(e)}function he(e){e._state="errored",e._writableStreamController[re]();var t=e._storedError;if(e._writeRequests.forEach((function(e){e._reject(t)})),e._writeRequests=new T,void 0!==e._pendingAbortRequest){var n=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,!0===n._wasAlreadyErroring)return n._reject(t),void ve(e);S(e._writableStreamController[ne](n._reason),(function(){n._resolve(),ve(e)}),(function(t){n._reject(t),ve(e)}))}else ve(e)}function pe(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function ve(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&Fe(t,e._storedError)}function ge(e,t){var n=e._writer;void 0!==n&&t!==e._backpressure&&(!0===t?function(e){je(e)}(n):Ge(n)),e._backpressure=t}var me=function(){function e(e){if(!1===se(e))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===ue(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;var t,n=e._state;if("writable"===n)!1===pe(e)&&!0===e._backpressure?je(this):Ve(this),Ne(this);else if("erroring"===n)Ue(this,e._storedError),Ne(this);else if("closed"===n)Ve(this),Ne(t=this),Be(t);else{var r=e._storedError;Ue(this,r),De(this,r)}}return Object.defineProperty(e.prototype,"closed",{get:function(){return!1===ye(this)?_(Le("closed")):this._closedPromise},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!1===ye(this))throw Le("desiredSize");if(void 0===this._ownerWritableStream)throw Ie("desiredSize");return e=this._ownerWritableStream,"errored"===(t=e._state)||"erroring"===t?null:"closed"===t?0:Te(e._writableStreamController);var e,t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return!1===ye(this)?_(Le("ready")):this._readyPromise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){return!1===ye(this)?_(Le("abort")):void 0===this._ownerWritableStream?_(Ie("abort")):function(e,t){return ce(e._ownerWritableStream,t)}(this,e)},e.prototype.close=function(){if(!1===ye(this))return _(Le("close"));var e=this._ownerWritableStream;return void 0===e?_(Ie("close")):!0===pe(e)?_(new TypeError("Cannot close an already-closing stream")):be(this)},e.prototype.releaseLock=function(){if(!1===ye(this))throw Le("releaseLock");void 0!==this._ownerWritableStream&&Se(this)},e.prototype.write=function(e){return!1===ye(this)?_(Le("write")):void 0===this._ownerWritableStream?_(Ie("write to")):Ae(this,e)},e}();function ye(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function be(e){return le(e._ownerWritableStream)}function _e(e,t){"pending"===e._closedPromiseState?Fe(e,t):function(e,t){De(e,t)}(e,t)}function we(e,t){"pending"===e._readyPromiseState?We(e,t):function(e,t){Ue(e,t)}(e,t)}function Se(e){var t=e._ownerWritableStream,n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");we(e,n),_e(e,n),t._writer=void 0,e._ownerWritableStream=void 0}function Ae(e,t){var n=e._ownerWritableStream,r=n._writableStreamController,i=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return ke(e,t),1}}(r,t);if(n!==e._ownerWritableStream)return _(Ie("write to"));var a=n._state;if("errored"===a)return _(n._storedError);if(!0===pe(n)||"closed"===a)return _(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===a)return _(n._storedError);var o=function(e){return y((function(t,n){var r={_resolve:t,_reject:n};e._writeRequests.push(r)}))}(n);return function(e,t,n){var r={chunk:t};try{ee(e,r,n)}catch(t){return void ke(e,t)}var i=e._controlledWritableStream;if(!1===pe(i)&&"writable"===i._state){var a=Oe(e);ge(i,a)}xe(e)}(r,t,i),o}var Ce=function(){function e(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return e.prototype.error=function(e){if(!1==(!!a(t=this)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream")))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var t;"writable"===this._controlledWritableStream._state&&Re(this,e)},e.prototype[ne]=function(e){var t=this._abortAlgorithm(e);return Ee(this),t},e.prototype[re]=function(){te(this)},e}();function Pe(e,t,n,r,i,a,o,s){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,te(t),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=o,t._writeAlgorithm=r,t._closeAlgorithm=i,t._abortAlgorithm=a;var u=Oe(t);ge(e,u),S(b(n()),(function(){t._started=!0,xe(t)}),(function(n){t._started=!0,fe(e,n)}))}function Ee(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Te(e){return e._strategyHWM-e._queueTotalSize}function xe(e){var t=e._controlledWritableStream;if(!1!==e._started&&void 0===t._inFlightWriteRequest)if("erroring"!==t._state){if(0!==e._queue.length){var n=e._queue.peek().value;"close"===n?function(e){var t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),$(e);var n=e._closeAlgorithm();Ee(e),S(n,(function(){!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var t=e._writer;void 0!==t&&Be(t)}(t)}),(function(e){!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),fe(e,t)}(t,e)}))}(e):function(e,t){var n=e._controlledWritableStream;(function(e){e._inFlightWriteRequest=e._writeRequests.shift()})(n),S(e._writeAlgorithm(t),(function(){!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(n);var t=n._state;if($(e),!1===pe(n)&&"writable"===t){var r=Oe(e);ge(n,r)}xe(e)}),(function(t){"writable"===n._state&&Ee(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,fe(e,t)}(n,t)}))}(e,n.chunk)}}else he(t)}function ke(e,t){"writable"===e._controlledWritableStream._state&&Re(e,t)}function Oe(e){return Te(e)<=0}function Re(e,t){var n=e._controlledWritableStream;Ee(e),de(n,t)}function Me(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function Le(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function Ie(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Ne(e){e._closedPromise=y((function(t,n){e._closedPromise_resolve=t,e._closedPromise_reject=n,e._closedPromiseState="pending"}))}function De(e,t){Ne(e),Fe(e,t)}function Fe(e,t){E(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function Be(e){e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}function je(e){e._readyPromise=y((function(t,n){e._readyPromise_resolve=t,e._readyPromise_reject=n})),e._readyPromiseState="pending"}function Ue(e,t){je(e),We(e,t)}function Ve(e){je(e),Ge(e)}function We(e,t){E(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function Ge(e){e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}function He(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}var ze,qe="undefined"!=typeof DOMException?DOMException:void 0,Ye=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(qe)?qe:((ze=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}).prototype=Object.create(Error.prototype),Object.defineProperty(ze.prototype,"constructor",{value:ze,writable:!0,configurable:!0}),ze);function Xe(e,t,r,i,a,o){var s=j(e),u=ae(t);e._disturbed=!0;var c=!1,l=b(void 0);return y((function(f,d){var h,p,v,g;if(void 0!==o){if(h=function(){var n=new Ye("Aborted","AbortError"),r=[];!1===i&&r.push((function(){return"writable"===t._state?ce(t,n):b(void 0)})),!1===a&&r.push((function(){return"readable"===e._state?Ut(e,n):b(void 0)})),x((function(){return Promise.all(r.map((function(e){return e()})))}),!0,n)},!0===o.aborted)return void h();o.addEventListener("abort",h)}if(T(e,s._closedPromise,(function(e){!1===i?x((function(){return ce(t,e)}),!0,e):k(!0,e)})),T(t,u._closedPromise,(function(t){!1===a?x((function(){return Ut(e,t)}),!0,t):k(!0,t)})),p=e,v=s._closedPromise,g=function(){!1===r?x((function(){return function(e){var t=e._ownerWritableStream,n=t._state;return!0===pe(t)||"closed"===n?b(void 0):"errored"===n?_(t._storedError):be(e)}(u)})):k()},"closed"===p._state?g():A(v,g),!0===pe(t)||"closed"===t._state){var m=new TypeError("the destination writable stream closed before all data could be piped to it");!1===a?x((function(){return Ut(e,m)}),!0,m):k(!0,m)}function P(){var e=l;return w(l,(function(){return e!==l?P():void 0}))}function T(e,t,n){"errored"===e._state?n(e._storedError):C(t,n)}function x(e,n,r){function i(){S(e(),(function(){return O(n,r)}),(function(e){return O(!0,e)}))}!0!==c&&(c=!0,"writable"===t._state&&!1===pe(t)?A(P(),i):i())}function k(e,n){!0!==c&&(c=!0,"writable"===t._state&&!1===pe(t)?A(P(),(function(){return O(e,n)})):O(e,n))}function O(e,t){Se(u),R(s),void 0!==o&&o.removeEventListener("abort",h),e?d(t):f(void 0)}E(y((function(e,t){!function r(i){i?e():w(!0===c?b(!0):w(u._readyPromise,(function(){return w(X(s),(function(e){return!0===e.done||(l=w(Ae(u,e.value),void 0,n),!1)}))})),r,t)}(!1)})))}))}var Ke=function(){function e(){throw new TypeError}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!1===Qe(this))throw ot("desiredSize");return rt(this)},enumerable:!0,configurable:!0}),e.prototype.close=function(){if(!1===Qe(this))throw ot("close");if(!1===it(this))throw new TypeError("The stream is not in a state that permits close");et(this)},e.prototype.enqueue=function(e){if(!1===Qe(this))throw ot("enqueue");if(!1===it(this))throw new TypeError("The stream is not in a state that permits enqueue");return tt(this,e)},e.prototype.error=function(e){if(!1===Qe(this))throw ot("error");nt(this,e)},e.prototype[F]=function(e){te(this);var t=this._cancelAlgorithm(e);return $e(this),t},e.prototype[B]=function(){var e=this._controlledReadableStream;if(this._queue.length>0){var t=$(this);return!0===this._closeRequested&&0===this._queue.length?($e(this),Vt(e)):Ze(this),b(x(t,!1,e._reader._forAuthorCode))}var n=U(e);return Ze(this),n},e}();function Qe(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")}function Ze(e){!1!==Je(e)&&(!0!==e._pulling?(e._pulling=!0,S(e._pullAlgorithm(),(function(){e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,Ze(e))}),(function(t){nt(e,t)}))):e._pullAgain=!0)}function Je(e){var t=e._controlledReadableStream;return!1!==it(e)&&!1!==e._started&&(!0===jt(t)&&W(t)>0||rt(e)>0)}function $e(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function et(e){var t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&($e(e),Vt(t))}function tt(e,t){var n=e._controlledReadableStream;if(!0===jt(n)&&W(n)>0)V(n,t,!1);else{var r=void 0;try{r=e._strategySizeAlgorithm(t)}catch(t){throw nt(e,t),t}try{ee(e,t,r)}catch(t){throw nt(e,t),t}}Ze(e)}function nt(e,t){var n=e._controlledReadableStream;"readable"===n._state&&(te(e),$e(e),Wt(n,t))}function rt(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function it(e){var t=e._controlledReadableStream._state;return!1===e._closeRequested&&"readable"===t}function at(e,t,n,r,i,a,o){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,te(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=o,t._strategyHWM=a,t._pullAlgorithm=r,t._cancelAlgorithm=i,e._readableStreamController=t,S(b(n()),(function(){t._started=!0,Ze(t)}),(function(e){nt(t,e)}))}function ot(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}var st=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},ut=function(){function e(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!1===ft(this))throw Tt("view");return this._view},enumerable:!0,configurable:!0}),e.prototype.respond=function(e){if(!1===ft(this))throw Tt("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(e,t){if(!1===s(t=Number(t)))throw new RangeError("bytesWritten must be a finite");wt(e,t)}(this._associatedReadableByteStreamController,e)},e.prototype.respondWithNewView=function(e){if(!1===ft(this))throw Tt("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");e.buffer,function(e,t){var n=e._pendingPullIntos.peek();if(n.byteOffset+n.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");n.buffer=t.buffer,wt(e,t.byteLength)}(this._associatedReadableByteStreamController,e)},e}(),ct=function(){function e(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!1===lt(this))throw xt("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos.peek(),t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),n=Object.create(ut.prototype);!function(e,t,n){e._associatedReadableByteStreamController=t,e._view=n}(n,this,t),this._byobRequest=n}return this._byobRequest},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!1===lt(this))throw xt("desiredSize");return Pt(this)},enumerable:!0,configurable:!0}),e.prototype.close=function(){if(!1===lt(this))throw xt("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");!function(e){var t=e._controlledReadableByteStream;if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Ct(e,n),n}At(e),Vt(t)}}(this)},e.prototype.enqueue=function(e){if(!1===lt(this))throw xt("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");e.buffer,function(e,t){var n=e._controlledReadableByteStream,r=t.buffer,i=t.byteOffset,a=t.byteLength,o=r;if(!0===G(n))if(0===W(n))vt(e,o,i,a);else{var s=new Uint8Array(o,i,a);V(n,s,!1)}else!0===Rt(n)?(vt(e,o,i,a),_t(e)):vt(e,o,i,a);dt(e)}(this,e)},e.prototype.error=function(e){if(!1===lt(this))throw xt("error");Ct(this,e)},e.prototype[F]=function(e){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),te(this);var t=this._cancelAlgorithm(e);return At(this),t},e.prototype[B]=function(){var e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var t=this._queue.shift();this._queueTotalSize-=t.byteLength,yt(this);var n=void 0;try{n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}catch(e){return _(e)}return b(x(n,!1,e._reader._forAuthorCode))}var r=this._autoAllocateChunkSize;if(void 0!==r){var i=void 0;try{i=new ArrayBuffer(r)}catch(e){return _(e)}var a={buffer:i,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(a)}var o=U(e);return dt(this),o},e}();function lt(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")}function ft(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function dt(e){!1!==function(e){var t=e._controlledReadableByteStream;return"readable"===t._state&&(!0!==e._closeRequested&&(!1!==e._started&&(!0===G(t)&&W(t)>0||(!0===Rt(t)&&Ot(t)>0||Pt(e)>0))))}(e)&&(!0!==e._pulling?(e._pulling=!0,S(e._pullAlgorithm(),(function(){e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,dt(e))}),(function(t){Ct(e,t)}))):e._pullAgain=!0)}function ht(e,t){var n=!1;"closed"===e._state&&(n=!0);var r=pt(t);"default"===t.readerType?V(e,r,n):function(e,t,n){var r=e._reader;r._readIntoRequests.shift()._resolve(x(t,n,r._forAuthorCode))}(e,r,n)}function pt(e){var t=e.bytesFilled,n=e.elementSize;return new e.ctor(e.buffer,e.byteOffset,t/n)}function vt(e,t,n,r){e._queue.push({buffer:t,byteOffset:n,byteLength:r}),e._queueTotalSize+=r}function gt(e,t){var n=t.elementSize,r=t.bytesFilled-t.bytesFilled%n,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),a=t.bytesFilled+i,o=a-a%n,s=i,u=!1;o>r&&(s=o-t.bytesFilled,u=!0);for(var c,l,f,d,h,p=e._queue;s>0;){var v=p.peek(),g=Math.min(s,v.byteLength),m=t.byteOffset+t.bytesFilled;c=t.buffer,l=m,f=v.buffer,d=v.byteOffset,h=g,new Uint8Array(c).set(new Uint8Array(f,d,h),l),v.byteLength===g?p.shift():(v.byteOffset+=g,v.byteLength-=g),e._queueTotalSize-=g,mt(e,g,t),s-=g}return u}function mt(e,t,n){bt(e),n.bytesFilled+=t}function yt(e){0===e._queueTotalSize&&!0===e._closeRequested?(At(e),Vt(e._controlledReadableByteStream)):dt(e)}function bt(e){void 0!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function _t(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos.peek();!0===gt(e,t)&&(St(e),ht(e._controlledReadableByteStream,t))}}function wt(e,t){var n=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(e,t){t.buffer=t.buffer;var n=e._controlledReadableByteStream;if(!0===Rt(n))for(;Ot(n)>0;)ht(n,St(e))}(e,n)}else!function(e,t,n){if(n.bytesFilled+t>n.byteLength)throw new RangeError("bytesWritten out of range");if(mt(e,t,n),!(n.bytesFilled<n.elementSize)){St(e);var r=n.bytesFilled%n.elementSize;if(r>0){var i=n.byteOffset+n.bytesFilled,a=n.buffer.slice(i-r,i);vt(e,a,0,a.byteLength)}n.buffer=n.buffer,n.bytesFilled-=r,ht(e._controlledReadableByteStream,n),_t(e)}}(e,t,n);dt(e)}function St(e){var t=e._pendingPullIntos.shift();return bt(e),t}function At(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Ct(e,t){var n=e._controlledReadableByteStream;"readable"===n._state&&(function(e){bt(e),e._pendingPullIntos=new T}(e),te(e),At(e),Wt(n,t))}function Pt(e){var t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Et(e,t,n){var r=Object.create(ct.prototype),i=c(t,"pull",0,[r]),a=c(t,"cancel",1,[]),o=t.autoAllocateChunkSize;if(void 0!==o&&(o=Number(o),!1===st(o)||o<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(e,t,n,r,i,a,o){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=void 0,t._queue=t._queueTotalSize=void 0,te(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=d(a),t._pullAlgorithm=r,t._cancelAlgorithm=i,t._autoAllocateChunkSize=o,t._pendingPullIntos=new T,e._readableStreamController=t,S(b(n()),(function(){t._started=!0,dt(t)}),(function(e){Ct(t,e)}))}(e,r,(function(){return l(t,"start",[r])}),i,a,n,o)}function Tt(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function xt(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function kt(e){return y((function(t,n){var r={_resolve:t,_reject:n};e._reader._readIntoRequests.push(r)}))}function Ot(e){return e._reader._readIntoRequests.length}function Rt(e){var t=e._reader;return void 0!==t&&!!Lt(t)}var Mt=function(){function e(e){if(!Bt(e))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===lt(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(jt(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");k(this,e),this._readIntoRequests=new T}return Object.defineProperty(e.prototype,"closed",{get:function(){return Lt(this)?this._closedPromise:_(It("closed"))},enumerable:!0,configurable:!0}),e.prototype.cancel=function(e){return Lt(this)?void 0===this._ownerReadableStream?_(M("cancel")):O(this,e):_(It("cancel"))},e.prototype.read=function(e){return Lt(this)?void 0===this._ownerReadableStream?_(M("read from")):ArrayBuffer.isView(e)?(e.buffer,0===e.byteLength?_(new TypeError("view must have non-zero byteLength")):function(e,t){var n=e._ownerReadableStream;return n._disturbed=!0,"errored"===n._state?_(n._storedError):function(e,t){var n=e._controlledReadableByteStream,r=1;t.constructor!==DataView&&(r=t.constructor.BYTES_PER_ELEMENT);var i=t.constructor,a={buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:r,ctor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(a),kt(n);if("closed"===n._state)return b(x(new i(a.buffer,a.byteOffset,0),!0,n._reader._forAuthorCode));if(e._queueTotalSize>0){if(!0===gt(e,a)){var o=pt(a);return yt(e),b(x(o,!1,n._reader._forAuthorCode))}if(!0===e._closeRequested){var s=new TypeError("Insufficient bytes to fill elements in the given buffer");return Ct(e,s),_(s)}}e._pendingPullIntos.push(a);var u=kt(n);return dt(e),u}(n._readableStreamController,t)}(this,e)):_(new TypeError("view must be an array buffer view")):_(It("read"))},e.prototype.releaseLock=function(){if(!Lt(this))throw It("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");R(this)}},e}();function Lt(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function It(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}var Nt=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Ft(this);var n=t.size,r=t.highWaterMark,i=e.type;if("bytes"===String(i)){if(void 0!==n)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Et(this,e,r=d(r))}else{if(void 0!==i)throw new RangeError("Invalid type is specified");var a=h(n);void 0===r&&(r=1),function(e,t,n,r){var i=Object.create(Ke.prototype),a=c(t,"pull",0,[i]),o=c(t,"cancel",1,[]);at(e,i,(function(){return l(t,"start",[i])}),a,o,n,r)}(this,e,r=d(r),a)}}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!1===Bt(this))throw Gt("locked");return jt(this)},enumerable:!0,configurable:!0}),e.prototype.cancel=function(e){return!1===Bt(this)?_(Gt("cancel")):!0===jt(this)?_(new TypeError("Cannot cancel a stream that already has a reader")):Ut(this,e)},e.prototype.getReader=function(e){var t=(void 0===e?{}:e).mode;if(!1===Bt(this))throw Gt("getReader");if(void 0===t)return j(this,!0);if("byob"===(t=String(t)))return function(e,t){void 0===t&&(t=!1);var n=new Mt(e);return n._forAuthorCode=t,n}(this,!0);throw new RangeError("Invalid mode is specified")},e.prototype.pipeThrough=function(e,t){var n=e.writable,r=e.readable,i=void 0===t?{}:t,a=i.preventClose,o=i.preventAbort,s=i.preventCancel,u=i.signal;if(!1===Bt(this))throw Gt("pipeThrough");if(!1===se(n))throw new TypeError("writable argument to pipeThrough must be a WritableStream");if(!1===Bt(r))throw new TypeError("readable argument to pipeThrough must be a ReadableStream");if(a=Boolean(a),o=Boolean(o),s=Boolean(s),void 0!==u&&!He(u))throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===jt(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===ue(n))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return E(Xe(this,n,a,o,s,u)),r},e.prototype.pipeTo=function(e,t){var n=void 0===t?{}:t,r=n.preventClose,i=n.preventAbort,a=n.preventCancel,o=n.signal;return!1===Bt(this)?_(Gt("pipeTo")):!1===se(e)?_(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),i=Boolean(i),a=Boolean(a),void 0===o||He(o)?!0===jt(this)?_(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===ue(e)?_(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Xe(this,e,r,i,a,o):_(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},e.prototype.tee=function(){if(!1===Bt(this))throw Gt("tee");var e=function(e,t){var n,r,i,a,s,u=j(e),c=!1,l=!1,f=!1,d=y((function(e){s=e}));function h(){return!0===c||(c=!0,E(P(X(u),(function(e){if(c=!1,!0===e.done)return!1===l&&et(i._readableStreamController),void(!1===f&&et(a._readableStreamController));var t=e.value,n=t,r=t;!1===l&&tt(i._readableStreamController,n),!1===f&&tt(a._readableStreamController,r)})))),b(void 0)}function p(){}return i=Dt(p,h,(function(t){if(l=!0,n=t,!0===f){var i=o([n,r]),a=Ut(e,i);s(a)}return d})),a=Dt(p,h,(function(t){if(f=!0,r=t,!0===l){var i=o([n,r]),a=Ut(e,i);s(a)}return d})),C(u._closedPromise,(function(e){nt(i._readableStreamController,e),nt(a._readableStreamController,e)})),[i,a]}(this);return o(e)},e.prototype.getIterator=function(e){var t=(void 0===e?{}:e).preventCancel,n=void 0!==t&&t;if(!1===Bt(this))throw Gt("getIterator");return function(e,t){void 0===t&&(t=!1);var n=j(e),r=Object.create(Q);return r._asyncIteratorReader=n,r._preventCancel=Boolean(t),r}(this,n)},e}();function Dt(e,t,n,r,i){void 0===r&&(r=1),void 0===i&&(i=function(){return 1});var a=Object.create(Nt.prototype);return Ft(a),at(a,Object.create(Ke.prototype),e,t,n,r,i),a}function Ft(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Bt(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function jt(e){return void 0!==e._reader}function Ut(e,t){return e._disturbed=!0,"closed"===e._state?b(void 0):"errored"===e._state?_(e._storedError):(Vt(e),P(e._readableStreamController[F](t),n))}function Vt(e){e._state="closed";var t=e._reader;void 0!==t&&(Y(t)&&(t._readRequests.forEach((function(e){e._resolve(x(void 0,!0,t._forAuthorCode))})),t._readRequests=new T),D(t))}function Wt(e,t){e._state="errored",e._storedError=t;var n=e._reader;void 0!==n&&(Y(n)?(n._readRequests.forEach((function(e){e._reject(t)})),n._readRequests=new T):(n._readIntoRequests.forEach((function(e){e._reject(t)})),n._readIntoRequests=new T),N(n,t))}function Gt(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}"symbol"==typeof t.asyncIterator&&Object.defineProperty(Nt.prototype,t.asyncIterator,{value:Nt.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Ht=function(){function e(e){var t=e.highWaterMark;this.highWaterMark=t}return e.prototype.size=function(e){return e.byteLength},e}(),zt=function(){function e(e){var t=e.highWaterMark;this.highWaterMark=t}return e.prototype.size=function(){return 1},e}(),qt=function(){function e(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n={});var r=t.size,i=t.highWaterMark,a=n.size,o=n.highWaterMark;if(void 0!==e.writableType)throw new RangeError("Invalid writable type specified");var s=h(r);if(void 0===i&&(i=1),i=d(i),void 0!==e.readableType)throw new RangeError("Invalid readable type specified");var u,p=h(a);void 0===o&&(o=0),o=d(o),function(e,t,n,r,i,a){function o(){return t}e._writable=function(e,t,n,r,i,a){void 0===i&&(i=1),void 0===a&&(a=function(){return 1});var o=Object.create(ie.prototype);return oe(o),Pe(o,Object.create(Ce.prototype),e,t,n,r,i,a),o}(o,(function(t){return function(e,t){var n=e._transformStreamController;return!0===e._backpressure?P(e._backpressureChangePromise,(function(){var r=e._writable;if("erroring"===r._state)throw r._storedError;return tn(n,t)})):tn(n,t)}(e,t)}),(function(){return function(e){var t=e._readable,n=e._transformStreamController,r=n._flushAlgorithm();return $t(n),P(r,(function(){if("errored"===t._state)throw t._storedError;var e=t._readableStreamController;!0===it(e)&&et(e)}),(function(n){throw Xt(e,n),t._storedError}))}(e)}),(function(t){return function(e,t){return Xt(e,t),b(void 0)}(e,t)}),n,r),e._readable=Dt(o,(function(){return function(e){return Qt(e,!1),e._backpressureChangePromise}(e)}),(function(t){return Kt(e,t),b(void 0)}),i,a),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Qt(e,!0),e._transformStreamController=void 0}(this,y((function(e){u=e})),i,s,o,p),function(e,t){var n=Object.create(Zt.prototype),r=function(e){try{return en(n,e),b(void 0)}catch(e){return _(e)}},i=t.transform;if(void 0!==i){if("function"!=typeof i)throw new TypeError("transform is not a method");r=function(e){return f(i,t,[e,n])}}var a=c(t,"flush",0,[n]);!function(e,t,n,r){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=n,t._flushAlgorithm=r}(e,n,r,a)}(this,e);var v=l(e,"start",[this._transformStreamController]);u(v)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!1===Yt(this))throw rn("readable");return this._readable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!1===Yt(this))throw rn("writable");return this._writable},enumerable:!0,configurable:!0}),e}();function Yt(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}function Xt(e,t){nt(e._readable._readableStreamController,t),Kt(e,t)}function Kt(e,t){$t(e._transformStreamController),ke(e._writable._writableStreamController,t),!0===e._backpressure&&Qt(e,!1)}function Qt(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=y((function(t){e._backpressureChangePromise_resolve=t})),e._backpressure=t}var Zt=function(){function e(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!1===Jt(this))throw nn("desiredSize");return rt(this._controlledTransformStream._readable._readableStreamController)},enumerable:!0,configurable:!0}),e.prototype.enqueue=function(e){if(!1===Jt(this))throw nn("enqueue");en(this,e)},e.prototype.error=function(e){if(!1===Jt(this))throw nn("error");var t;t=e,Xt(this._controlledTransformStream,t)},e.prototype.terminate=function(){if(!1===Jt(this))throw nn("terminate");!function(e){var t=e._controlledTransformStream,n=t._readable._readableStreamController;!0===it(n)&&et(n);var r=new TypeError("TransformStream terminated");Kt(t,r)}(this)},e}();function Jt(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function $t(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function en(e,t){var n=e._controlledTransformStream,r=n._readable._readableStreamController;if(!1===it(r))throw new TypeError("Readable side is not in a state that permits enqueue");try{tt(r,t)}catch(e){throw Kt(n,e),n._readable._storedError}(function(e){return!0!==Je(e)})(r)!==n._backpressure&&Qt(n,!0)}function tn(e,t){return P(e._transformAlgorithm(t),void 0,(function(t){throw Xt(e._controlledTransformStream,t),t}))}function nn(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function rn(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}e.ByteLengthQueuingStrategy=Ht,e.CountQueuingStrategy=zt,e.ReadableStream=Nt,e.TransformStream=qt,e.WritableStream=ie,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){n(145),n(114),n(77),n(116);var r=n(43);e.exports=r.Map},function(e,t,n){"use strict";var r=n(146),i=n(150);e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},function(e,t,n){"use strict";var r=n(10),i=n(11),a=n(52),o=n(29),s=n(147),u=n(124),c=n(123),l=n(22),f=n(14),d=n(97),h=n(85),p=n(149);e.exports=function(e,t,n){var v=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),m=v?"set":"add",y=i[e],b=y&&y.prototype,_=y,w={},S=function(e){var t=b[e];o(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(a(e,"function"!=typeof y||!(g||b.forEach&&!f((function(){(new y).entries().next()})))))_=n.getConstructor(t,e,v,m),s.REQUIRED=!0;else if(a(e,!0)){var A=new _,C=A[m](g?{}:-0,1)!=A,P=f((function(){A.has(1)})),E=d((function(e){new y(e)})),T=!g&&f((function(){for(var e=new y,t=5;t--;)e[m](t,t);return!e.has(-0)}));E||((_=t((function(t,n){c(t,_,e);var r=p(new y,t,_);return null!=n&&u(n,r[m],r,v),r}))).prototype=b,b.constructor=_),(P||T)&&(S("delete"),S("has"),v&&S("get")),(T||C)&&S(m),g&&b.clear&&delete b.clear}return w[e]=_,r({global:!0,forced:_!=y},w),h(_,e),g||n.setStrong(_,e,v),_}},function(e,t,n){var r=n(39),i=n(22),a=n(23),o=n(27).f,s=n(38),u=n(148),c=s("meta"),l=0,f=Object.isExtensible||function(){return!0},d=function(e){o(e,c,{value:{objectID:"O"+ ++l,weakData:{}}})},h=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,c)){if(!f(e))return"F";if(!t)return"E";d(e)}return e[c].objectID},getWeakData:function(e,t){if(!a(e,c)){if(!f(e))return!0;if(!t)return!1;d(e)}return e[c].weakData},onFreeze:function(e){return u&&h.REQUIRED&&f(e)&&!a(e,c)&&d(e),e}};r[c]=!0},function(e,t,n){var r=n(14);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){var r=n(22),i=n(87);e.exports=function(e,t,n){var a,o;return i&&"function"==typeof(a=t.constructor)&&a!==n&&r(o=a.prototype)&&o!==n.prototype&&i(e,o),e}},function(e,t,n){"use strict";var r=n(27).f,i=n(71),a=n(121),o=n(62),s=n(123),u=n(124),c=n(79),l=n(122),f=n(13),d=n(147).fastKey,h=n(33),p=h.set,v=h.getterFor;e.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){s(e,l,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),null!=r&&u(r,e[c],e,n)})),h=v(t),g=function(e,t,n){var r,i,a=h(e),o=m(e,t);return o?o.value=n:(a.last=o={index:i=d(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),f?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},m=function(e,t){var n,r=h(e),i=d(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(l.prototype,{clear:function(){for(var e=h(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=h(this),n=m(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first==n&&(t.first=r),t.last==n&&(t.last=i),f?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=h(this),r=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!m(this,e)}}),a(l.prototype,n?{get:function(e){var t=m(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),f&&r(l.prototype,"size",{get:function(){return h(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",i=v(t),a=v(r);c(e,t,(function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},function(e,t,n){n(152),n(114),n(77),n(116);var r=n(43);e.exports=r.Set},function(e,t,n){"use strict";var r=n(146),i=n(150);e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},function(e,t,n){n(114),n(154),n(116);var r=n(43);e.exports=r.WeakMap},function(e,t,n){"use strict";var r,i=n(11),a=n(121),o=n(147),s=n(146),u=n(155),c=n(22),l=n(33).enforce,f=n(34),d=!i.ActiveXObject&&"ActiveXObject"in i,h=Object.isExtensible,p=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},v=e.exports=s("WeakMap",p,u);if(f&&d){r=u.getConstructor(p,"WeakMap",!0),o.REQUIRED=!0;var g=v.prototype,m=g.delete,y=g.has,b=g.get,_=g.set;a(g,{delete:function(e){if(c(e)&&!h(e)){var t=l(this);return t.frozen||(t.frozen=new r),m.call(this,e)||t.frozen.delete(e)}return m.call(this,e)},has:function(e){if(c(e)&&!h(e)){var t=l(this);return t.frozen||(t.frozen=new r),y.call(this,e)||t.frozen.has(e)}return y.call(this,e)},get:function(e){if(c(e)&&!h(e)){var t=l(this);return t.frozen||(t.frozen=new r),y.call(this,e)?b.call(this,e):t.frozen.get(e)}return b.call(this,e)},set:function(e,t){if(c(e)&&!h(e)){var n=l(this);n.frozen||(n.frozen=new r),y.call(this,e)?_.call(this,e,t):n.frozen.set(e,t)}else _.call(this,e,t);return this}})}},function(e,t,n){"use strict";var r=n(121),i=n(147).getWeakData,a=n(28),o=n(22),s=n(123),u=n(124),c=n(156),l=n(23),f=n(33),d=f.set,h=f.getterFor,p=c.find,v=c.findIndex,g=0,m=function(e){return e.frozen||(e.frozen=new y)},y=function(){this.entries=[]},b=function(e,t){return p(e.entries,(function(e){return e[0]===t}))};y.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=v(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,c){var f=e((function(e,r){s(e,f,t),d(e,{type:t,id:g++,frozen:void 0}),null!=r&&u(r,e[c],e,n)})),p=h(t),v=function(e,t,n){var r=p(e),o=i(a(t),!0);return!0===o?m(r).set(t,n):o[r.id]=n,e};return r(f.prototype,{delete:function(e){var t=p(this);if(!o(e))return!1;var n=i(e);return!0===n?m(t).delete(e):n&&l(n,t.id)&&delete n[t.id]},has:function(e){var t=p(this);if(!o(e))return!1;var n=i(e);return!0===n?m(t).has(e):n&&l(n,t.id)}}),r(f.prototype,n?{get:function(e){var t=p(this);if(o(e)){var n=i(e);return!0===n?m(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return v(this,e,t)}}:{add:function(e){return v(this,e,!0)}}),f}}},function(e,t,n){var r=n(62),i=n(18),a=n(83),o=n(47),s=n(157),u=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f;return function(h,p,v,g){for(var m,y,b=a(h),_=i(b),w=r(p,v,3),S=o(_.length),A=0,C=g||s,P=t?C(h,S):n?C(h,0):void 0;S>A;A++)if((d||A in _)&&(y=w(m=_[A],A,b),e))if(t)P[A]=y;else if(y)switch(e){case 3:return!0;case 5:return m;case 6:return A;case 2:u.call(P,m)}else if(l)return!1;return f?-1:c||l?l:P}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,n){var r=n(22),i=n(158),a=n(57)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(19);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){n(114),n(160),n(116);var r=n(43);e.exports=r.WeakSet},function(e,t,n){"use strict";n(146)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(155))},function(e,t,n){n(162);var r=n(61);e.exports=r("String","codePointAt")},function(e,t,n){"use strict";var r=n(10),i=n(78).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},function(e,t,n){n(164);var r=n(43);e.exports=r.String.fromCodePoint},function(e,t,n){var r=n(10),i=n(49),a=String.fromCharCode,o=String.fromCodePoint;r({target:"String",stat:!0,forced:!!o&&1!=o.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,o=0;r>o;){if(t=+arguments[o++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){n(166),n(114),n(168),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187);var r=n(43);e.exports=r.Symbol},function(e,t,n){"use strict";var r=n(10),i=n(14),a=n(158),o=n(22),s=n(83),u=n(47),c=n(93),l=n(157),f=n(167),d=n(57),h=n(133),p=d("isConcatSpreadable"),v=h>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),g=f("concat"),m=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,forced:!v||!g},{concat:function(e){var t,n,r,i,a,o=s(this),f=l(o,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(m(a=-1===t?o:arguments[t])){if(d+(i=u(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,d++)n in a&&c(f,d,a[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(f,d++,a)}return f.length=d,f}})},function(e,t,n){var r=n(14),i=n(57),a=n(133),o=i("species");e.exports=function(e){return a>=51||!r((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){"use strict";var r=n(10),i=n(11),a=n(42),o=n(37),s=n(13),u=n(58),c=n(59),l=n(14),f=n(23),d=n(158),h=n(22),p=n(28),v=n(83),g=n(17),m=n(21),y=n(16),b=n(71),_=n(73),w=n(44),S=n(169),A=n(51),C=n(12),P=n(27),E=n(15),T=n(26),x=n(29),k=n(36),O=n(35),R=n(39),M=n(38),L=n(57),I=n(170),N=n(171),D=n(85),F=n(33),B=n(156).forEach,j=O("hidden"),U=L("toPrimitive"),V=F.set,W=F.getterFor("Symbol"),G=Object.prototype,H=i.Symbol,z=a("JSON","stringify"),q=C.f,Y=P.f,X=S.f,K=E.f,Q=k("symbols"),Z=k("op-symbols"),J=k("string-to-symbol-registry"),$=k("symbol-to-string-registry"),ee=k("wks"),te=i.QObject,ne=!te||!te.prototype||!te.prototype.findChild,re=s&&l((function(){return 7!=b(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=q(G,t);r&&delete G[t],Y(e,t,n),r&&e!==G&&Y(G,t,r)}:Y,ie=function(e,t){var n=Q[e]=b(H.prototype);return V(n,{type:"Symbol",tag:e,description:t}),s||(n.description=t),n},ae=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof H},oe=function(e,t,n){e===G&&oe(Z,t,n),p(e);var r=m(t,!0);return p(n),f(Q,r)?(n.enumerable?(f(e,j)&&e[j][r]&&(e[j][r]=!1),n=b(n,{enumerable:y(0,!1)})):(f(e,j)||Y(e,j,y(1,{})),e[j][r]=!0),re(e,r,n)):Y(e,r,n)},se=function(e,t){p(e);var n=g(t),r=_(n).concat(fe(n));return B(r,(function(t){s&&!ue.call(n,t)||oe(e,t,n[t])})),e},ue=function(e){var t=m(e,!0),n=K.call(this,t);return!(this===G&&f(Q,t)&&!f(Z,t))&&(!(n||!f(this,t)||!f(Q,t)||f(this,j)&&this[j][t])||n)},ce=function(e,t){var n=g(e),r=m(t,!0);if(n!==G||!f(Q,r)||f(Z,r)){var i=q(n,r);return!i||!f(Q,r)||f(n,j)&&n[j][r]||(i.enumerable=!0),i}},le=function(e){var t=X(g(e)),n=[];return B(t,(function(e){f(Q,e)||f(R,e)||n.push(e)})),n},fe=function(e){var t=e===G,n=X(t?Z:g(e)),r=[];return B(n,(function(e){!f(Q,e)||t&&!f(G,e)||r.push(Q[e])})),r};(u||(x((H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=M(e),n=function(e){this===G&&n.call(Z,e),f(this,j)&&f(this[j],t)&&(this[j][t]=!1),re(this,t,y(1,e))};return s&&ne&&re(G,t,{configurable:!0,set:n}),ie(t,e)}).prototype,"toString",(function(){return W(this).tag})),x(H,"withoutSetter",(function(e){return ie(M(e),e)})),E.f=ue,P.f=oe,C.f=ce,w.f=S.f=le,A.f=fe,I.f=function(e){return ie(L(e),e)},s&&(Y(H.prototype,"description",{configurable:!0,get:function(){return W(this).description}}),o||x(G,"propertyIsEnumerable",ue,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:H}),B(_(ee),(function(e){N(e)})),r({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=String(e);if(f(J,t))return J[t];var n=H(t);return J[t]=n,$[n]=t,n},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(f($,e))return $[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(e,t){return void 0===t?b(e):se(b(e),t)},defineProperty:oe,defineProperties:se,getOwnPropertyDescriptor:ce}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:le,getOwnPropertySymbols:fe}),r({target:"Object",stat:!0,forced:l((function(){A.f(1)}))},{getOwnPropertySymbols:function(e){return A.f(v(e))}}),z)&&r({target:"JSON",stat:!0,forced:!u||l((function(){var e=H();return"[null]"!=z([e])||"{}"!=z({a:e})||"{}"!=z(Object(e))}))},{stringify:function(e,t,n){for(var r,i=[e],a=1;arguments.length>a;)i.push(arguments[a++]);if(r=t,(h(t)||void 0!==e)&&!ae(e))return d(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ae(t))return t}),i[1]=t,z.apply(null,i)}});H.prototype[U]||T(H.prototype,U,H.prototype.valueOf),D(H,"Symbol"),R[j]=!0},function(e,t,n){var r=n(17),i=n(44).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(57);t.f=r},function(e,t,n){var r=n(43),i=n(23),a=n(170),o=n(27).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},function(e,t,n){n(171)("asyncIterator")},function(e,t,n){"use strict";var r=n(10),i=n(13),a=n(11),o=n(23),s=n(22),u=n(27).f,c=n(40),l=a.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new l(e):void 0===e?l():l(e);return""===e&&(f[t]=!0),t};c(d,l);var h=d.prototype=l.prototype;h.constructor=d;var p=h.toString,v="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;u(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(o(f,e))return"";var n=v?t.slice(7,-1):t.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},function(e,t,n){n(171)("hasInstance")},function(e,t,n){n(171)("isConcatSpreadable")},function(e,t,n){n(171)("iterator")},function(e,t,n){n(171)("match")},function(e,t,n){n(171)("matchAll")},function(e,t,n){n(171)("replace")},function(e,t,n){n(171)("search")},function(e,t,n){n(171)("species")},function(e,t,n){n(171)("split")},function(e,t,n){n(171)("toPrimitive")},function(e,t,n){n(171)("toStringTag")},function(e,t,n){n(171)("unscopables")},function(e,t,n){n(85)(Math,"Math",!0)},function(e,t,n){var r=n(11);n(85)(r.JSON,"JSON",!0)},function(e,t,n){n(189);var r=n(61);e.exports=r("String","padStart")},function(e,t,n){"use strict";var r=n(10),i=n(190).start;r({target:"String",proto:!0,forced:n(192)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(47),i=n(191),a=n(20),o=Math.ceil,s=function(e){return function(t,n,s){var u,c,l=String(a(t)),f=l.length,d=void 0===s?" ":String(s),h=r(n);return h<=f||""==d?l:(u=h-f,(c=i.call(d,o(u/d.length))).length>u&&(c=c.slice(0,u)),e?l+c:c+l)}};e.exports={start:s(!1),end:s(!0)}},function(e,t,n){"use strict";var r=n(48),i=n(20);e.exports="".repeat||function(e){var t=String(i(this)),n="",a=r(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},function(e,t,n){var r=n(127);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},function(e,t,n){n(194);var r=n(61);e.exports=r("String","padEnd")},function(e,t,n){"use strict";var r=n(10),i=n(190).end;r({target:"String",proto:!0,forced:n(192)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){n(196);var r=n(43);e.exports=r.Object.values},function(e,t,n){var r=n(10),i=n(197).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},function(e,t,n){var r=n(13),i=n(73),a=n(17),o=n(15).f,s=function(e){return function(t){for(var n,s=a(t),u=i(s),c=u.length,l=0,f=[];c>l;)n=u[l++],r&&!o.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}};e.exports={entries:s(!0),values:s(!1)}},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(199),_api_compatibility=__w_pdfjs_require__(200),_canvas=__w_pdfjs_require__(201),_worker_options=__w_pdfjs_require__(203),_is_node=__w_pdfjs_require__(7),_message_handler=__w_pdfjs_require__(204),_metadata=__w_pdfjs_require__(205),_transport_stream=__w_pdfjs_require__(206),_webgl=__w_pdfjs_require__(207),_custom_utils=__w_pdfjs_require__(208);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function asyncGeneratorStep(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){asyncGeneratorStep(a,r,i,o,s,"next",e)}function s(e){asyncGeneratorStep(a,r,i,o,s,"throw",e)}o(void 0)}))}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){var t,n=new PDFDocumentLoadingTask;if("string"==typeof e)t={url:e};else if((0,_util.isArrayBuffer)(e))t={data:e};else if(e instanceof PDFDataRangeTransport)t={range:e};else{if("object"!==_typeof(e))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=e}var r=Object.create(null),i=null,a=null;for(var o in t)if("url"!==o||"undefined"==typeof window)if("range"!==o)if("worker"!==o)if("data"!==o||t[o]instanceof Uint8Array)r[o]=t[o];else{var s=t[o];if("string"==typeof s)r[o]=(0,_util.stringToBytes)(s);else if("object"!==_typeof(s)||null===s||isNaN(s.length)){if(!(0,_util.isArrayBuffer)(s))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");r[o]=new Uint8Array(s)}else r[o]=new Uint8Array(s)}else a=t[o];else i=t[o];else r[o]=new URL(t[o],window.location).href;if(r.rangeChunkSize=r.rangeChunkSize||window.initialData.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,r.CMapReaderFactory=r.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,Number.isInteger(r.maxImageSize)||(r.maxImageSize=-1),r.isEvalSupported=!1,"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!a){var u={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};a=u.port?PDFWorker.fromPort(u):new PDFWorker(u),n._worker=a}var c=n.docId;return a.promise.then((function(){if(n.destroyed)throw new Error("Loading aborted");var e=_fetchDocument(a,r,i,c),t=new Promise((function(e){var t;i?t=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,disableRange:r.disableRange,disableStream:r.disableStream},i):r.data||(t=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),e(t)}));return Promise.all([e,t]).then((function(e){var t=_slicedToArray(e,2),i=t[0],o=t[1];if(n.destroyed)throw new Error("Loading aborted");var s=new _message_handler.MessageHandler(c,i,a.port);s.postMessageTransfers=a.postMessageTransfers;var u=new WorkerTransport(s,n,o,r);n._transport=u,s.send("Ready",null)}))})).catch(n._capability.reject),n}function _fetchDocument(e,t,n,r){return e.destroyed?Promise.reject(new Error("Worker was destroyed")):(n&&(t.length=n.length,t.initialData=n.initialData,t.progressiveDone=n.progressiveDone),e.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.9.0",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties}).then((function(t){if(e.destroyed)throw new Error("Worker was destroyed");return t})))}var PDFDocumentLoadingTask=(nextDocumentId=0,function(){function e(){_classCallCheck(this,e),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+nextDocumentId++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(e,[{key:"destroy",value:function(){var e=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then((function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)}))}},{key:"promise",get:function(){return this._capability.promise}}]),e}()),nextDocumentId,PDFDataRangeTransport=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.length=t,this.initialData=n,this.progressiveDone=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(e,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(e,t){var n,r=_createForOfIteratorHelper(this._rangeListeners);try{for(r.s();!(n=r.n()).done;){(0,n.value)(e,t)}}catch(e){r.e(e)}finally{r.f()}}},{key:"onDataProgress",value:function(e,t){var n=this;this._readyCapability.promise.then((function(){var r,i=_createForOfIteratorHelper(n._progressListeners);try{for(i.s();!(r=i.n()).done;){(0,r.value)(e,t)}}catch(e){i.e(e)}finally{i.f()}}))}},{key:"onDataProgressiveRead",value:function(e){var t=this;this._readyCapability.promise.then((function(){var n,r=_createForOfIteratorHelper(t._progressiveReadListeners);try{for(r.s();!(n=r.n()).done;){(0,n.value)(e)}}catch(e){r.e(e)}finally{r.f()}}))}},{key:"onDataProgressiveDone",value:function(){var e=this;this._readyCapability.promise.then((function(){var t,n=_createForOfIteratorHelper(e._progressiveDoneListeners);try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(e){n.e(e)}finally{n.f()}}))}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),e}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function e(t,n){_classCallCheck(this,e),this._pdfInfo=t,this._transport=n}return _createClass(e,[{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){return this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]),e}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,e),this._pageIndex=t,this._pageInfo=n,this._transport=r,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return _createClass(e,[{key:"getViewport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,n=e.rotation,r=void 0===n?this.rotate:n,i=e.offsetX,a=void 0===i?0:i,o=e.offsetY,s=void 0===o?0:o,u=e.dontFlip,c=void 0!==u&&u;return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:r,offsetX:a,offsetY:s,dontFlip:c})}},{key:"getAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intent,n=void 0===t?null:t;return this.annotationsPromise&&this.annotationsIntent===n||(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,n),this.annotationsIntent=n),this.annotationsPromise}},{key:"render",value:function(e){var t=this,n=e.canvasContext,r=e.viewport,i=e.intent,a=void 0===i?"display":i,o=e.enableWebGL,s=void 0!==o&&o,u=e.renderInteractiveForms,c=void 0!==u&&u,l=e.transform,f=void 0===l?null:l,d=e.imageLayer,h=void 0===d?null:d,p=e.canvasFactory,v=void 0===p?null:p,g=e.background,m=void 0===g?null:g;this._stats&&this._stats.time("Overall");var y="print"===a?"print":"display";this.pendingCleanup=!1,this.intentStates[y]||(this.intentStates[y]=Object.create(null));var b=this.intentStates[y];b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);var _=v||new _display_utils.DOMCanvasFactory,w=new _webgl.WebGLContext({enable:s});b.displayReadyCapability||(b.displayReadyCapability=(0,_util.createPromiseCapability)(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:y,renderInteractiveForms:!0===c}));var S=function(e){var n=b.renderTasks.indexOf(A);n>=0&&b.renderTasks.splice(n,1),(t.cleanupAfterRender||"print"===y)&&(t.pendingCleanup=!0),t._tryCleanup(),e?(A.capability.reject(e),t._abortOperatorList({intentState:b,reason:e})):A.capability.resolve(),t._stats&&(t._stats.timeEnd("Rendering"),t._stats.timeEnd("Overall"))},A=new InternalRenderTask({callback:S,params:{canvasContext:n,viewport:r,transform:f,imageLayer:h,background:m},objs:this.objs,commonObjs:this.commonObjs,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:_,webGLContext:w,useRequestAnimationFrame:"print"!==y,pdfBug:this._pdfBug});b.renderTasks||(b.renderTasks=[]),b.renderTasks.push(A);var C=A.task;return b.displayReadyCapability.promise.then((function(e){t.pendingCleanup?S():(t._stats&&t._stats.time("Rendering"),A.initializeGraphics(e),A.operatorListChanged())})).catch(S),C}},{key:"getOperatorList",value:function(){this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var e,t=this.intentStates.oplist;return t.opListReadCapability||((e={}).operatorListChanged=function(){if(t.operatorList.lastChunk){t.opListReadCapability.resolve(t.operatorList);var n=t.renderTasks.indexOf(e);n>=0&&t.renderTasks.splice(n,1)}},t.opListReadCapability=(0,_util.createPromiseCapability)(),t.renderTasks=[],t.renderTasks.push(e),t.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:"oplist"})),t.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.normalizeWhitespace,n=void 0!==t&&t,r=e.disableCombineTextItems,i=void 0!==r&&r,a=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===n,combineTextItems:!0!==i},{highWaterMark:a,size:function(e){return e.items.length}})}},{key:"getTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.streamTextContent(e);return new Promise((function(e,n){var r=t.getReader(),i={items:[],styles:Object.create(null)};!function t(){r.read().then((function(n){var r,a=n.value;n.done?e(i):(Object.assign(i.styles,a.styles),(r=i.items).push.apply(r,_toConsumableArray(a.items)),t())}),n)}()}))}},{key:"_destroy",value:function(){var e=this;this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var t=[];return Object.keys(this.intentStates).forEach((function(n){var r=e.intentStates[n];e._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==n&&r.renderTasks.forEach((function(e){var n=e.capability.promise.catch((function(){}));t.push(n),e.cancel()}))})),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(t)}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}},{key:"_tryCleanup",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(!this.pendingCleanup||Object.keys(this.intentStates).some((function(t){var n=e.intentStates[t];return 0!==n.renderTasks.length||!n.operatorList.lastChunk})))&&(Object.keys(this.intentStates).forEach((function(t){delete e.intentStates[t]})),this.objs.clear(),this.annotationsPromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0)}},{key:"_startRenderPage",value:function(e,t){var n=this.intentStates[t];n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(e))}},{key:"_renderPageChunk",value:function(e,t){for(var n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk;for(var i=0;i<t.renderTasks.length;i++)t.renderTasks[i].operatorListChanged();e.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(e){var t=this;(0,_util.assert)(e.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var n=this._transport.messageHandler.sendWithStream("GetOperatorList",e).getReader(),r=this.intentStates[e.intent];r.streamReader=n;!function e(){n.read().then((function(n){var i=n.value;n.done?r.streamReader=null:t._transport.destroyed||(t._renderPageChunk(i,r),e())}),(function(e){if(r.streamReader=null,!t._transport.destroyed){if(r.operatorList){r.operatorList.lastChunk=!0;for(var n=0;n<r.renderTasks.length;n++)r.renderTasks[n].operatorListChanged();t._tryCleanup()}if(r.displayReadyCapability)r.displayReadyCapability.reject(e);else{if(!r.opListReadCapability)throw e;r.opListReadCapability.reject(e)}}}))}()}},{key:"_abortOperatorList",value:function(e){var t=this,n=e.intentState,r=e.reason,i=e.force,a=void 0!==i&&i;if((0,_util.assert)(r instanceof Error||"object"===_typeof(r)&&null!==r,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),n.streamReader){if(!a){if(0!==n.renderTasks.length)return;if(r instanceof _display_utils.RenderingCancelledException)return void(n.streamReaderCancelTimeout=setTimeout((function(){t._abortOperatorList({intentState:n,reason:r,force:!0}),n.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}n.streamReader.cancel(new _util.AbortException(r&&r.message)),n.streamReader=null,this._transport.destroyed||(Object.keys(this.intentStates).some((function(e){return t.intentStates[e]===n&&(delete t.intentStates[e],!0)})),this.cleanup())}}},{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats}}]),e}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,e),this._listeners=[],this._defer=t,this._deferred=Promise.resolve(void 0)}return _createClass(e,[{key:"postMessage",value:function(e,t){var n=this;if(this._defer){var r=new WeakMap,i={data:function e(n){if("object"!==_typeof(n)||null===n)return n;if(r.has(n))return r.get(n);var i,a;if((i=n.buffer)&&(0,_util.isArrayBuffer)(i))return a=t&&t.includes(i)?new n.constructor(i,n.byteOffset,n.byteLength):new n.constructor(n),r.set(n,a),a;for(var o in a=Array.isArray(n)?[]:{},r.set(n,a),n){for(var s=void 0,u=n;!(s=Object.getOwnPropertyDescriptor(u,o));)u=Object.getPrototypeOf(u);if(void 0!==s.value)if("function"!=typeof s.value)a[o]=e(s.value);else if(n.hasOwnProperty&&n.hasOwnProperty(o))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(n[o]))}return a}(e)};this._deferred.then((function(){n._listeners.forEach((function(e){e.call(n,i)}))}))}else this._listeners.forEach((function(t){t.call(n,{data:e})}))}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){var n=this._listeners.indexOf(t);this._listeners.splice(n,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),e}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS&&"function"==typeof require)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"===("undefined"==typeof document?"undefined":_typeof(document))&&"currentScript"in document){var pdfjsFilePath=document.currentScript&&document.currentScript.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var e;try{e=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch(e){}return e||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref10=_asyncToGenerator(_regenerator.default.mark((function _callee(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),!mainWorkerMessageHandler){_context.next=3;break}return _context.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS||"function"!=typeof require){_context.next=6;break}return worker=eval("require")(_getWorkerSrc()),_context.abrupt("return",worker.WorkerMessageHandler);case 6:return _context.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context.stop()}}),_callee)})));return function(){return _ref10.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(e){var t="importScripts('"+e+"');";return URL.createObjectURL(new Blob([t]))}var PDFWorker=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,r=void 0===n?null:n,i=t.port,a=void 0===i?null:i,o=t.verbosity,s=void 0===o?(0,_util.getVerbosityLevel)():o;if(_classCallCheck(this,e),a&&pdfWorkerPorts.has(a))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=r,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=s,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return pdfWorkerPorts.set(a,this),void this._initializeFromPort(a);this._initialize()}return _createClass(e,[{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var e=this;if(window.initialData&&window.initialData.isCCMOffline)this._setupFakeWorker();else{if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var t=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,t)||(t=createCDNWrapper(new URL(t,window.location).href));var n=new Worker(t),r=new _message_handler.MessageHandler("main","worker",n),i=function(){n.removeEventListener("error",a),r.destroy(),n.terminate(),e.destroyed?e._readyCapability.reject(new Error("Worker was destroyed")):e._setupFakeWorker()},a=function(){e._webWorker||i()};n.addEventListener("error",a),r.on("test",(function(t){n.removeEventListener("error",a),e.destroyed?i():t?(e._messageHandler=r,e._port=n,e._webWorker=n,t.supportTransfers||(e.postMessageTransfers=!1),e._readyCapability.resolve(),r.send("configure",{verbosity:e.verbosity})):(e._setupFakeWorker(),r.destroy(),n.terminate())})),r.on("ready",(function(t){if(n.removeEventListener("error",a),e.destroyed)i();else try{o(),r.send("showDigitalSign",{visible:(0,_custom_utils.shouldShowDigitalSign)()})}catch(t){e._setupFakeWorker()}}));var o=function(){var t=new Uint8Array([e.postMessageTransfers?255:0]);try{r.send("test",t,[t.buffer])}catch(e){(0,_util.warn)("Cannot use postMessage transfers."),t[0]=0,r.send("test",t)}};return void o()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}}},{key:"_setupFakeWorker",value:function(){var e=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then((function(t){if(e.destroyed)e._readyCapability.reject(new Error("Worker was destroyed"));else{var n=new LoopbackPort;e._port=n;var r="fake"+nextFakeWorkerId++,i=new _message_handler.MessageHandler(r+"_worker",r,n);t.setup(i,n);var a=new _message_handler.MessageHandler(r,r+"_worker",n);e._messageHandler=a,e._readyCapability.resolve(),a.send("configure",{verbosity:e.verbosity})}})).catch((function(t){e._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))}))}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(t){if(!t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(t.port)?pdfWorkerPorts.get(t.port):new e(t)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),e}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function e(t,n,r,i){_classCallCheck(this,e),this.messageHandler=t,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:n.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=i,this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(e,[{key:"destroy",value:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t=[];this.pageCache.forEach((function(e){e&&t.push(e._destroy())})),this.pageCache.length=0,this.pagePromises.length=0;var n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then((function(){e.fontLoader.clear(),e._networkStream&&e._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var e=this,t=this.messageHandler,n=this.loadingTask;t.on("GetReader",(function(t,n){(0,_util.assert)(e._networkStream,"GetReader - no `IPDFStream` instance available."),e._fullReader=e._networkStream.getFullReader(),e._fullReader.onProgress=function(t){e._lastProgress={loaded:t.loaded,total:t.total}},n.onPull=function(){e._fullReader.read().then((function(e){var t=e.value;e.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t]))})).catch((function(e){n.error(e)}))},n.onCancel=function(t){e._fullReader.cancel(t)}})),t.on("ReaderHeadersReady",(function(t){var r=(0,_util.createPromiseCapability)(),i=e._fullReader;return i.headersReady.then((function(){i.isStreamingSupported&&i.isRangeSupported||(e._lastProgress&&n.onProgress&&n.onProgress(e._lastProgress),i.onProgress=function(e){n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}),r.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),r.reject),r.promise})),t.on("GetRangeReader",(function(t,n){(0,_util.assert)(e._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var r=e._networkStream.getRangeReader(t.begin,t.end);r?(n.onPull=function(){r.read().then((function(e){var t=e.value;e.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t]))})).catch((function(e){n.error(e)}))},n.onCancel=function(e){r.cancel(e)}):n.close()})),t.on("GetDoc",(function(t){var r=t.pdfInfo;e._numPages=r.numPages,n._capability.resolve(new PDFDocumentProxy(r,e))})),t.on("DocException",(function(e){var t;switch(e.name){case"PasswordException":t=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":t=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":t=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":t=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":t=new _util.UnknownErrorException(e.message,e.details)}n._capability.reject(t)})),t.on("PasswordRequest",(function(t){if(e._passwordCapability=(0,_util.createPromiseCapability)(),n.onPassword){try{n.onPassword((function(t){e._passwordCapability.resolve({password:t})}),t.code)}catch(t){e._passwordCapability.reject(t)}}else e._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return e._passwordCapability.promise})),t.on("DataLoaded",(function(t){n.onProgress&&n.onProgress({loaded:t.length,total:t.length}),e.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(function(t){e.destroyed||e.pageCache[t.pageIndex]._startRenderPage(t.transparency,t.intent)})),t.on("commonobj",(function(n){if(!e.destroyed){var r=_slicedToArray(n,3),i=r[0],a=r[1],o=r[2];if(!e.commonObjs.has(i))switch(a){case"Font":var s=e._params;if("error"in o){var u=o.error;(0,_util.warn)("Error during font loading: ".concat(u)),e.commonObjs.resolve(i,u);break}var c=null;s.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(c={registerFont:function(e,t){globalThis.FontInspector.fontAdded(e,t)}});var l=new _font_loader.FontFaceObject(o,{isEvalSupported:s.isEvalSupported,disableFontFace:s.disableFontFace,ignoreErrors:s.ignoreErrors,onUnsupportedFeature:e._onUnsupportedFeature.bind(e),fontRegistry:c});e.fontLoader.bind(l).catch((function(e){return t.sendWithPromise("FontFallback",{id:i})})).finally((function(){!s.fontExtraProperties&&l.data&&(l.data=null),e.commonObjs.resolve(i,l)}));break;case"FontPath":case"FontType3Res":case"Image":e.commonObjs.resolve(i,o);break;default:throw new Error("Got unknown common object type ".concat(a))}}})),t.on("obj",(function(t){if(!e.destroyed){var n=_slicedToArray(t,4),r=n[0],i=n[1],a=n[2],o=n[3],s=e.pageCache[i];if(!s.objs.has(r))switch(a){case"Image":s.objs.resolve(r,o);o&&"data"in o&&o.data.length>8e6&&(s.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type ".concat(a))}}})),t.on("DocProgress",(function(t){e.destroyed||n.onProgress&&n.onProgress({loaded:t.loaded,total:t.total})})),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",(function(t,n){if(e.destroyed)n.error(new Error("Worker was destroyed"));else{var r=!1;n.onPull=function(){r?n.close():(r=!0,e.CMapReaderFactory.fetch(t).then((function(e){n.enqueue(e,1,[e.cMapData.buffer])})).catch((function(e){n.error(e)})))}}}))}},{key:"_onUnsupportedFeature",value:function(e){var t=e.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(t)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(e){var t=this;if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request"));var n=e-1;if(n in this.pagePromises)return this.pagePromises[n];var r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then((function(e){if(t.destroyed)throw new Error("Transport destroyed");var r=new PDFPageProxy(n,e,t,t._params.pdfBug);return t.pageCache[n]=r,r}));return this.pagePromises[n]=r,r}},{key:"getPageIndex",value:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch((function(e){return Promise.reject(new Error(e))}))}},{key:"getAnnotations",value:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var e=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then((function(t){return{info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:e._fullReader?e._fullReader.filename:null,contentLength:e._fullReader?e._fullReader.contentLength:null}}))}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var e=this;return this.messageHandler.sendWithPromise("Cleanup",null).then((function(){for(var t=0,n=e.pageCache.length;t<n;t++){var r=e.pageCache[t];if(r)if(!r.cleanup())throw new Error("startCleanup: Page ".concat(t+1," is currently rendering."))}e.commonObjs.clear(),e.fontLoader.clear()}))}},{key:"loadingParams",get:function(){var e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,disableFontFace:e.disableFontFace})}}]),e}(),PDFObjects=function(){function e(){_classCallCheck(this,e),this._objs=Object.create(null)}return _createClass(e,[{key:"_ensureObj",value:function(e){return this._objs[e]?this._objs[e]:this._objs[e]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)return this._ensureObj(e).capability.promise.then(t),null;var n=this._objs[e];if(!n||!n.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}},{key:"has",value:function(e){var t=this._objs[e];return!!t&&t.resolved}},{key:"resolve",value:function(e,t){var n=this._ensureObj(e);n.resolved=!0,n.data=t,n.capability.resolve(t)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),e}(),RenderTask=function(){function e(t){_classCallCheck(this,e),this._internalRenderTask=t,this.onContinue=null}return _createClass(e,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]),e}(),InternalRenderTask=(canvasInRendering=new WeakSet,function(){function e(t){var n=t.callback,r=t.params,i=t.objs,a=t.commonObjs,o=t.operatorList,s=t.pageIndex,u=t.canvasFactory,c=t.webGLContext,l=t.useRequestAnimationFrame,f=void 0!==l&&l,d=t.pdfBug,h=void 0!==d&&d;_classCallCheck(this,e),this.callback=n,this.params=r,this.objs=i,this.commonObjs=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=s,this.canvasFactory=u,this.webGLContext=c,this._pdfBug=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===f&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}var t;return _createClass(e,[{key:"initializeGraphics",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.cancelled){if(this._canvas){if(canvasInRendering.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");canvasInRendering.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var t=this.params,n=t.canvasContext,r=t.viewport,i=t.transform,a=t.imageLayer,o=t.background;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&canvasInRendering.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var e=this;this._useRequestAnimationFrame?window.requestAnimationFrame((function(){e._nextBound().catch(e.cancel.bind(e))})):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},{key:"_next",value:(t=_asyncToGenerator(_regenerator.default.mark((function e(){return _regenerator.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cancelled){e.next=2;break}return e.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&canvasInRendering.delete(this._canvas),this.callback()));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()),canvasInRendering,version="2.9.0";exports.version=version;var build="9694381";exports.build=build},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(5);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var v,g=function(){function e(t){var n=t.docId,r=t.onUnsupportedFeature;d(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize BaseFontLoader."),this.docId=n,this._onUnsupportedFeature=r,this.nativeFontFaces=[],this.styleElement=null}var t,n;return p(e,[{key:"addNativeFontFace",value:function(e){this.nativeFontFaces.push(e),document.fonts.add(e)}},{key:"insertRule",value:function(e){var t=this.styleElement;t||((t=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),document.documentElement.getElementsByTagName("head")[0].appendChild(t));var n=t.sheet;n.insertRule(e,n.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach((function(e){document.fonts.delete(e)})),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(t=i.default.mark((function e(t){var n,r,o=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.attached&&!t.missingFile){e.next=2;break}return e.abrupt("return");case 2:if(t.attached=!0,!this.isFontLoadingAPISupported){e.next=19;break}if(!(n=t.createNativeFontFace())){e.next=18;break}return this.addNativeFontFace(n),e.prev=7,e.next=10,n.loaded;case 10:e.next=18;break;case 12:throw e.prev=12,e.t0=e.catch(7),this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,a.warn)("Failed to load font '".concat(n.family,"': '").concat(e.t0,"'.")),t.disableFontFace=!0,e.t0;case 18:return e.abrupt("return");case 19:if(!(r=t.createFontFaceRule())){e.next=26;break}if(this.insertRule(r),!this.isSyncFontLoadingSupported){e.next=24;break}return e.abrupt("return");case 24:return e.next=26,new Promise((function(e){var n=o._queueLoadingCallback(e);o._prepareFontLoadEvent([r],[t],n)}));case 26:case"end":return e.stop()}}),e,this,[[7,12]])})),n=function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(e){f(a,r,i,o,s,"next",e)}function s(e){f(a,r,i,o,s,"throw",e)}o(void 0)}))},function(e){return n.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(e){(0,a.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(e,t,n){(0,a.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){var e="undefined"!=typeof document&&!!document.fonts;return(0,a.shadow)(this,"isFontLoadingAPISupported",e)}},{key:"isSyncFontLoadingSupported",get:function(){(0,a.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,a.unreachable)("Abstract method `_loadTestFont`.")}}]),e}();t.FontLoader=v,t.FontLoader=v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,e);var t=u(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).loadingContext={requests:[],nextRequestId:0},r.loadTestFontId=0,r}return p(n,[{key:"_queueLoadingCallback",value:function(e){var t=this.loadingContext,n={id:"pdfjs-font-loading-".concat(t.nextRequestId++),done:!1,complete:function(){for((0,a.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.requests.length>0&&t.requests[0].done;){var e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(n),n}},{key:"_prepareFontLoadEvent",value:function(e,t,n){function r(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}var o,s,u=document.createElement("canvas");u.width=1,u.height=1;var c=u.getContext("2d"),l=0;var f="lt".concat(Date.now()).concat(this.loadTestFontId++),d=this._loadTestFont,h=r(d=i(d,976,f.length,f),16);for(o=0,s=f.length-3;o<s;o+=4)h=h-1482184792+r(f,o)|0;o<f.length&&(h=h-1482184792+r(f+"XXX",o)|0),d=i(d,16,4,(0,a.string32)(h));var p="url(data:font/opentype;base64,".concat(btoa(d),");"),v='@font-face {font-family:"'.concat(f,'";src:').concat(p,"}");this.insertRule(v);var g=[];for(o=0,s=t.length;o<s;o++)g.push(t[o].loadedName);g.push(f);var m=document.createElement("div");for(m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px",o=0,s=g.length;o<s;++o){var y=document.createElement("span");y.textContent="Hi",y.style.fontFamily=g[o],m.appendChild(y)}document.body.appendChild(m),function e(t,n){if(++l>30)return(0,a.warn)("Load test font never loaded."),void n();c.font="30px "+t,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(f,(function(){document.body.removeChild(m),n.complete()}))}},{key:"isSyncFontLoadingSupported",get:function(){var e=!1;if("undefined"==typeof navigator)e=!0;else{var t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);t&&t[1]>=14&&(e=!0)}return(0,a.shadow)(this,"isSyncFontLoadingSupported",e)}},{key:"_loadTestFont",get:function(){return(0,a.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]),n}(g);var m=function(){function e(t,n){var r=n.isEvalSupported,i=void 0===r||r,a=n.disableFontFace,o=void 0!==a&&a,s=n.ignoreErrors,u=void 0!==s&&s,c=n.onUnsupportedFeature,l=void 0===c?null:c,f=n.fontRegistry,h=void 0===f?null:f;for(var p in d(this,e),this.compiledGlyphs=Object.create(null),t)this[p]=t[p];this.isEvalSupported=!1!==i,this.disableFontFace=!0===o,this.ignoreErrors=!0===u,this._onUnsupportedFeature=l,this.fontRegistry=h}return p(e,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var e=(0,a.bytesToString)(new Uint8Array(this.data)),t="url(data:".concat(this.mimetype,";base64,").concat(btoa(e),");"),n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,t),n}},{key:"getPathGenerator",value:function(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];var n,r;try{n=e.get(this.loadedName+"_path_"+t)}catch(e){if(!this.ignoreErrors)throw e;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,a.warn)('getPathGenerator - ignoring character: "'.concat(e,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&a.IsEvalSupportedCached.value){for(var i,o="",s=0,u=n.length;s<u;s++)i=void 0!==(r=n[s]).args?r.args.join(","):"",o+="c."+r.cmd+"("+i+");\n";return this.compiledGlyphs[t]=new Function("c","size",o)}return this.compiledGlyphs[t]=function(e,t){for(var i=0,a=n.length;i<a;i++)"scale"===(r=n[i]).cmd&&(r.args=[t,-t]),e[r.cmd].apply(e,r.args)}}}]),e}();t.FontFaceObject=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiCompatibilityParams=void 0;var r=n(7),i=Object.create(null);r.isNodeJS&&(i.disableFontFace=!0);var a=Object.freeze(i);t.apiCompatibilityParams=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var r=n(5),i=n(202);function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){e.mozCurrentTransform||(e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[],Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=t*i-n*r,u=n*r-t*i;return[i/s,n/u,r/u,t/s,(i*a-r*o)/u,(n*a-t*o)/s]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var n=this._transformMatrix;n[4]=n[0]*e+n[2]*t+n[4],n[5]=n[1]*e+n[3]*t+n[5],this._originalTranslate(e,t)},e.scale=function(e,t){var n=this._transformMatrix;n[0]=n[0]*e,n[1]=n[1]*e,n[2]=n[2]*t,n[3]=n[3]*t,this._originalScale(e,t)},e.transform=function(t,n,r,i,a,o){var s=this._transformMatrix;this._transformMatrix=[s[0]*t+s[2]*n,s[1]*t+s[3]*n,s[0]*r+s[2]*i,s[1]*r+s[3]*i,s[0]*a+s[2]*o+s[4],s[1]*a+s[3]*o+s[5]],e._originalTransform(t,n,r,i,a,o)},e.setTransform=function(t,n,r,i,a,o){this._transformMatrix=[t,n,r,i,a,o],e._originalSetTransform(t,n,r,i,a,o)},e.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this._transformMatrix;this._transformMatrix=[r[0]*t+r[2]*n,r[1]*t+r[3]*n,r[0]*-n+r[2]*t,r[1]*-n+r[3]*t,r[4],r[5]],this._originalRotate(e)})}var u=function(){function e(e){this.canvasFactory=e,this.cache=Object.create(null)}return e.prototype={getCanvas:function(e,t,n,r){var i;return void 0!==this.cache[e]?(i=this.cache[e],this.canvasFactory.reset(i,t,n),i.context.setTransform(1,0,0,1,0,0)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),r&&s(i.context),i},clear:function(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}},e}();var c=function(){function e(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),l=function(){function e(e,t,n,r,i,a){this.ctx=e,this.current=new c,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.webGLContext=i,this.imageLayer=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new u(this.canvasFactory),e&&s(e),this._cachedGetSinglePixelWidth=null}function t(e,t){if("undefined"!=typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var n,i,a,o,s,u=t.height,c=t.width,l=u%16,f=(u-l)/16,d=0===l?f:f+1,h=e.createImageData(c,16),p=0,v=t.data,g=h.data;if(t.kind===r.ImageKind.GRAYSCALE_1BPP){var m=v.byteLength,y=new Uint32Array(g.buffer,0,g.byteLength>>2),b=y.length,_=c+7>>3,w=4294967295,S=r.IsLittleEndianCached.value?4278190080:255;for(i=0;i<d;i++){for(o=i<f?16:l,n=0,a=0;a<o;a++){for(var A=m-p,C=0,P=A>_?c:8*A-7,E=-8&P,T=0,x=0;C<E;C+=8)x=v[p++],y[n++]=128&x?w:S,y[n++]=64&x?w:S,y[n++]=32&x?w:S,y[n++]=16&x?w:S,y[n++]=8&x?w:S,y[n++]=4&x?w:S,y[n++]=2&x?w:S,y[n++]=1&x?w:S;for(;C<P;C++)0===T&&(x=v[p++],T=128),y[n++]=x&T?w:S,T>>=1}for(;n<b;)y[n++]=0;e.putImageData(h,0,16*i)}}else if(t.kind===r.ImageKind.RGBA_32BPP){for(a=0,s=16*c*4,i=0;i<f;i++)g.set(v.subarray(p,p+s)),p+=s,e.putImageData(h,0,a),a+=16;i<d&&(s=c*l*4,g.set(v.subarray(p,p+s)),e.putImageData(h,0,a))}else{if(t.kind!==r.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(s=c*(o=16),i=0;i<d;i++){for(i>=f&&(s=c*(o=l)),n=0,a=s;a--;)g[n++]=v[p++],g[n++]=v[p++],g[n++]=v[p++],g[n++]=255;e.putImageData(h,0,16*i)}}}}function n(e,t){for(var n=t.height,r=t.width,i=n%16,a=(n-i)/16,o=0===i?a:a+1,s=e.createImageData(r,16),u=0,c=t.data,l=s.data,f=0;f<o;f++){for(var d=f<a?16:i,h=3,p=0;p<d;p++)for(var v=0,g=0;g<r;g++){if(!v){var m=c[u++];v=128}l[h]=m&v?0:255,h+=4,v>>=1}e.putImageData(s,0,16*f)}}function o(e,t){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],r=0,i=n.length;r<i;r++){var a=n[r];void 0!==e[a]&&(t[a]=e[a])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function l(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function f(e,t,n,r){for(var i=e.length,a=3;a<i;a+=4){var o=e[a];if(0===o)e[a-3]=t,e[a-2]=n,e[a-1]=r;else if(o<255){var s=255-o;e[a-3]=e[a-3]*o+t*s>>8,e[a-2]=e[a-2]*o+n*s>>8,e[a-1]=e[a-1]*o+r*s>>8}}}function d(e,t,n){for(var r=e.length,i=3;i<r;i+=4){var a=n?n[e[i]]:e[i];t[i]=t[i]*a*(1/255)|0}}function h(e,t,n){for(var r=e.length,i=3;i<r;i+=4){var a=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=n?t[i]*n[a>>8]>>8:t[i]*a>>16}}function p(e,t,n,r){var i=t.canvas,a=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var o=t.backdrop||null;if(!t.transferMap&&r.isEnabled){var s=r.composeSMask({layer:n.canvas,mask:i,properties:{subtype:t.subtype,backdrop:o}});return e.setTransform(1,0,0,1,0,0),void e.drawImage(s,t.offsetX,t.offsetY)}!function(e,t,n,r,i,a,o){var s,u=!!a,c=u?a[0]:0,l=u?a[1]:0,p=u?a[2]:0;s="Luminosity"===i?h:d;for(var v=Math.min(r,Math.ceil(1048576/n)),g=0;g<r;g+=v){var m=Math.min(v,r-g),y=e.getImageData(0,g,n,m),b=t.getImageData(0,g,n,m);u&&f(y.data,c,l,p),s(y.data,b.data,o),e.putImageData(b,0,g)}}(a,n,i.width,i.height,t.subtype,o,t.transferMap),e.drawImage(i,0,0)}var v=["butt","round","square"],g=["miter","round","bevel"],m={},y={};for(var b in e.prototype={beginDrawing:function(e){var t=e.transform,n=e.viewport,r=e.transparency,i=void 0!==r&&r,a=e.background,o=void 0===a?null:a,s=this.ctx.canvas.width,u=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=o||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,s,u),this.ctx.restore(),i){var c=this.cachedCanvases.getCanvas("transparent",s,u,!0);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),l(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,n.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,n,i){var o=e.argsArray,s=e.fnArray,u=t||0,c=o.length;if(c===u)return u;for(var l,f=c-u>10&&"function"==typeof n,d=f?Date.now()+15:0,h=0,p=this.commonObjs,v=this.objs;;){if(void 0!==i&&u===i.nextBreakPoint)return i.breakIt(u,n),u;if((l=s[u])!==r.OPS.dependency)this[l].apply(this,o[u]);else{var g,m=a(o[u]);try{for(m.s();!(g=m.n()).done;){var y=g.value,b=y.startsWith("g_")?p:v;if(!b.has(y))return b.get(y,n),u}}catch(e){m.e(e)}finally{m.f()}}if(++u===c)return u;if(f&&++h>10){if(Date.now()>d)return n(),u;h=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=v[e]},setLineJoin:function(e){this.ctx.lineJoin=g[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)},setRenderingIntent:function(e){},setFlatness:function(e){},setGState:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],i=r[0],a=r[1];switch(i){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=r[1];break;case"ca":this.current.fillAlpha=r[1],this.ctx.globalAlpha=r[1];break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=a?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=e.canvas.width,n=e.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,t,n,!0),a=this.ctx,s=a.mozCurrentTransform;this.ctx.save();var u=i.context;u.scale(1/e.scaleX,1/e.scaleY),u.translate(-e.offsetX,-e.offsetY),u.transform.apply(u,s),e.startTransformInverse=u.mozCurrentTransformInverse,o(a,u),this.ctx=u,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(a),this.groupLevel++},suspendSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),p(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),this.ctx.save(),o(e,this.ctx),this.current.resumeSMaskCtx=e;var t=r.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){var e=this.current.resumeSMaskCtx,t=this.ctx;this.ctx=e,this.groupStack.push(t),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),p(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),o(e,this.ctx);var t=r.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(e,t,n,r,i,a){this.ctx.transform(e,t,n,r,i,a),this._cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var n=this.ctx,i=this.current,a=i.x,o=i.y,s=0,u=0,c=e.length;s<c;s++)switch(0|e[s]){case r.OPS.rectangle:a=t[u++],o=t[u++];var l=t[u++],f=t[u++];0===l&&(l=this.getSinglePixelWidth()),0===f&&(f=this.getSinglePixelWidth());var d=a+l,h=o+f;this.ctx.moveTo(a,o),this.ctx.lineTo(d,o),this.ctx.lineTo(d,h),this.ctx.lineTo(a,h),this.ctx.lineTo(a,o),this.ctx.closePath();break;case r.OPS.moveTo:a=t[u++],o=t[u++],n.moveTo(a,o);break;case r.OPS.lineTo:a=t[u++],o=t[u++],n.lineTo(a,o);break;case r.OPS.curveTo:a=t[u+4],o=t[u+5],n.bezierCurveTo(t[u],t[u+1],t[u+2],t[u+3],a,o),u+=6;break;case r.OPS.curveTo2:n.bezierCurveTo(a,o,t[u],t[u+1],t[u+2],t[u+3]),a=t[u+2],o=t[u+3],u+=4;break;case r.OPS.curveTo3:a=t[u+2],o=t[u+3],n.bezierCurveTo(t[u],t[u+1],a,o,a,o),u+=4;break;case r.OPS.closePath:n.closePath()}i.setCurrentPoint(a,o)},closePath:function(){this.ctx.closePath()},stroke:function(e){e=void 0===e||e;var t=this.ctx,n=this.current.strokeColor;if(t.globalAlpha=this.current.strokeAlpha,n&&n.hasOwnProperty("type")&&"Pattern"===n.type){t.save();var i=t.mozCurrentTransform,a=r.Util.singularValueDecompose2dScale(i)[0];t.strokeStyle=n.getPattern(t,this),t.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth*a),t.stroke(),t.restore()}else t.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth),t.stroke();e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e=void 0===e||e;var t=this.ctx,n=this.current.fillColor,r=!1;this.current.patternFill&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=n.getPattern(t,this),r=!0),this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill(),r&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=m},eoClip:function(){this.pendingClip=y},beginText:function(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];t.setTransform.apply(t,r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){var n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error("Can't find font for ".concat(e));if(i.fontMatrix=n.fontMatrix?n.fontMatrix:r.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,!n.isType3Font){var a=n.loadedName||"sans-serif",o="normal";n.black?o="900":n.bold&&(o="bold");var s=n.italic?"italic":"normal",u='"'.concat(a,'", ').concat(n.fallbackName),c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font="".concat(s," ").concat(o," ").concat(c,"px ").concat(u)}},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,n,r,i,a){this.current.textMatrix=[e,t,n,r,i,a],this.current.textMatrixScale=Math.sqrt(e*e+t*t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(e,t,n,i){var a,o=this.ctx,s=this.current,u=s.font,c=s.textRenderingMode,l=s.fontSize/s.fontSizeScale,f=c&r.TextRenderingMode.FILL_STROKE_MASK,d=!!(c&r.TextRenderingMode.ADD_TO_PATH_FLAG),h=s.patternFill&&!u.missingFile;((u.disableFontFace||d||h)&&(a=u.getPathGenerator(this.commonObjs,e)),u.disableFontFace||h?(o.save(),o.translate(t,n),o.beginPath(),a(o,l),i&&o.setTransform.apply(o,i),f!==r.TextRenderingMode.FILL&&f!==r.TextRenderingMode.FILL_STROKE||o.fill(),f!==r.TextRenderingMode.STROKE&&f!==r.TextRenderingMode.FILL_STROKE||o.stroke(),o.restore()):(f!==r.TextRenderingMode.FILL&&f!==r.TextRenderingMode.FILL_STROKE||o.fillText(e,t,n),f!==r.TextRenderingMode.STROKE&&f!==r.TextRenderingMode.FILL_STROKE||o.strokeText(e,t,n)),d)&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:o.mozCurrentTransform,x:t,y:n,fontSize:l,addToPath:a})},get isFontSubpixelAAEnabled(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,n=!1,i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)},showText:function(e){var t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);var i=t.fontSize;if(0!==i){var a,o=this.ctx,s=t.fontSizeScale,u=t.charSpacing,c=t.wordSpacing,l=t.fontDirection,f=t.textHScale*l,d=e.length,h=n.vertical,p=h?1:-1,v=n.defaultVMetrics,g=i*t.fontMatrix[0],m=t.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;if(o.save(),t.patternFill){o.save();var y=t.fillColor.getPattern(o,this);a=o.mozCurrentTransform,o.restore(),o.fillStyle=y}o.transform.apply(o,t.textMatrix),o.translate(t.x,t.y+t.textRise),l>0?o.scale(f,-1):o.scale(f,1);var b=t.lineWidth,_=t.textMatrixScale;if(0===_||0===b){var w=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;w!==r.TextRenderingMode.STROKE&&w!==r.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,b=.65*this.getSinglePixelWidth())}else b/=_;1!==s&&(o.scale(s,s),b/=s),o.lineWidth=b;var S,A=0;for(S=0;S<d;++S){var C=e[S];if((0,r.isNum)(C))A+=p*C*i/1e3;else{var P,E,T,x,k,O,R,M=!1,L=(C.isSpace?c:0)+u,I=C.fontChar,N=C.accent,D=C.width;if(h)k=C.vmetric||v,O=-(O=C.vmetric?k[1]:.5*D)*g,R=k[2]*g,D=k?-k[0]:D,P=O/s,E=(A+R)/s;else P=A/s,E=0;if(n.remeasure&&D>0){var F=1e3*o.measureText(I).width/i*s;if(D<F&&this.isFontSubpixelAAEnabled){var B=D/F;M=!0,o.save(),o.scale(B,1),P/=B}else D!==F&&(P+=(D-F)/2e3*i/s)}(C.isInFont||n.missingFile)&&(m&&!N?o.fillText(I,P,E):(this.paintChar(I,P,E,a),N&&(T=P+N.offset.x/s,x=E-N.offset.y/s,this.paintChar(N.fontChar,T,x,a)))),A+=h?D*g-L*l:D*g+L*l,M&&o.restore()}}h?t.y-=A:t.x+=A*f,o.restore()}},showType3Text:function(e){var t,n,i,a,o=this.ctx,s=this.current,u=s.font,c=s.fontSize,l=s.fontDirection,f=u.vertical?1:-1,d=s.charSpacing,h=s.wordSpacing,p=s.textHScale*l,v=s.fontMatrix||r.FONT_IDENTITY_MATRIX,g=e.length;if(!(s.textRenderingMode===r.TextRenderingMode.INVISIBLE)&&0!==c){for(this._cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,s.textMatrix),o.translate(s.x,s.y),o.scale(p,l),t=0;t<g;++t)if(n=e[t],(0,r.isNum)(n))a=f*n*c/1e3,this.ctx.translate(a,0),s.x+=a*p;else{var m=(n.isSpace?h:0)+d,y=u.charProcOperatorList[n.operatorListId];if(y)this.processingType3=n,this.save(),o.scale(c,c),o.transform.apply(o,v),this.executeOperatorList(y),this.restore(),i=r.Util.applyTransform([n.width,0],v)[0]*c+m,o.translate(i,0),s.x+=i*p;else(0,r.warn)('Type3 character "'.concat(n.operatorListId,'" is not available.'))}o.restore(),this.processingType3=null}},setCharWidth:function(e,t){},setCharWidthAndBounds:function(e,t,n,r,i,a){this.ctx.rect(n,r,i-n,a-r),this.clip(),this.endPath()},getColorN_Pattern:function(t){var n,r=this;if("TilingPattern"===t[0]){var a=t[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice(),s={createCanvasGraphics:function(t){return new e(t,r.commonObjs,r.objs,r.canvasFactory,r.webGLContext)}};n=new i.TilingPattern(t,a,this.ctx,s,o)}else n=(0,i.getShadingPatternFromIR)(t);return n},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,n){var i=r.Util.makeHexColor(e,t,n);this.ctx.strokeStyle=i,this.current.strokeColor=i},setFillRGBColor:function(e,t,n){var i=r.Util.makeHexColor(e,t,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1},shadingFill:function(e){var t=this.ctx;this.save();var n=(0,i.getShadingPatternFromIR)(e);t.fillStyle=n.getPattern(t,this,!0);var a=t.mozCurrentTransformInverse;if(a){var o=t.canvas,s=o.width,u=o.height,c=r.Util.applyTransform([0,0],a),l=r.Util.applyTransform([0,u],a),f=r.Util.applyTransform([s,0],a),d=r.Util.applyTransform([s,u],a),h=Math.min(c[0],l[0],f[0],d[0]),p=Math.min(c[1],l[1],f[1],d[1]),v=Math.max(c[0],l[0],f[0],d[0]),g=Math.max(c[1],l[1],f[1],d[1]);this.ctx.fillRect(h,p,v-h,g-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,r.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,r.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){if(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t){var n=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],n,r),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(e){this.save();var t=this.ctx;e.isolated||(0,r.info)("TODO: Support non-isolated groups."),e.knockout&&(0,r.warn)("Knockout groups not supported.");var n=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var i=r.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform),a=[0,0,t.canvas.width,t.canvas.height];i=r.Util.intersect(i,a)||[0,0,0,0];var s=Math.floor(i[0]),u=Math.floor(i[1]),c=Math.max(Math.ceil(i[2])-s,1),l=Math.max(Math.ceil(i[3])-u,1),f=1,d=1;c>4096&&(f=c/4096,c=4096),l>4096&&(d=l/4096,l=4096);var h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);var p=this.cachedCanvases.getCanvas(h,c,l,!0),v=p.context;v.scale(1/f,1/d),v.translate(-s,-u),v.transform.apply(v,n),e.smask?this.smaskStack.push({canvas:p.canvas,context:v,offsetX:s,offsetY:u,scaleX:f,scaleY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(s,u),t.scale(f,d)),o(t,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null},endGroup:function(e){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,n){if(this.save(),l(this.ctx),this.current=new c,Array.isArray(e)&&4===e.length){var r=e[2]-e[0],i=e[3]-e[1];this.ctx.rect(e[0],e[1],r,i),this.clip(),this.endPath()}this.transform.apply(this,t),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(e){var t=this.ctx,r=e.width,i=e.height,a=this.current.fillColor,o=this.current.patternFill,s=this.processingType3;if(s&&void 0===s.compiled&&(s.compiled=r<=1e3&&i<=1e3?function(e){var t,n,r,i,a=e.width,o=e.height,s=a+1,u=new Uint8Array(s*(o+1)),c=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=a+7&-8,f=e.data,d=new Uint8Array(l*o),h=0;for(t=0,i=f.length;t<i;t++)for(var p=128,v=f[t];p>0;)d[h++]=v&p?0:255,p>>=1;var g=0;for(0!==d[h=0]&&(u[0]=1,++g),n=1;n<a;n++)d[h]!==d[h+1]&&(u[n]=d[h]?2:1,++g),h++;for(0!==d[h]&&(u[n]=2,++g),t=1;t<o;t++){r=t*s,d[(h=t*l)-l]!==d[h]&&(u[r]=d[h]?1:8,++g);var m=(d[h]?4:0)+(d[h-l]?8:0);for(n=1;n<a;n++)c[m=(m>>2)+(d[h+1]?4:0)+(d[h-l+1]?8:0)]&&(u[r+n]=c[m],++g),h++;if(d[h-l]!==d[h]&&(u[r+n]=d[h]?2:4,++g),g>1e3)return null}for(r=t*s,0!==d[h=l*(o-1)]&&(u[r]=8,++g),n=1;n<a;n++)d[h]!==d[h+1]&&(u[r+n]=d[h]?4:8,++g),h++;if(0!==d[h]&&(u[r+n]=4,++g),g>1e3)return null;var y=new Int32Array([0,s,-1,0,-s,0,0,0,1]),b=[];for(t=0;g&&t<=o;t++){for(var _=t*s,w=_+a;_<w&&!u[_];)_++;if(_!==w){var S,A=[_%s,t],C=u[_],P=_;do{var E=y[C];do{_+=E}while(!u[_]);5!==(S=u[_])&&10!==S?(C=S,u[_]=0):(C=S&51*C>>4,u[_]&=C>>2|C<<2),A.push(_%s),A.push(_/s|0),u[_]||--g}while(P!==_);b.push(A),--t}}return function(e){e.save(),e.scale(1/a,-1/o),e.translate(0,-o),e.beginPath();for(var t=0,n=b.length;t<n;t++){var r=b[t];e.moveTo(r[0],r[1]);for(var i=2,s=r.length;i<s;i+=2)e.lineTo(r[i],r[i+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:r,height:i}):null),s&&s.compiled)s.compiled(t);else{var u=this.cachedCanvases.getCanvas("maskCanvas",r,i),c=u.context;c.save(),n(c,e),c.globalCompositeOperation="source-in",c.fillStyle=o?a.getPattern(c,this):a,c.fillRect(0,0,r,i),c.restore(),this.paintInlineImageXObject(u.canvas)}},paintImageMaskXObjectRepeat:function(e,t,r,i){var a=e.width,o=e.height,s=this.current.fillColor,u=this.current.patternFill,c=this.cachedCanvases.getCanvas("maskCanvas",a,o),l=c.context;l.save(),n(l,e),l.globalCompositeOperation="source-in",l.fillStyle=u?s.getPattern(l,this):s,l.fillRect(0,0,a,o),l.restore();for(var f=this.ctx,d=0,h=i.length;d<h;d+=2)f.save(),f.transform(t,0,0,r,i[d],i[d+1]),f.scale(1,-1),f.drawImage(c.canvas,0,0,a,o,0,-1,1,1),f.restore()},paintImageMaskXObjectGroup:function(e){for(var t=this.ctx,r=this.current.fillColor,i=this.current.patternFill,a=0,o=e.length;a<o;a++){var s=e[a],u=s.width,c=s.height,l=this.cachedCanvases.getCanvas("maskCanvas",u,c),f=l.context;f.save(),n(f,s),f.globalCompositeOperation="source-in",f.fillStyle=i?r.getPattern(f,this):r,f.fillRect(0,0,u,c),f.restore(),t.save(),t.transform.apply(t,s.transform),t.scale(1,-1),t.drawImage(l.canvas,0,0,u,c,0,-1,1,1),t.restore()}},paintImageXObject:function(e){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(e,t,n,i){var a=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);if(a){for(var o=a.width,s=a.height,u=[],c=0,l=i.length;c<l;c+=2)u.push({transform:[t,0,0,n,i[c],i[c+1]],x:0,y:0,w:o,h:s});this.paintInlineImageXObjectGroup(a,u)}else(0,r.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(e){var n=e.width,r=e.height,i=this.ctx;this.save(),i.scale(1/n,-1/r);var a,o,s=i.mozCurrentTransformInverse,u=s[0],c=s[1],l=Math.max(Math.sqrt(u*u+c*c),1),f=s[2],d=s[3],h=Math.max(Math.sqrt(f*f+d*d),1);if("function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)a=e;else{var p=(o=this.cachedCanvases.getCanvas("inlineImage",n,r)).context;t(p,e),a=o.canvas}for(var v=n,g=r,m="prescale1";l>2&&v>1||h>2&&g>1;){var y=v,b=g;l>2&&v>1&&(l/=v/(y=Math.ceil(v/2))),h>2&&g>1&&(h/=g/(b=Math.ceil(g/2))),(p=(o=this.cachedCanvases.getCanvas(m,y,b)).context).clearRect(0,0,y,b),p.drawImage(a,0,0,v,g,0,0,y,b),a=o.canvas,v=y,g=b,m="prescale1"===m?"prescale2":"prescale1"}if(i.drawImage(a,0,0,v,g,0,-r,n,r),this.imageLayer){var _=this.getCanvasPosition(0,-r);this.imageLayer.appendImage({imgData:e,left:_[0],top:_[1],width:n/s[0],height:r/s[3]})}this.restore()},paintInlineImageXObjectGroup:function(e,n){var r=this.ctx,i=e.width,a=e.height,o=this.cachedCanvases.getCanvas("inlineImage",i,a);t(o.context,e);for(var s=0,u=n.length;s<u;s++){var c=n[s];if(r.save(),r.transform.apply(r,c.transform),r.scale(1,-1),r.drawImage(o.canvas,c.x,c.y,c.w,c.h,0,-1,1,1),this.imageLayer){var l=this.getCanvasPosition(c.x,c.y);this.imageLayer.appendImage({imgData:e,left:l[0],top:l[1],width:i,height:a})}r.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,r.warn)("Unsupported 'paintXObject' command.")},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){},beginMarkedContentProps:function(e,t){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===y?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth:function(e){if(null===this._cachedGetSinglePixelWidth){var t=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1],t[2]*t[2]+t[3]*t[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var n=this.ctx.mozCurrentTransform;return[n[0]*e+n[2]*t+n[4],n[1]*e+n[3]*t+n[5]]}},r.OPS)e.prototype[r.OPS[b]]=e.prototype[b];return e}();t.CanvasGraphics=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPatternFromIR=function(e){var t=i[e[0]];if(!t)throw new Error("Unknown IR type: ".concat(e[0]));return t.fromIR(e)},t.TilingPattern=void 0;var r=n(5),i={};function a(e,t){if(t&&"undefined"!=typeof Path2D){var n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}}i.RadialAxial={fromIR:function(e){var t=e[1],n=e[2],r=e[3],i=e[4],o=e[5],s=e[6],u=e[7];return{type:"Pattern",getPattern:function(e){var c;a(e,n),"axial"===t?c=e.createLinearGradient(i[0],i[1],o[0],o[1]):"radial"===t&&(c=e.createRadialGradient(i[0],i[1],s,o[0],o[1],u));for(var l=0,f=r.length;l<f;++l){var d=r[l];c.addColorStop(d[0],d[1])}return c}}}};var o=function(){function e(e,t,n,r,i,a,o,s){var u,c=t.coords,l=t.colors,f=e.data,d=4*e.width;c[n+1]>c[r+1]&&(u=n,n=r,r=u,u=a,a=o,o=u),c[r+1]>c[i+1]&&(u=r,r=i,i=u,u=o,o=s,s=u),c[n+1]>c[r+1]&&(u=n,n=r,r=u,u=a,a=o,o=u);var h=(c[n]+t.offsetX)*t.scaleX,p=(c[n+1]+t.offsetY)*t.scaleY,v=(c[r]+t.offsetX)*t.scaleX,g=(c[r+1]+t.offsetY)*t.scaleY,m=(c[i]+t.offsetX)*t.scaleX,y=(c[i+1]+t.offsetY)*t.scaleY;if(!(p>=y))for(var b,_,w,S,A,C,P,E,T=l[a],x=l[a+1],k=l[a+2],O=l[o],R=l[o+1],M=l[o+2],L=l[s],I=l[s+1],N=l[s+2],D=Math.round(p),F=Math.round(y),B=D;B<=F;B++){if(B<g){var j=void 0;b=h-(h-v)*(j=B<p?0:p===g?1:(p-B)/(p-g)),_=T-(T-O)*j,w=x-(x-R)*j,S=k-(k-M)*j}else{var U=void 0;b=v-(v-m)*(U=B>y?1:g===y?0:(g-B)/(g-y)),_=O-(O-L)*U,w=R-(R-I)*U,S=M-(M-N)*U}var V=void 0;A=h-(h-m)*(V=B<p?0:B>y?1:(p-B)/(p-y)),C=T-(T-L)*V,P=x-(x-I)*V,E=k-(k-N)*V;for(var W=Math.round(Math.min(b,A)),G=Math.round(Math.max(b,A)),H=d*B+4*W,z=W;z<=G;z++)(V=(b-z)/(b-A))<0?V=0:V>1&&(V=1),f[H++]=_-(_-C)*V|0,f[H++]=w-(w-P)*V|0,f[H++]=S-(S-E)*V|0,f[H++]=255}}function t(t,n,r){var i,a,o=n.coords,s=n.colors;switch(n.type){case"lattice":var u=n.verticesPerRow,c=Math.floor(o.length/u)-1,l=u-1;for(i=0;i<c;i++)for(var f=i*u,d=0;d<l;d++,f++)e(t,r,o[f],o[f+1],o[f+u],s[f],s[f+1],s[f+u]),e(t,r,o[f+u+1],o[f+1],o[f+u],s[f+u+1],s[f+1],s[f+u]);break;case"triangles":for(i=0,a=o.length;i<a;i+=3)e(t,r,o[i],o[i+1],o[i+2],s[i],s[i+1],s[i+2]);break;default:throw new Error("illegal figure")}}return function(e,n,r,i,a,o,s,u){var c,l,f,d,h=Math.floor(e[0]),p=Math.floor(e[1]),v=Math.ceil(e[2])-h,g=Math.ceil(e[3])-p,m=Math.min(Math.ceil(Math.abs(v*n[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(g*n[1]*1.1)),3e3),b=v/m,_=g/y,w={coords:r,colors:i,offsetX:-h,offsetY:-p,scaleX:1/b,scaleY:1/_},S=m+4,A=y+4;if(u.isEnabled)c=u.drawFigures({width:m,height:y,backgroundColor:o,figures:a,context:w}),(l=s.getCanvas("mesh",S,A,!1)).context.drawImage(c,2,2),c=l.canvas;else{var C=(l=s.getCanvas("mesh",S,A,!1)).context,P=C.createImageData(m,y);if(o){var E=P.data;for(f=0,d=E.length;f<d;f+=4)E[f]=o[0],E[f+1]=o[1],E[f+2]=o[2],E[f+3]=255}for(f=0;f<a.length;f++)t(P,a[f],w);C.putImageData(P,2,2),c=l.canvas}return{canvas:c,offsetX:h-2*b,offsetY:p-2*_,scaleX:b,scaleY:_}}}();i.Mesh={fromIR:function(e){var t=e[2],n=e[3],i=e[4],s=e[5],u=e[6],c=e[7],l=e[8];return{type:"Pattern",getPattern:function(e,f,d){var h;if(a(e,c),d)h=r.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(h=r.Util.singularValueDecompose2dScale(f.baseTransform),u){var p=r.Util.singularValueDecompose2dScale(u);h=[h[0]*p[0],h[1]*p[1]]}var v=o(s,h,t,n,i,d?null:l,f.cachedCanvases,f.webGLContext);return d||(e.setTransform.apply(e,f.baseTransform),u&&e.transform.apply(e,u)),e.translate(v.offsetX,v.offsetY),e.scale(v.scaleX,v.scaleY),e.createPattern(v.canvas,"no-repeat")}}}},i.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var s=function(){var e=1,t=2;function n(e,t,n,r,i){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=r,this.baseTransform=i,this.type="Pattern",this.ctx=n}return n.prototype={createPatternCanvas:function(e){var t=this.operatorList,n=this.bbox,i=this.xstep,a=this.ystep,o=this.paintType,s=this.tilingType,u=this.color,c=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+s);var l=n[0],f=n[1],d=n[2],h=n[3],p=r.Util.singularValueDecompose2dScale(this.matrix),v=r.Util.singularValueDecompose2dScale(this.baseTransform),g=[p[0]*v[0],p[1]*v[1]],m=this.getSizeAndScale(i,this.ctx.canvas.width,g[0]),y=this.getSizeAndScale(a,this.ctx.canvas.height,g[1]),b=e.cachedCanvases.getCanvas("pattern",m.size,y.size,!0),_=b.context,w=c.createCanvasGraphics(_);return w.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(w,o,u),w.transform(m.scale,0,0,y.scale,0,0),w.transform(1,0,0,1,-l,-f),this.clipBbox(w,n,l,f,d,h),w.executeOperatorList(t),this.ctx.transform(1,0,0,1,l,f),this.ctx.scale(1/m.scale,1/y.scale),b.canvas},getSizeAndScale:function(e,t,n){e=Math.abs(e);var r=Math.max(3e3,t),i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}},clipBbox:function(e,t,n,r,i,a){if(Array.isArray(t)&&4===t.length){var o=i-n,s=a-r;e.ctx.rect(n,r,o,s),e.clip(),e.endPath()}},setFillAndStrokeStyleToContext:function(n,i,a){var o=n.ctx,s=n.current;switch(i){case e:var u=this.ctx;o.fillStyle=u.fillStyle,o.strokeStyle=u.strokeStyle,s.fillColor=u.fillStyle,s.strokeColor=u.strokeStyle;break;case t:var c=r.Util.makeHexColor(a[0],a[1],a[2]);o.fillStyle=c,o.strokeStyle=c,s.fillColor=c,s.strokeColor=c;break;default:throw new r.FormatError("Unsupported paint type: ".concat(i))}},getPattern:function(e,t){(e=this.ctx).setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix);var n=this.createPatternCanvas(t);return e.createPattern(n,"repeat")}},n}();t.TilingPattern=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var r=Object.create(null);t.GlobalWorkerOptions=r,r.workerPort=void 0===r.workerPort?null:r.workerPort,r.workerSrc=void 0===r.workerSrc?"":r.workerSrc},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(5);function o(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=1,l=2,f=1,d=2,h=3,p=4,v=5,g=6,m=7,y=8;function b(e){if("object"!==u(e)||null===e)return e;switch(e.name){case"AbortException":return new a.AbortException(e.message);case"MissingPDFException":return new a.MissingPDFException(e.message);case"UnexpectedResponseException":return new a.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new a.UnknownErrorException(e.message,e.details);default:return new a.UnknownErrorException(e.message,e.toString())}}var _=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceName=t,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===i.sourceName)if(t.stream)i._processStreamMessage(t);else if(t.callback){var n=t.callbackId,a=i.callbackCapabilities[n];if(!a)throw new Error("Cannot resolve callback ".concat(n));if(delete i.callbackCapabilities[n],t.callback===c)a.resolve(t.data);else{if(t.callback!==l)throw new Error("Unexpected callback case");a.reject(b(t.reason))}}else{var o=i.actionHandler[t.action];if(!o)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){var s=i.sourceName,u=t.sourceName;new Promise((function(e){e(o(t.data))})).then((function(e){r.postMessage({sourceName:s,targetName:u,callback:c,callbackId:t.callbackId,data:e})}),(function(e){r.postMessage({sourceName:s,targetName:u,callback:l,callbackId:t.callbackId,reason:b(e)})}))}else t.streamId?i._createStreamSink(t):o(t.data)}},r.addEventListener("message",this._onComObjOnMessage)}var t,n,r,u,_;return t=e,(n=[{key:"on",value:function(e,t){var n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}},{key:"send",value:function(e,t,n){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}},{key:"sendWithPromise",value:function(e,t,n){var r=this.callbackId++,i=(0,a.createPromiseCapability)();this.callbackCapabilities[r]=i;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(e){i.reject(e)}return i.promise}},{key:"sendWithStream",value:function(e,t,n,r){var i=this,o=this.streamId++,s=this.sourceName,u=this.targetName,c=this.comObj;return new ReadableStream({start:function(n){var c=(0,a.createPromiseCapability)();return i.streamControllers[o]={controller:n,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},i._postMessage({sourceName:s,targetName:u,action:e,streamId:o,data:t,desiredSize:n.desiredSize},r),c.promise},pull:function(e){var t=(0,a.createPromiseCapability)();return i.streamControllers[o].pullCall=t,c.postMessage({sourceName:s,targetName:u,stream:g,streamId:o,desiredSize:e.desiredSize}),t.promise},cancel:function(e){(0,a.assert)(e instanceof Error,"cancel must have a valid reason");var t=(0,a.createPromiseCapability)();return i.streamControllers[o].cancelCall=t,i.streamControllers[o].isClosed=!0,c.postMessage({sourceName:s,targetName:u,stream:f,streamId:o,reason:b(e)}),t.promise}},n)}},{key:"_createStreamSink",value:function(e){var t=this,n=this.actionHandler[e.action],r=e.streamId,i=this.sourceName,o=e.sourceName,s=this.comObj,u={enqueue:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var u=this.desiredSize;this.desiredSize-=n,u>0&&this.desiredSize<=0&&(this.sinkCapability=(0,a.createPromiseCapability)(),this.ready=this.sinkCapability.promise),t._postMessage({sourceName:i,targetName:o,stream:p,streamId:r,chunk:e},s)}},close:function(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:o,stream:h,streamId:r}),delete t.streamSinks[r])},error:function(e){(0,a.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:o,stream:v,streamId:r,reason:b(e)}))},sinkCapability:(0,a.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[r]=u,new Promise((function(t){t(n(e.data,u))})).then((function(){s.postMessage({sourceName:i,targetName:o,stream:y,streamId:r,success:!0})}),(function(e){s.postMessage({sourceName:i,targetName:o,stream:y,streamId:r,reason:b(e)})}))}},{key:"_processStreamMessage",value:function(e){var t=e.streamId,n=this.sourceName,r=e.sourceName,i=this.comObj;switch(e.stream){case y:e.success?this.streamControllers[t].startCall.resolve():this.streamControllers[t].startCall.reject(b(e.reason));break;case m:e.success?this.streamControllers[t].pullCall.resolve():this.streamControllers[t].pullCall.reject(b(e.reason));break;case g:if(!this.streamSinks[t]){i.postMessage({sourceName:n,targetName:r,stream:m,streamId:t,success:!0});break}this.streamSinks[t].desiredSize<=0&&e.desiredSize>0&&this.streamSinks[t].sinkCapability.resolve(),this.streamSinks[t].desiredSize=e.desiredSize;var o=this.streamSinks[e.streamId].onPull;new Promise((function(e){e(o&&o())})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:m,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:m,streamId:t,reason:b(e)})}));break;case p:if((0,a.assert)(this.streamControllers[t],"enqueue should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].controller.enqueue(e.chunk);break;case h:if((0,a.assert)(this.streamControllers[t],"close should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].isClosed=!0,this.streamControllers[t].controller.close(),this._deleteStreamController(t);break;case v:(0,a.assert)(this.streamControllers[t],"error should have stream controller"),this.streamControllers[t].controller.error(b(e.reason)),this._deleteStreamController(t);break;case d:e.success?this.streamControllers[t].cancelCall.resolve():this.streamControllers[t].cancelCall.reject(b(e.reason)),this._deleteStreamController(t);break;case f:if(!this.streamSinks[t])break;var s=this.streamSinks[e.streamId].onCancel;new Promise((function(t){t(s&&s(b(e.reason)))})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:d,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:d,streamId:t,reason:b(e)})})),this.streamSinks[t].sinkCapability.reject(b(e.reason)),this.streamSinks[t].isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(u=i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([this.streamControllers[t].startCall,this.streamControllers[t].pullCall,this.streamControllers[t].cancelCall].map((function(e){return e&&e.promise})));case 2:delete this.streamControllers[t];case 3:case"end":return e.stop()}}),e,this)})),_=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=u.apply(e,t);function a(e){o(i,n,r,a,s,"next",e)}function s(e){o(i,n,r,a,s,"throw",e)}a(void 0)}))},function(e){return _.apply(this,arguments)})},{key:"_postMessage",value:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}])&&s(t.prototype,n),r&&s(t,r),e}();t.MessageHandler=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(5);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){var n=t.parsedData,r=t.rawData;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._metadataMap=n,this._data=r}var t,n,a;return t=e,(n=[{key:"getRaw",value:function(){return this._data}},{key:"get",value:function(e){return this.has(e)?this._metadataMap.get(e):null}},{key:"getAll",value:function(){return(0,r.objectFromMap)(this._metadataMap)}},{key:"has",value:function(e){return this._metadataMap.has(e)}}])&&i(t.prototype,n),a&&i(t,a),e}();t.Metadata=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(5);function o(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}var h=function(){function e(t,n){var r=this;l(this,e),(0,a.assert)(n,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1;var i=t.initialData;if(i&&i.length>0){var o=new Uint8Array(i).buffer;this._queuedChunks.push(o)}this._pdfDataRangeTransport=n,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((function(e,t){r._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener((function(e,t){r._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((function(e){r._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((function(){r._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}return d(e,[{key:"_onReceiveData",value:function(e){var t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{var n=this._rangeReaders.some((function(n){return n._begin===e.begin&&(n._enqueue(t),!0)}));(0,a.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_onProgress",value:function(e){if(void 0===e.total){var t=this._rangeReaders[0];t&&t.onProgress&&t.onProgress({loaded:e.loaded})}else{var n=this._fullRequestReader;n&&n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(e){var t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}},{key:"getFullReader",value:function(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var e=this._queuedChunks;return this._queuedChunks=null,new p(this,e,this._progressiveDone)}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new v(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeReaders.slice(0).forEach((function(t){t.cancel(e)})),this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),e}();t.PDFDataTransportStream=h;var p=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];l(this,e),this._stream=t,this._done=r||!1,this._filename=null,this._queuedChunks=n||[],this._loaded=0;var i,a=u(this._queuedChunks);try{for(a.s();!(i=a.n()).done;){var o=i.value;this._loaded+=o.byteLength}}catch(e){a.e(e)}finally{a.f()}this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}var t;return d(e,[{key:"_enqueue",value:function(e){if(!this._done){if(this._requests.length>0)this._requests.shift().resolve({value:e,done:!1});else this._queuedChunks.push(e);this._loaded+=e.byteLength}}},{key:"read",value:(t=s(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._queuedChunks.length>0)){e.next=3;break}return t=this._queuedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 3:if(!this._done){e.next=5;break}return e.abrupt("return",{value:void 0,done:!0});case 5:return n=(0,a.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}}]),e}(),v=function(){function e(t,n,r){l(this,e),this._stream=t,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}var t;return d(e,[{key:"_enqueue",value:function(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else this._requests.shift().resolve({value:e,done:!1}),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[];this._done=!0,this._stream._removeRangeReader(this)}}},{key:"read",value:(t=s(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,a.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var r=n(5);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){var n=t.enable,r=void 0!==n&&n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._enabled=!0===r}var t,n,a;return t=e,(n=[{key:"composeSMask",value:function(e){var t=e.layer,n=e.mask,r=e.properties;return o.composeSMask(t,n,r)}},{key:"drawFigures",value:function(e){var t=e.width,n=e.height,r=e.backgroundColor,i=e.figures,a=e.context;return o.drawFigures(t,n,r,i,a)}},{key:"clear",value:function(){o.cleanup()}},{key:"isEnabled",get:function(){var e=this._enabled;return e&&(e=o.tryInitGL()),(0,r.shadow)(this,"isEnabled",e)}}])&&i(t.prototype,n),a&&i(t,a),e}();t.WebGLContext=a;var o=function(){function e(e,t,n){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(r);throw new Error("Error during shader compilation: "+i)}return r}function t(t,n){return e(t,n,t.VERTEX_SHADER)}function n(t,n){return e(t,n,t.FRAGMENT_SHADER)}function r(e,t){for(var n=e.createProgram(),r=0,i=t.length;r<i;++r)e.attachShader(n,t[r]);if(e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){var a=e.getProgramInfoLog(n);throw new Error("Error during program linking: "+a)}return n}function i(e,t,n){e.activeTexture(n);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),r}var a,o;function s(){a||(o=document.createElement("canvas"),a=o.getContext("webgl",{premultipliedalpha:!1}))}var u=null;var c=null;return{tryInitGL:function(){try{return s(),!!a}catch(e){}return!1},composeSMask:function(e,c,l){var f=e.width,d=e.height;u||function(){var e,i;s(),e=o,o=null,i=a,a=null;var c=r(i,[t(i,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),n(i,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);i.useProgram(c);var l={};l.gl=i,l.canvas=e,l.resolutionLocation=i.getUniformLocation(c,"u_resolution"),l.positionLocation=i.getAttribLocation(c,"a_position"),l.backdropLocation=i.getUniformLocation(c,"u_backdrop"),l.subtypeLocation=i.getUniformLocation(c,"u_subtype");var f=i.getAttribLocation(c,"a_texCoord"),d=i.getUniformLocation(c,"u_image"),h=i.getUniformLocation(c,"u_mask"),p=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,p),i.bufferData(i.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),i.STATIC_DRAW),i.enableVertexAttribArray(f),i.vertexAttribPointer(f,2,i.FLOAT,!1,0,0),i.uniform1i(d,0),i.uniform1i(h,1),u=l}();var h=u,p=h.canvas,v=h.gl;p.width=f,p.height=d,v.viewport(0,0,v.drawingBufferWidth,v.drawingBufferHeight),v.uniform2f(h.resolutionLocation,f,d),l.backdrop?v.uniform4f(h.resolutionLocation,l.backdrop[0],l.backdrop[1],l.backdrop[2],1):v.uniform4f(h.resolutionLocation,0,0,0,0),v.uniform1i(h.subtypeLocation,"Luminosity"===l.subtype?1:0);var g=i(v,e,v.TEXTURE0),m=i(v,c,v.TEXTURE1),y=v.createBuffer();return v.bindBuffer(v.ARRAY_BUFFER,y),v.bufferData(v.ARRAY_BUFFER,new Float32Array([0,0,f,0,0,d,0,d,f,0,f,d]),v.STATIC_DRAW),v.enableVertexAttribArray(h.positionLocation),v.vertexAttribPointer(h.positionLocation,2,v.FLOAT,!1,0,0),v.clearColor(0,0,0,0),v.enable(v.BLEND),v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA),v.clear(v.COLOR_BUFFER_BIT),v.drawArrays(v.TRIANGLES,0,6),v.flush(),v.deleteTexture(g),v.deleteTexture(m),v.deleteBuffer(y),p},drawFigures:function(e,i,u,l,f){c||function(){var e,i;s(),e=o,o=null,i=a,a=null;var u=r(i,[t(i,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),n(i,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);i.useProgram(u);var l={};l.gl=i,l.canvas=e,l.resolutionLocation=i.getUniformLocation(u,"u_resolution"),l.scaleLocation=i.getUniformLocation(u,"u_scale"),l.offsetLocation=i.getUniformLocation(u,"u_offset"),l.positionLocation=i.getAttribLocation(u,"a_position"),l.colorLocation=i.getAttribLocation(u,"a_color"),c=l}();var d=c,h=d.canvas,p=d.gl;h.width=e,h.height=i,p.viewport(0,0,p.drawingBufferWidth,p.drawingBufferHeight),p.uniform2f(d.resolutionLocation,e,i);var v,g,m,y=0;for(v=0,g=l.length;v<g;v++)switch(l[v].type){case"lattice":y+=((m=l[v].coords.length/l[v].verticesPerRow|0)-1)*(l[v].verticesPerRow-1)*6;break;case"triangles":y+=l[v].coords.length}var b=new Float32Array(2*y),_=new Uint8Array(3*y),w=f.coords,S=f.colors,A=0,C=0;for(v=0,g=l.length;v<g;v++){var P=l[v],E=P.coords,T=P.colors;switch(P.type){case"lattice":var x=P.verticesPerRow;m=E.length/x|0;for(var k=1;k<m;k++)for(var O=k*x+1,R=1;R<x;R++,O++)b[A]=w[E[O-x-1]],b[A+1]=w[E[O-x-1]+1],b[A+2]=w[E[O-x]],b[A+3]=w[E[O-x]+1],b[A+4]=w[E[O-1]],b[A+5]=w[E[O-1]+1],_[C]=S[T[O-x-1]],_[C+1]=S[T[O-x-1]+1],_[C+2]=S[T[O-x-1]+2],_[C+3]=S[T[O-x]],_[C+4]=S[T[O-x]+1],_[C+5]=S[T[O-x]+2],_[C+6]=S[T[O-1]],_[C+7]=S[T[O-1]+1],_[C+8]=S[T[O-1]+2],b[A+6]=b[A+2],b[A+7]=b[A+3],b[A+8]=b[A+4],b[A+9]=b[A+5],b[A+10]=w[E[O]],b[A+11]=w[E[O]+1],_[C+9]=_[C+3],_[C+10]=_[C+4],_[C+11]=_[C+5],_[C+12]=_[C+6],_[C+13]=_[C+7],_[C+14]=_[C+8],_[C+15]=S[T[O]],_[C+16]=S[T[O]+1],_[C+17]=S[T[O]+2],A+=12,C+=18;break;case"triangles":for(var M=0,L=E.length;M<L;M++)b[A]=w[E[M]],b[A+1]=w[E[M]+1],_[C]=S[T[M]],_[C+1]=S[T[M]+1],_[C+2]=S[T[M]+2],A+=2,C+=3}}u?p.clearColor(u[0]/255,u[1]/255,u[2]/255,1):p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT);var I=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,I),p.bufferData(p.ARRAY_BUFFER,b,p.STATIC_DRAW),p.enableVertexAttribArray(d.positionLocation),p.vertexAttribPointer(d.positionLocation,2,p.FLOAT,!1,0,0);var N=p.createBuffer();return p.bindBuffer(p.ARRAY_BUFFER,N),p.bufferData(p.ARRAY_BUFFER,_,p.STATIC_DRAW),p.enableVertexAttribArray(d.colorLocation),p.vertexAttribPointer(d.colorLocation,3,p.UNSIGNED_BYTE,!1,0,0),p.uniform2f(d.scaleLocation,f.scaleX,f.scaleY),p.uniform2f(d.offsetLocation,f.offsetX,f.offsetY),p.drawArrays(p.TRIANGLES,0,y),p.flush(),p.deleteBuffer(I),p.deleteBuffer(N),h},cleanup:function(){u&&u.canvas&&(u.canvas.width=0,u.canvas.height=0),c&&c.canvas&&(c.canvas.width=0,c.canvas.height=0),u=null,c=null}}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!parent)return;parent.postMessage({key:e,value:t},"*")},t.receiveMessage=function(e){window.addEventListener("message",(function(t){if("object"===s(t.data)){var n,r,i=t.data;if(i.key)switch(i.key){case d:e.dispatch("pagenumberchanged",{value:i.value+""});break;case h:e.dispatch("setPageScrollPosition",{value:i.value});break;case p:e.dispatch("setScrollTopPosition",{value:i.value});break;case v:e.dispatch("previouspage");break;case g:e.dispatch("nextpage");break;case m:e.dispatch("zoomout");break;case y:e.dispatch("zoomin");break;case b:e.dispatch("print");break;case _:e.dispatch("printabort");break;case w:e.dispatch("sidebarscroll",{isDown:i.value.isDown,firstId:i.value.firstId,lastId:i.value.lastId});break;case S:e.dispatch("verifyPassword",{password:i.value});break;case A:e.dispatch("find",{type:"",query:String(i.value),phraseSearch:!0,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:void 0});break;case C:e.dispatch("find",{type:"again",query:String(i.value),phraseSearch:!0,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:!0});break;case P:e.dispatch("find",{type:"again",query:String(i.value),phraseSearch:!0,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:!1});break;case E:e.dispatch("findbarclose");break;case T:e.dispatch("initComments",{comments:i.value});break;case x:e.dispatch("addComment",{comment:i.value});break;case k:e.dispatch("deleteComment",{comment:i.value});break;case O:e.dispatch("activateComment",{comment:i.value});break;case R:e.dispatch("deactivateComment");break;case M:var a=Boolean(i.value);a!==l.isCommentMode&&(l.isCommentMode=a,e.dispatch("toggleCommentMode",a));break;case L:var u=i.value,c=u.canCreateRectComment,f=u.canCreateTextComment;c!==l.canCreateRectComment&&(l.canCreateRectComment=c,e.dispatch("toggleCanCreateRectComment",c)),f!==l.canCreateTextComment&&(l.canCreateTextComment=f,e.dispatch("toggleCanCreateTextComment",f));break;case I:var G=Boolean(i.value);G!==l.copyable&&(l.copyable=G,e.dispatch("toggleCopyable",G));break;case N:var H=Boolean(i.value);H!==l.printable&&(l.printable=H);break;case U:if(i.value&&"object"===s(i.value))for(var z=0,q=Object.entries(i.value);z<q.length;z++){var Y=(n=q[z],r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(n,r)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),X=Y[0],K=Y[1],Q=Boolean(K);Q!==l[X]&&(l[X]=Q,"copyable"===X&&e.dispatch("toggleCopyable",Q))}break;case D:var Z=Boolean(i.value);l.isInPresentationMode=Z,e.dispatch("toggleIsInPresentationMode");break;case F:i.value&&i.value.width&&i.value.height&&(l.parentSize=i.value,window.dispatchEvent(function(e){if(CustomEvent)return new CustomEvent(e,{});var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}("resize")));break;case B:e.dispatch("receiveVcFollowState",i);break;case j:i.value&&i.value.dest&&e.dispatch("navigateTo",{dest:i.value.dest});break;case V:i.value&&i.value.isPdfPromptInited&&e.dispatch("initPdfPrompts",{isPdfPromptInited:i.value.isPdfPromptInited,suggestPrompts:i.value.suggestPrompts});break;case W:i.value&&i.value.watermarkInfo&&e.dispatch("receiveWatermarkInfo",{watermarkInfo:i.value.watermarkInfo})}}}),!1)},t.throttle=function(e,t,n){var r,i,a,o,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,o=e.apply(i,a),r||(i=a=null)},c=function(){var c=Date.now();s||!1!==n.leading||(s=c);var l=t-(c-s);return i=this,a=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),s=c,o=e.apply(i,a),r||(i=a=null)):r||!1===n.trailing||(r=setTimeout(u,l)),o};return c.cancel=function(){clearTimeout(r),s=0,r=i=a=null},c},t.genUUID=function(){return z+=1,"".concat(function(e){for(var t="",n=0;n<e;n++){var r=Math.floor(Math.random()*H.length);t+=H[r]}return t}(6)).concat(z)},t.limitNumberSize=function(e,t,n){return Math.max(Math.min(t,e),n)},t.limitNumberDigit=function(e){return parseFloat(e.toFixed(6))},t.isFullCommentType=function(e){return e===G.OLD||e===G.FULL},t.getOffsetTop=function(e,t){var n=e,r=0;for(;n&&n!==t;)r+=n.offsetTop,n=n.offsetParent;return r},t.genTextPopupPosition=function(e,t){var n=t?t.scrollTop:0,r=t?t.scrollLeft:0,i=t?t.offsetWidth:0,a=r+(e.left+e.right)/2-f.TEXT_POPUP_SINGLE_BUTTON_WIDTH/2,o=n+e.top-(f.TEXT_POPUP_GAP+f.TEXT_POPUP_HEIGHT);e.top<f.TEXT_POPUP_HEIGHT+f.TEXT_POPUP_GAP&&(o=n+e.bottom+f.TEXT_POPUP_GAP);window.initialData.isAiUsable&&i&&(a=Math.min(a,i-(window.initialData.isPdfPromptInited?f.POPUP_WIDTH_WITH_AI_PROMPT:f.POPUP_WIDTH_WITHOUT_AI_PROMPT)));return{textPopupLeft:a,textPopupTop:o}},t.getSearchValue=function(e){return(0,i.parseQueryString)(window.location.search)[e.toLowerCase()]},t.shouldShowDigitalSign=function(){return Boolean(window.initialData.showPDFDigitalSign)},t.isInVC=function(){if(void 0!==l.isInVC)return l.isInVC;return l.isInVC=window.navigator.userAgent.indexOf("VC/")>-1,l.isInVC},t.isEdge=function(){return navigator.userAgent.indexOf("Edge")>-1},t.isWebKit=function(){return"WebKit"===c.getEngine().name},t.getSvgWithType=t.SUB_SVG=t.COPILOT_SVG=t.COMMENT_SVG=t.COPY_SVG=t.GLOBAL_CONSTANT=t.ERROR_TYPE=t.POPUP_TYPE=t.GLOBAL_STATE=t.COMMENT_TYPE=t.IFRAME_EVENT=void 0;var r,i=n(209),a=(r=n(210))&&r.__esModule?r:{default:r};function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u="undefined"!=typeof window&&window.User&&window.User.userAgent||navigator.userAgent||"",c=a.default.getParser(u),l={isCommentMode:!1,canCreateRectComment:!1,canCreateTextComment:!1,isEditMode:!1,activeCommentId:"",popupTooltipVisible:!1,copyable:!0,printable:!1,isInPresentationMode:!1,parentSize:{width:0,height:0}};t.GLOBAL_STATE=l;var f={createCommentLayerClassName:"createCommentLayer",pageEditClassName:"page--edit",rectangleControllerClass:"rectangle-controller",fullCommentCLass:"comment-block__full",createCommentClass:"create-comment-block",createCommentTextClass:"create-comment-block__text",createCommentRectClass:"create-comment-block__rectangle",rectangleCommentClass:"comment-block__rectangle",textCommentClass:"comment-block__text",commentClass:"comment-block",highLightClass:"highlight-comment",activeClass:"active-comment",copyButtonId:"text-popup__copy",commentButtonId:"text-popup__comment",showCopilotButtonId:"text-popup__showCopilot",textPopupAiPopupClass:"text-popup__ai-popup",textPopupAiItemClass:"text-popup__ai-item",textPopupAiSubMenuClass:"text-popup__ai-sup-menu",subMenuItemClass:"sub-menu-item",aiHoverBlockClass:"hover-block",aiIconClass:"icon",aiTitleClass:"title",aiIconSubClass:"icon-sub",aiHolderClass:"holder",hiddenTextPopupButtonClass:"text-popup__item--hidden",textPopupButtonClass:"text-popup__item",textPopupInnerButtonClass:"text-popup__inner-item",hiddenTextPopupClass:"text-popup--hidden",textPopupClass:"text-popup",MAX_QUADS_LENGTH:500,TEXT_POPUP_HEIGHT:40,TEXT_POPUP_GAP:10,TEXT_POPUP_SINGLE_BUTTON_WIDTH:44,MATCH_RECT_BORDER_RANGE:.01,COPY_SECRET:"",WITH_ENTITY_ID:!1,POPUP_WIDTH_WITH_AI_PROMPT:361,POPUP_WIDTH_WITHOUT_AI_PROMPT:131};t.GLOBAL_CONSTANT=f;t.IFRAME_EVENT={ERROR:"error",PASSWORD_MODAL_OPEN:"passwordModalOpen",LOADING_PROGRESS:"loadingProgress",IS_MOVING:"isMoving",PDF_LOADED:"pdfloaded",PRINT_MODAL_CLOSE:"printModalClose",PRINT_ERROR:"printError",PRINT_MODAL_OPEN:"printModalOpen",PRINT_PROGRESS:"printProgress",THUMBNAIL:"thumbnail",THUMBNAIL_HEIGHT:"thumbnailHeight",PAGE_COUNT:"pageCount",PAGE_INDEX:"pageIndex",PAGE_OUTLINE:"pageOutline",FIND_STATE_CHANGED:"findStateChanged",CREATE_NEW_COMMENT:"createNewComment",UPDATE_NEW_COMMENT:"updateNewComment",SET_ACTIVE_COMMENT:"setActiveComment",COMMENT_QUADS_EXCEED:"commentQuadsExceed",POPUP_TOOLTIP_STATE:"popupTooltipState",COPY_WITHOUT_PERMISSION:"copyWithoutPermission",ON_COPY:"onCopy",ON_SEARCH:"onSearch",SECLINK_CLICKED:"seclinkClicked",PRESENTATION_PAGE_RENDERED:"presentationPageRendered",POST_VC_FOLLOW_STATE:"postVcFollowState",VC_FOLLOW_FINISHED:"vcFollowFinished",ON_SCALE_CLICK:"onScaleClick",SHOW_COPILOT:"showCopilot",CONFIRM_PROMPT:"confirmPrompt",UPDATE_POSITION:"updatePosition",PAGE_SCROLL_POSITION:"pageScrollPosition",VISIBLE_PAGE_RENDERED:"visiblePageRendered",GET_WATERMARK_INFO:"getWatermarkInfo"};var d="pageNumberChanged",h="setPageScrollPosition",p="setScrollTopPosition",v="prev",g="next",m="zoomOut",y="zoomIn",b="print",_="printAbort",w="sideBarScroll",S="verifyPassword",A="findText",C="findPrev",P="findNext",E="findExit",T="initComments",x="addComment",k="deleteComment",O="activateComment",R="deactivateComment",M="setIsCommentMode",L="setCanCreateComment",I="setCopyable",N="setPrintable",D="setIsInPresentationMode",F="setParentSize",B="receiveVcFollowState",j="navigateTo",U="setActionPermission",V="initPdfPrompts",W="setWatermarkInfo";t.COPY_SVG='<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="Web-16*16" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <g id="Artboard" transform="translate(-173.000000, -672.000000)" fill="#2B2F36">\n        <g id="icon_tool_copy_nor" transform="translate(179.000000, 676.000000)">\n            <path d="M9.33333333,3 C9.70152317,3 10,3.29847683 10,3.66666667 L10,14.5 C10,14.8272799 9.72142162,15.0925926 9.37777778,15.0925926 L0.622222222,15.0925926 C0.278578378,15.0925926 0,14.8272799 0,14.5 L0,3.59259259 C0,3.26531274 0.278578378,3 0.622222222,3 L9.33333333,3 Z M8.5,4.5 L1.5,4.5 L1.5,13.5925926 L8.5,13.5925926 L8.5,4.5 Z M12.7,2.27456339e-13 C12.8656854,2.27466484e-13 13,0.134314575 13,0.3 L13,7.7 C13,7.86568542 12.8656854,8 12.7,8 L11.8,8 C11.6343146,8 11.5,7.86568542 11.5,7.7 L11.5,1.5 L5.3,1.5 C5.13431458,1.5 5,1.36568542 5,1.2 L5,0.3 C5,0.134314575 5.13431458,-2.50752324e-17 5.3,0 L12.7,2.27456339e-13 Z" id="Combined-Shape"></path>\n        </g>\n    </g>\n</g>\n</svg>';t.COMMENT_SVG='\n<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Web-16*16" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Artboard" transform="translate(-173.000000, -1228.000000)">\n            <g id="icon_global_addcomment_nor" transform="translate(173.000000, 1228.000000)">\n                <g id="bg"></g>\n                <g id="icon_global_add-comment_nor" transform="translate(5.000000, 5.000000)" fill="#2B2F36" fill-rule="nonzero">\n                    <g id="编组-9">\n                        <path d="M9.35897436,12.0148626 L7.55883439,13.7721729 C7.24804595,14.0755669 6.75195405,14.0755669 6.44116561,13.7721729 L4.64102564,12.0148626 L0.8,12.0148626 C0.3581722,12.0148626 0,11.6566904 0,11.2148626 L0,0.8 C0,0.3581722 0.3581722,-8.8817842e-16 0.8,-8.8817842e-16 L13.2,-8.8817842e-16 C13.6418278,-8.8817842e-16 14,0.3581722 14,0.8 L14,11.2148626 C14,11.6566904 13.6418278,12.0148626 13.2,12.0148626 L9.35897436,12.0148626 Z M7,12.2214747 L8.74820613,10.5148626 L12.5,10.5148626 L12.5,1.5 L1.5,1.5 L1.5,10.5148626 L5.25179387,10.5148626 L7,12.2214747 Z M3.4,5 L10.6,5 C10.8209139,5 11,5.1790861 11,5.4 L11,6.1 C11,6.3209139 10.8209139,6.5 10.6,6.5 L3.4,6.5 C3.1790861,6.5 3,6.3209139 3,6.1 L3,5.4 C3,5.1790861 3.1790861,5 3.4,5 Z" id="形状结合"></path>\n                    </g>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>';t.COPILOT_SVG='<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-icon="MyaiColorful"><path d="M4.3 5.612c2.187-7.482 12.791-7.482 14.979 0 .582 1.985.899 4.136.899 6.388s-.317 4.403-.9 6.389c-2.186 7.482-12.79 7.482-14.978 0A22.695 22.695 0 0 1 3.4 12c0-2.252.317-4.403.9-6.388Zm14.28 6.654a6.51 6.51 0 1 0-13.022 0 6.51 6.51 0 0 0 13.022 0Z" fill="url(#icon_myai_colorful__a)" opacity="0.7"></path><path d="M2.719 15.371c-5.389-5.633-.08-14.82 7.489-12.97a22.828 22.828 0 0 1 5.986 2.416A22.725 22.725 0 0 1 21.28 8.79c5.388 5.633.086 14.82-7.49 12.97a22.828 22.828 0 0 1-5.985-2.416 22.725 22.725 0 0 1-5.086-3.972Zm15.86-3.105a6.51 6.51 0 1 0-13.02 0 6.51 6.51 0 0 0 13.02 0Z" fill="url(#icon_myai_colorful__b)" opacity="0.7"></path><path d="M10.208 21.76C2.64 23.609-2.67 14.422 2.718 8.789a22.725 22.725 0 0 1 5.087-3.972A22.927 22.927 0 0 1 13.791 2.4C21.359.551 26.668 9.738 21.28 15.371a22.725 22.725 0 0 1-5.087 3.972 22.927 22.927 0 0 1-5.985 2.417Zm8.372-9.494a6.51 6.51 0 1 0-13.022 0 6.51 6.51 0 0 0 13.022 0Z" fill="url(#icon_myai_colorful__c)" opacity="0.7"></path><defs><linearGradient id="icon_myai_colorful__a" x1="0.394" y1="19.813" x2="20.991" y2="5.698" gradientUnits="userSpaceOnUse"><stop offset="0.22" stop-color="#FF9D4C"></stop><stop offset="0.58" stop-color="#F879FD" stop-opacity="0.55"></stop><stop offset="0.94" stop-color="#5337F7"></stop></linearGradient><linearGradient id="icon_myai_colorful__b" x1="13.063" y1="25.854" x2="11.134" y2="0.965" gradientUnits="userSpaceOnUse"><stop offset="0.213" stop-color="#FF9D4C"></stop><stop offset="0.595" stop-color="#F879FD" stop-opacity="0.55"></stop><stop offset="0.94" stop-color="#5337F7"></stop></linearGradient><linearGradient id="icon_myai_colorful__c" x1="24.462" y1="18.044" x2="1.939" y2="7.264" gradientUnits="userSpaceOnUse"><stop offset="0.232" stop-color="#FF9D4C"></stop><stop offset="0.58" stop-color="#F879FD" stop-opacity="0.55"></stop><stop offset="0.957" stop-color="#5337F7"></stop></linearGradient></defs></svg>';t.SUB_SVG='<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-icon="DownBoldOutlined"><path d="m3.414 7.086-.707.707a1 1 0 0 0 0 1.414l7.778 7.778a2 2 0 0 0 2.829 0l7.778-7.778a1 1 0 0 0 0-1.414l-.707-.707a1 1 0 0 0-1.415 0l-7.07 7.07-7.072-7.07a1 1 0 0 0-1.414 0Z" fill="currentColor"></path></svg>';t.getSvgWithType=function(e){switch(e){case"explain":return'<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-icon="SlidesAnimationOutlined"><path d="M7.554 5.074c.725-1.519 2.886-1.519 3.61 0L12.83 8.56l3.83.505c1.668.22 2.336 2.275 1.116 3.433l-2.802 2.66.703 3.8c.306 1.654-1.442 2.924-2.92 2.122L9.36 19.236 5.964 21.08c-1.479.802-3.227-.468-2.921-2.122l.704-3.8L.944 12.5C-.276 11.341.392 9.286 2.06 9.066l3.83-.505 1.664-3.487Zm1.806.86L7.696 9.423a2 2 0 0 1-1.544 1.122l-3.83.505 2.801 2.66a2 2 0 0 1 .59 1.814l-.703 3.8 3.395-1.843a2 2 0 0 1 1.909 0l3.396 1.843-.704-3.8a2 2 0 0 1 .59-1.814l2.802-2.66-3.83-.505a2 2 0 0 1-1.544-1.122L9.36 5.935Z" fill="currentColor"></path><path d="M19.158 2.428c-.347-.43-.924-.54-1.288-.245l-3.956 3.196c-.364.294-.378.881-.03 1.31.346.43.923.54 1.287.246l3.956-3.197c.364-.294.378-.88.03-1.31Zm4.214 9.498c-.348-.43-.955-.515-1.356-.19l-4.363 3.525c-.402.325-.446.936-.099 1.366.347.43.954.515 1.356.19l4.363-3.526c.401-.324.446-.936.099-1.365Zm-.047-6.344c-.348-.43-.947-.52-1.34-.204l-2.84 2.295c-.392.317-.429.923-.082 1.352.347.43.947.521 1.339.204l2.84-2.295c.393-.317.43-.922.082-1.352Z" fill="currentColor"></path></svg>';case"summarize":return'<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-icon="EditDiscriptionOutlined"><path d="M19.602 3.06a1.5 1.5 0 1 1 2.898.777l-.388 1.449-2.898-.776.388-1.45Zm-.774 2.888 2.898.777-3.897 14.543c-.076.285-.24.54-.468.727l-1.48 1.218a.17.17 0 0 1-.268-.073l-.65-1.798a1.394 1.394 0 0 1-.036-.835l3.901-14.559ZM3 3a1 1 0 1 0 0 2h12a1 1 0 1 0 0-2H3Zm-1 9a1 1 0 0 1 1-1h9a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Zm1 7a1 1 0 1 0 0 2h7a1 1 0 1 0 0-2H3Z" fill="currentColor"></path></svg>';case"translate":return'<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-icon="TranslateOutlined"><path d="M18.656 9.5h1.47a8.504 8.504 0 0 0-16.252 0H1.799c1.122-4.592 5.264-8 10.201-8 4.938 0 9.079 3.408 10.2 8h1.644a.16.16 0 0 1 .156.162.166.166 0 0 1-.046.115l-2.539 2.652a.226.226 0 0 1-.33 0l-2.54-2.652a.167.167 0 0 1 0-.23.152.152 0 0 1 .11-.047Zm-13.312 5h-1.47a8.504 8.504 0 0 0 16.252 0h2.075c-1.122 4.592-5.264 8-10.201 8s-9.079-3.408-10.2-8H.155a.152.152 0 0 1-.11-.048.168.168 0 0 1 0-.23l2.539-2.65a.226.226 0 0 1 .33 0l2.54 2.65a.169.169 0 0 1 .045.116.16.16 0 0 1-.156.162Z" fill="currentColor"></path><path d="M13.015 7.5H11.01l-3.51 9h2.016l1.025-2.484H13.4l1.116 2.484H16.5l-3.485-9ZM12.93 12h-1.873l.958-2.52.915 2.52Z" fill="currentColor"></path></svg>';default:return""}};t.POPUP_TYPE={COPY:"copy",COMMENT:"comment",SHOW_COPILOT:"show_copilot"};var G={RECT:1,OLD:2,FULL:3,TEXT:4};t.COMMENT_TYPE=G;t.ERROR_TYPE={NETWORK:"network",PDF:"pdf",FORBIDDEN:"forbidden"};var H="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",z=0},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.isValidRotation=function(e){return Number.isInteger(e)&&e%90==0},t.isPortraitOrientation=function(e){return e.width<=e.height},t.getGlobalEventBus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h||(h=new d({dispatchToDOM:e}));return h},t.getPDFFileNameFromURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof e)return t;if(c(e))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),t;var n=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(e),a=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(a&&(a=a[0]).includes("%"))try{a=r.exec(decodeURIComponent(a))[0]}catch(e){}return a||t},t.noContextMenuHandler=function(e){e.preventDefault()},t.parseQueryString=function(e){for(var t=e.split("&"),n=Object.create(null),r=0,i=t.length;r<i;++r){var a=t[r].split("="),o=a[0].toLowerCase(),s="";s="file"===o?t[r].substr(t[r].indexOf("=")+1):a.length>1?a[1]:null,n[decodeURIComponent(o)]=decodeURIComponent(s)}return n},t.backtrackBeforeAllVisibleElements=u,t.getVisibleElements=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.scrollTop,a=i+e.clientHeight,o=e.scrollLeft,c=o+e.clientWidth;function l(e){var t=e.div;return t.offsetTop+t.clientTop+t.clientHeight>i}function f(e){var t=e.div;return t.offsetLeft+t.clientLeft+t.clientWidth>o}var d,h,p,v,g,m,y,b,_,w,S,A=[],C=0===t.length?0:s(t,r?f:l);t.length>0&&!r&&(C=u(C=Math.min(C,t.length-1),t,i));for(var P=r?c:-1,E=C,T=t.length;E<T;E++){if(d=t[E],h=d.div,y=h.offsetLeft+h.clientLeft,p=h.offsetTop+h.clientTop,b=h.clientWidth,v=h.clientHeight,_=y+b,g=p+v,-1===P)g>=a&&(P=g);else if((r?y:p)>P)break;g<=i||p>=a||_<=o||y>=c||(m=Math.max(0,i-p)+Math.max(0,g-a),w=Math.max(0,o-y)+Math.max(0,_-c),S=(v-m)*(b-w)*100/v/b|0,A.push({id:d.id,x:y,y:p,view:d,percent:S}))}var x=A[0],k=A[A.length-1];n&&A.sort((function(e,t){var n=e.percent-t.percent;return Math.abs(n)>.001?-n:e.id-t.id}));return{first:x,last:k,views:A}},t.roundToDivide=function(e,t){var n=e%t;return 0===n?e:Math.round(e-n+t)},t.getPageSizeInches=function(e){var t=e.view,n=e.userUnit,r=e.rotate,i=(h=t,p=4,function(e){if(Array.isArray(e))return e}(h)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(h,p)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(h,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],s=i[1],u=i[2],c=i[3],l=r%180!=0,f=(u-a)/72*n,d=(c-s)/72*n;var h,p;return{width:l?d:f,height:l?f:d}},t.approximateFraction=function(e){if(Math.floor(e)===e)return[e,1];var t=1/e;if(t>8)return[1,8];if(Math.floor(t)===t)return[1,t];var n,r=e>1?t:e,i=0,a=1,o=1,s=1;for(;;){var u=i+o,c=a+s;if(c>8)break;r<=u/c?(o=u,s=c):(i=u,a=c)}n=r-i/a<o/s-r?r===e?[i,a]:[a,i]:r===e?[o,s]:[s,o];return n},t.getOutputScale=function(e){var t=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,r=t/n;return{sx:r,sy:r,scaled:1!==r}},t.scrollIntoView=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.offsetParent;if(!i)return void console.error("offsetParent is not set -- cannot scroll");var a=e.offsetTop+e.clientTop,o=e.offsetLeft+e.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||n&&"hidden"===getComputedStyle(i).overflow;)if(i.dataset._scaleY&&(a/=i.dataset._scaleY,o/=i.dataset._scaleX),a+=i.offsetTop,o+=i.offsetLeft,!(i=i.offsetParent))return;t&&(void 0!==t.top&&(a+=t.top),void 0!==t.left&&(o+=t.left));r?i.scrollTo({top:a,left:o,behavior:"smooth"}):(i.scrollTop=a,i.scrollLeft=o)},t.watchScroll=function(e,t){var n=function(n){i||(i=window.requestAnimationFrame((function(){i=null;var n=e.scrollLeft,a=r.lastX;n!==a&&(r.right=n>a),r.lastX=n;var o=e.scrollTop,s=r.lastY;o!==s&&(r.down=o>s),r.lastY=o,t(r)})))},r={right:!0,down:!0,lastX:e.scrollLeft,lastY:e.scrollTop,_eventHandler:n},i=null;return e.addEventListener("scroll",n,!0),r},t.binarySearchFirstItem=s,t.normalizeWheelEventDelta=function(e){var t=Math.sqrt(e.deltaX*e.deltaX+e.deltaY*e.deltaY),n=Math.atan2(e.deltaY,e.deltaX);-.25*Math.PI<n&&n<.75*Math.PI&&(t=-t);0===e.deltaMode?t/=900:1===e.deltaMode&&(t/=30);return t},t.waitOnEventOrTimeout=function(e){var t=e.target,n=e.name,r=e.delay,i=void 0===r?0:r;return new Promise((function(e,r){if("object"!==a(t)||!n||"string"!=typeof n||!(Number.isInteger(i)&&i>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function o(r){t instanceof d?t.off(n,s):t.removeEventListener(n,s),c&&clearTimeout(c),e(r)}var s=o.bind(null,l.EVENT);t instanceof d?t.on(n,s):t.addEventListener(n,s);var u=o.bind(null,l.TIMEOUT),c=setTimeout(u,i)}))},t.moveToEndOfArray=function(e,t){for(var n=[],r=e.length,i=0,a=0;a<r;++a)t(e[a])?n.push(e[a]):(e[i]=e[a],++i);for(var o=0;i<r;++o,++i)e[i]=n[o]},t.WaitOnType=t.animationStarted=t.EventBus=t.TextLayerMode=t.RendererType=t.PresentationModeState=t.VERTICAL_PADDING=t.SCROLLBAR_PADDING=t.MAX_AUTO_SCALE=t.UNKNOWN_SCALE=t.MAX_SCALE=t.MIN_SCALE=t.DEFAULT_SCALE=t.DEFAULT_SCALE_VALUE=t.CSS_UNITS=void 0;t.CSS_UNITS=96/72;t.DEFAULT_SCALE_VALUE="auto";t.DEFAULT_SCALE=1;t.MIN_SCALE=.1;t.MAX_SCALE=10;t.UNKNOWN_SCALE=0;t.MAX_AUTO_SCALE=1.25;t.SCROLLBAR_PADDING=40;t.VERTICAL_PADDING=5;t.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};t.RendererType={CANVAS:"canvas",SVG:"svg"};function s(e,t){var n=0,r=e.length-1;if(0===e.length||!t(e[r]))return e.length;if(t(e[n]))return n;for(;n<r;){var i=n+r>>1;t(e[i])?r=i:n=i+1}return n}function u(e,t,n){if(e<2)return e;var r=t[e].div,i=r.offsetTop+r.clientTop;i>=n&&(i=(r=t[e-1].div).offsetTop+r.clientTop);for(var a=e-2;a>=0&&!((r=t[a].div).offsetTop+r.clientTop+r.clientHeight<=i);--a)e=a;return e}function c(e){for(var t=0,n=e.length;t<n&&""===e[t].trim();)t++;return"data:"===e.substring(t,t+5).toLowerCase()}t.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var l={EVENT:"event",TIMEOUT:"timeout"};t.WaitOnType=l;var f=new Promise((function(e){window.requestAnimationFrame(e)}));t.animationStarted=f;var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.dispatchToDOM,i=void 0!==n&&n;r(this,e),this._listeners=Object.create(null),this._dispatchToDOM=!0===i}var t,n,a;return t=e,(n=[{key:"on",value:function(e,t){var n=this._listeners[e];n||(n=[],this._listeners[e]=n),n.push(t)}},{key:"off",value:function(e,t){var n,r=this._listeners[e];!r||(n=r.indexOf(t))<0||r.splice(n,1)}},{key:"dispatch",value:function(e){var t=this._listeners[e];if(t&&0!==t.length){var n=Array.prototype.slice.call(arguments,1);t.slice(0).forEach((function(e){e.apply(null,n)})),this._dispatchToDOM&&this._dispatchDOMEvent(e,n)}else if(this._dispatchToDOM){var r=Array.prototype.slice.call(arguments,1);this._dispatchDOMEvent(e,r)}}},{key:"_dispatchDOMEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object.create(null);if(t&&t.length>0){var r=t[0];for(var i in r){var a=r[i];if("source"!==i)n[i]=a;else if(a===window||a===document)return}}var o=document.createEvent("CustomEvent");o.initCustomEvent(e,!0,!0,n),document.dispatchEvent(o)}}])&&i(t.prototype,n),a&&i(t,a),e}();t.EventBus=d;var h=null},function(e,t,n){"use strict";(function(e){var n,r,i,a;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==o(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),a=e.getVersionPrecision(n),o=Math.max(i,a),s=0,u=e.map([t,n],(function(t){var n=o-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=o-Math.min(i,a)),o-=1;o>=s;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===s)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(a));var u=function(){var e=a[t];"object"==o(e)&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=a.length;t<n;t+=1)u();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},a=n(18);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,(n=[{key:"BROWSER_MAP",get:function(){return a.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return a.ENGINE_MAP}},{key:"OS_MAP",get:function(){return a.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return a.PLATFORMS_MAP}}])&&o(t,n),e}();t.default=s,e.exports=t.default},91:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),a=c(n(94)),s=c(n(95)),u=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=u.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=u.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=u.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=u.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return u.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},a=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(i[t]=s,a+=1):"object"==o(s)&&(n[t]=s,r+=1)})),r>0){var s=Object.keys(n),c=u.default.find(s,(function(e){return t.isOS(e)}));if(c){var l=this.satisfies(n[c]);if(void 0!==l)return l}var f=u.default.find(s,(function(e){return t.isPlatform(e)}));if(f){var d=this.satisfies(n[f]);if(void 0!==d)return d}}if(a>0){var h=Object.keys(i),p=u.default.find(h,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(i[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=u.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(u.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=l,e.exports=t.default},92:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=o,e.exports=t.default},93:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:a.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:a.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:a.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:a.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:a.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:a.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:a.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:a.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:a.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:a.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.PlayStation4,version:t}}}];t.default=o,e.exports=t.default},94:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:a.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:a.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}}];t.default=o,e.exports=t.default},95:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:a.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:a.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:a.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:a.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:a.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:a.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:a.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=o,e.exports=t.default}})},"object"==o(t)&&"object"==o(e)?e.exports=a():(r=[],void 0===(i="function"==typeof(n=a)?n.apply(t,r):n)||(e.exports=i))}).call(this,n(4)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var r=n(1),i=n(5),a=n(212);function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}var b=function(){function e(){g(this,e)}return y(e,null,[{key:"create",value:function(e){switch(e.data.annotationType){case i.AnnotationType.LINK:return new w(e);case i.AnnotationType.TEXT:return new S(e);case i.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new C(e);case"Btn":return e.data.radioButton?new E(e):e.data.checkBox?new P(e):new T(e);case"Ch":return new x(e)}return new A(e);case i.AnnotationType.POPUP:return new k(e);case i.AnnotationType.FREETEXT:return new R(e);case i.AnnotationType.LINE:return new M(e);case i.AnnotationType.SQUARE:return new L(e);case i.AnnotationType.CIRCLE:return new I(e);case i.AnnotationType.POLYLINE:return new N(e);case i.AnnotationType.CARET:return new F(e);case i.AnnotationType.INK:return new B(e);case i.AnnotationType.POLYGON:return new D(e);case i.AnnotationType.HIGHLIGHT:return new j(e);case i.AnnotationType.UNDERLINE:return new U(e);case i.AnnotationType.SQUIGGLY:return new V(e);case i.AnnotationType.STRIKEOUT:return new W(e);case i.AnnotationType.STAMP:return new G(e);case i.AnnotationType.FILEATTACHMENT:return new H(e);default:return new _(e)}}}]),e}(),_=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];g(this,e),this.isRenderable=n,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderInteractiveForms=t.renderInteractiveForms,this.svgFactory=t.svgFactory,n&&(this.container=this._createContainer(r))}return y(e,[{key:"_createContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data,n=this.page,r=this.viewport,a=document.createElement("section"),o=t.rect[2]-t.rect[0],s=t.rect[3]-t.rect[1];a.setAttribute("data-annotation-id",t.id);var u=i.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(a.style.transform="matrix(".concat(r.transform.join(","),")"),a.style.transformOrigin="-".concat(u[0],"px -").concat(u[1],"px"),!e&&t.borderStyle.width>0){a.style.borderWidth="".concat(t.borderStyle.width,"px"),t.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(o-=2*t.borderStyle.width,s-=2*t.borderStyle.width);var c=t.borderStyle.horizontalCornerRadius,l=t.borderStyle.verticalCornerRadius;if(c>0||l>0){var f="".concat(c,"px / ").concat(l,"px");a.style.borderRadius=f}switch(t.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:a.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:a.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:a.style.borderBottomStyle="solid"}t.color?a.style.borderColor=i.Util.makeHexColor(0|t.color[0],0|t.color[1],0|t.color[2]):a.style.borderWidth=0}return a.style.left="".concat(u[0],"px"),a.style.top="".concat(u[1],"px"),a.style.width="".concat(o,"px"),a.style.height="".concat(s,"px"),a}},{key:"_createPopup",value:function(e,t,n){t||((t=document.createElement("div")).style.height=e.style.height,t.style.width=e.style.width,e.appendChild(t));var r=new O({container:e,trigger:t,color:n.color,title:n.title,modificationDate:n.modificationDate,contents:n.contents,hideWrapper:!0}).render();r.style.left=e.style.width,e.appendChild(r)}},{key:"render",value:function(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}}]),e}(),w=function(e){l(n,e);var t=d(n);function n(e){g(this,n);var r=!!(e.data.url||e.data.dest||e.data.action);return t.call(this,e,r)}return y(n,[{key:"render",value:function(){this.container.className="linkAnnotation";var e=this.data,t=this.linkService,n=document.createElement("a");return e.url?(n.href=e.url,(0,r.addLinkAttributes)(n,{url:(0,a.getCustomSecureLink)(n),target:e.newWindow?r.LinkTarget.BLANK:t.externalLinkTarget,rel:t.externalLinkRel,enabled:t.externalLinkEnabled})):e.action?this._bindNamedAction(n,e.action):this._bindLink(n,e.dest),this.container.appendChild(n),this.container}},{key:"_bindLink",value:function(e,t){var n=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&n.linkService.navigateTo(t),!1},t&&(e.className="internalLink")}},{key:"_bindNamedAction",value:function(e,t){var n=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return n.linkService.executeNamedAction(t),!1},e.className="internalLink"}}]),n}(_),S=function(e){l(n,e);var t=d(n);function n(e){g(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r)}return y(n,[{key:"render",value:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.style.visibility="hidden",e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}}]),n}(_),A=function(e){l(n,e);var t=d(n);function n(){return g(this,n),t.apply(this,arguments)}return y(n,[{key:"render",value:function(){return this.container}}]),n}(_),C=function(e){l(n,e);var t=d(n);function n(e){g(this,n);var r=e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue;return t.call(this,e,r)}return y(n,[{key:"render",value:function(){this.container.className="textWidgetAnnotation";var e=null;if(this.renderInteractiveForms){if(this.data.multiLine?(e=document.createElement("textarea")).textContent=this.data.fieldValue:((e=document.createElement("input")).type="text",e.setAttribute("value",this.data.fieldValue)),e.disabled=this.data.readOnly,e.name=this.data.fieldName,null!==this.data.maxLen&&(e.maxLength=this.data.maxLen),this.data.comb){var t=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;e.classList.add("comb"),e.style.letterSpacing="calc(".concat(t,"px - 1ch)")}}else{(e=document.createElement("div")).textContent=this.data.fieldValue,e.style.verticalAlign="middle",e.style.display="table-cell";var n=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(n=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(e,n)}return null!==this.data.textAlignment&&(e.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(e),this.container}},{key:"_setTextStyle",value:function(e,t){var n=e.style;if(n.fontSize="".concat(this.data.fontSize,"px"),n.direction=this.data.fontDirection<0?"rtl":"ltr",t){var r="normal";t.black?r="900":t.bold&&(r="bold"),n.fontWeight=r,n.fontStyle=t.italic?"italic":"normal";var i=t.loadedName?'"'.concat(t.loadedName,'", '):"",a=t.fallbackName||"Helvetica, sans-serif";n.fontFamily=i+a}}}]),n}(A),P=function(e){l(n,e);var t=d(n);function n(e){return g(this,n),t.call(this,e,e.renderInteractiveForms)}return y(n,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="checkbox",e.name=this.data.fieldName,this.data.fieldValue&&"Off"!==this.data.fieldValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}]),n}(A),E=function(e){l(n,e);var t=d(n);function n(e){return g(this,n),t.call(this,e,e.renderInteractiveForms)}return y(n,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="radio",e.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}]),n}(A),T=function(e){l(n,e);var t=d(n);function n(){return g(this,n),t.apply(this,arguments)}return y(n,[{key:"render",value:function(){var e=u(v(n.prototype),"render",this).call(this);return e.className="buttonWidgetAnnotation pushButton",e}}]),n}(w),x=function(e){l(n,e);var t=d(n);function n(e){return g(this,n),t.call(this,e,e.renderInteractiveForms)}return y(n,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var e=document.createElement("select");e.disabled=this.data.readOnly,e.name=this.data.fieldName,this.data.combo||(e.size=this.data.options.length,this.data.multiSelect&&(e.multiple=!0));var t,n=o(this.data.options);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=document.createElement("option");i.textContent=r.displayValue,i.value=r.exportValue,this.data.fieldValue.includes(r.displayValue)&&i.setAttribute("selected",!0),e.appendChild(i)}}catch(e){n.e(e)}finally{n.f()}return this.container.appendChild(e),this.container}}]),n}(A),k=function(e){l(n,e);var t=d(n);function n(e){g(this,n);var r=!(!e.data.title&&!e.data.contents);return t.call(this,e,r)}return y(n,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var e='[data-annotation-id="'.concat(this.data.parentId,'"]'),t=this.layer.querySelector(e);if(!t)return this.container;var n=new O({container:this.container,trigger:t,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),r=parseFloat(t.style.left),i=parseFloat(t.style.width);return this.container.style.transformOrigin="-".concat(r+i,"px -").concat(t.style.top),this.container.style.left="".concat(r+i,"px"),this.container.appendChild(n.render()),this.container}}]),n}(_),O=function(){function e(t){g(this,e),this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.title=t.title,this.modificationDate=t.modificationDate,this.contents=t.contents,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}return y(e,[{key:"render",value:function(){var e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.setAttribute("hidden",!0);var t=document.createElement("div");t.className="popup";var n=this.color;if(n){var r=.7*(255-n[0])+n[0],a=.7*(255-n[1])+n[1],o=.7*(255-n[2])+n[2];t.style.backgroundColor=i.Util.makeHexColor(0|r,0|a,0|o)}var s=document.createElement("h1");s.textContent=this.title,t.appendChild(s);var u=this._formatContents(this.contents);return t.appendChild(u),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),t.addEventListener("click",this._hide.bind(this,!0)),e.appendChild(t),e}},{key:"_formatContents",value:function(e){for(var t=document.createElement("p"),n=e.split(/(?:\r\n?|\n)/),r=0,i=n.length;r<i;++r){var a=n[r];t.appendChild(document.createTextNode(a)),r<i-1&&t.appendChild(document.createElement("br"))}return t}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),e}(),R=function(e){l(n,e);var t=d(n);function n(e){g(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return y(n,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(_),M=function(e){l(n,e);var t=d(n);function n(e){g(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return y(n,[{key:"render",value:function(){this.container.className="lineAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),i=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),r.appendChild(i),this.container.append(r),this._createPopup(this.container,i,e),this.container}}]),n}(_),L=function(e){l(n,e);var t=d(n);function n(e){g(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return y(n,[{key:"render",value:function(){this.container.className="squareAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),i=e.borderStyle.width,a=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",i/2),a.setAttribute("y",i/2),a.setAttribute("width",t-i),a.setAttribute("height",n-i),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","none"),r.appendChild(a),this.container.append(r),this._createPopup(this.container,a,e),this.container}}]),n}(_),I=function(e){l(n,e);var t=d(n);function n(e){g(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return y(n,[{key:"render",value:function(){this.container.className="circleAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),i=e.borderStyle.width,a=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",t/2),a.setAttribute("cy",n/2),a.setAttribute("rx",t/2-i/2),a.setAttribute("ry",n/2-i/2),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","none"),r.appendChild(a),this.container.append(r),this._createPopup(this.container,a,e),this.container}}]),n}(_),N=function(e){l(n,e);var t=d(n);function n(e){var r;g(this,n);var i=!!(e.data.hasPopup||e.data.title||e.data.contents);return(r=t.call(this,e,i,!0)).containerClassName="polylineAnnotation",r.svgElementName="svg:polyline",r}return y(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=t.rect[2]-t.rect[0],r=t.rect[3]-t.rect[1],i=this.svgFactory.create(n,r),a=[],s=o(t.vertices);try{for(s.s();!(e=s.n()).done;){var u=e.value,c=u.x-t.rect[0],l=t.rect[3]-u.y;a.push(c+","+l)}}catch(e){s.e(e)}finally{s.f()}a=a.join(" ");var f=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",a),f.setAttribute("stroke-width",t.borderStyle.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","none"),i.appendChild(f),this.container.append(i),this._createPopup(this.container,f,t),this.container}}]),n}(_),D=function(e){l(n,e);var t=d(n);function n(e){var r;return g(this,n),(r=t.call(this,e)).containerClassName="polygonAnnotation",r.svgElementName="svg:polygon",r}return n}(N),F=function(e){l(n,e);var t=d(n);function n(e){g(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return y(n,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(_),B=function(e){l(n,e);var t=d(n);function n(e){var r;g(this,n);var i=!!(e.data.hasPopup||e.data.title||e.data.contents);return(r=t.call(this,e,i,!0)).containerClassName="inkAnnotation",r.svgElementName="svg:polyline",r}return y(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=t.rect[2]-t.rect[0],r=t.rect[3]-t.rect[1],i=this.svgFactory.create(n,r),a=o(t.inkLists);try{for(a.s();!(e=a.n()).done;){var s,u=e.value,c=[],l=o(u);try{for(l.s();!(s=l.n()).done;){var f=s.value,d=f.x-t.rect[0],h=t.rect[3]-f.y;c.push("".concat(d,",").concat(h))}}catch(e){l.e(e)}finally{l.f()}c=c.join(" ");var p=this.svgFactory.createElement(this.svgElementName);p.setAttribute("points",c),p.setAttribute("stroke-width",t.borderStyle.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","none"),this._createPopup(this.container,p,t),i.appendChild(p)}}catch(e){a.e(e)}finally{a.f()}return this.container.append(i),this.container}}]),n}(_),j=function(e){l(n,e);var t=d(n);function n(e){g(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return y(n,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(_),U=function(e){l(n,e);var t=d(n);function n(e){g(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return y(n,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(_),V=function(e){l(n,e);var t=d(n);function n(e){g(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return y(n,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(_),W=function(e){l(n,e);var t=d(n);function n(e){g(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return y(n,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(_),G=function(e){l(n,e);var t=d(n);function n(e){g(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return y(n,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(_),H=function(e){l(n,e);var t=d(n);function n(e){var a;g(this,n);var o=(a=t.call(this,e,!0)).data.file,s=o.filename,u=o.content;return a.filename=(0,r.getFilenameFromUrl)(s),a.content=u,a.linkService.eventBus&&a.linkService.eventBus.dispatch("fileattachmentannotation",{source:p(a),id:(0,i.stringToPDFString)(s),filename:s,content:u}),a}return y(n,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,i.warn)("Download cannot be started due to unavailable download manager")}}]),n}(_),z=function(){function e(){g(this,e)}return y(e,null,[{key:"render",value:function(e){var t,n=[],a=[],s=o(e.annotations);try{for(s.s();!(t=s.n()).done;){var u=t.value;u&&(u.annotationType!==i.AnnotationType.POPUP?n.push(u):a.push(u))}}catch(e){s.e(e)}finally{s.f()}a.length&&n.push.apply(n,a);for(var c=0,l=n;c<l.length;c++){var f=l[c],d=b.create({data:f,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderInteractiveForms:e.renderInteractiveForms||!1,svgFactory:new r.DOMSVGFactory});d.isRenderable&&e.div.appendChild(d.render())}}},{key:"update",value:function(e){var t,n=o(e.annotations);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=e.div.querySelector('[data-annotation-id="'.concat(r.id,'"]'));i&&(i.style.transform="matrix(".concat(e.viewport.transform.join(","),")"))}}catch(e){n.e(e)}finally{n.f()}e.div.removeAttribute("hidden")}}]),e}();t.AnnotationLayer=z},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomSecureLink=function(e,t){var n=e.getAttribute("href");if(!n||!c(e))return n;var i=Object.assign({},{baseUrl:a,logParams:s()},t);/^https:\/\/security\..*\/link\/safety$/.test(i.baseUrl)||(i.baseUrl="https://security.feishu.cn/link/safety",window.location.hostname.includes("larksuite")&&(i.baseUrl="https://security.larksuite.com/link/safety"));return(0,r.getSecureLink)(n,i)},t.getSearchParam=o,t.getSceneOption=s,t.isAnchorUrl=u,t.seclinkEnabled=c,t.seclinkReportInit=function(){document.addEventListener("click",(function(e){"A"===e.target.tagName&&c(e.target)&&parent.postMessage({key:"seclinkClicked"},"*")}))},t.locationTypes=void 0;var r=n(213),i={doc:"drivesdk_creation",doc_file:"drivesdk_creation",bitable:"drivesdk_creation",default:"ccm_drive"};t.locationTypes=i;var a=decodeURIComponent(o("secbase"));function o(e){try{for(var t=window.location.search.substr(1).split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if(2===r.length&&r[0]===e)return r[1]}}catch(e){return console.error(e),""}return""}function s(){var e=o("source");return{location:i[e]||i.default}}function u(e){var t=e.getAttribute("href");return t&&0===t.indexOf("#")}function c(e){var t=o("source"),n="calendar"===t||"email"===t;return"1"===o("sl")&&!n&&!u(e)}},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.config=function(e){a=Object.assign({},a,e)},t.getSecureLink=function(e,t){void 0===t&&(t={});return s(e,t).targetUrl},t.getWhiteList=function(){return a.whiteList},t.processSecureLink=s,t.updateWhiteList=function(e){a.whiteList=e},t.verify=o,t.SECURE_LINK_SCENE=t.SECURE_LINK_LOG=void 0,t.SECURE_LINK_SCENE=r,function(e){e.MESSENGER="messager",e.CCM="ccm",e.CALENDAR="calendar",e.EMAIL="email",e.OPENPLATFORM="openPlatform",e.VC="vc"}(r||(t.SECURE_LINK_SCENE=r={})),t.SECURE_LINK_LOG=i,function(e){e.MESSENGER_CHAT="messenger_chat",e.MESSENGER_CHAT_SHARED_LINK_CARD="messenger_chat_shared_link_card",e.MESSENGER_SEARCH_LINK="messenger_search_link",e.MESSENGER_INCHAT_SEARCH_LINK="messenger_inchat_search_link",e.MESSENGER_PROFILE="messenger_profile",e.MESSENGER_SITE="messenger_site",e.MESSENGER_FAVORITE="messenger_favorite",e.MESSENGER_PIN="messenger_pin",e.MESSENGER_FILE="messenger_file",e.EVENT_DESCRIPTION="event_description",e.EVENT_ATTACHMENT_PREVIEW="event_attachment_preview",e.EMAIL_BODY="email_body",e.EMAIL_ATTACHMENT_PREVIEW="email_attachment_preview",e.CCM_DOCS="ccm_docs",e.CCM_SHEET="ccm_sheet",e.CCM_BITABLE="ccm_bitable",e.CCM_MINDNOTE="ccm_mindnote",e.CCM_DRIVE="ccm_drive",e.DRIVESDK_CREATION="drivesdk_creation",e.DOCS_SDK_COMMENT="docs_sdk_comment",e.BITABLE_SDK_APPBUILDER="bitable_sdk_appbuilder",e.MESSENGER_GROUP_ANNOUNCEMENT="messenger_group_announcement",e.OPENDOC_CONFERENCE_RECORDS="opendoc_conference_records",e.OP_GADGET="op_gadget",e.OP_MESSAGE_CARD="op_message_card",e.OP_H5="op_H5"}(i||(t.SECURE_LINK_LOG=i={}));var a={enable:!0,whiteList:[],baseUrl:"",interceptors:[]};function o(e){return!a.enable||!("string"!=typeof e||!e)&&(!!/^(mailto|tel):/.test(e)||(/^(?:(\w+)\:)?\/\//.test(e)||(e="http://"+e),function(e){return a.whiteList.some((function(t){return t instanceof RegExp?t.test(e):"string"==typeof t?new RegExp(t).test(e):"function"!=typeof t||t(e)}))}(function(e){try{return new URL(e).hostname}catch(n){var t=/^((\w+):)?(\/\/((\w+)?(:(\w+))?@)?([^\/\?:]+)(:(\d+))?)?(\/?([^\/\?#][^\?#]*)?)?(\?([^#]+))?(#(\w*))?/.exec(e);return t&&t[8]||""}}(e))))}function s(e,t){void 0===t&&(t={});var n=(a.interceptors||[]).reduce((function(t,n){return t||n(e)}),"");if(n)return{secure:!0,targetUrl:n};var i=o(e);return{secure:i,targetUrl:i?e:function(e,t){var n=t.baseUrl||a.baseUrl;if(!n)return e;var i=t.scene||r.CCM,o=function(e){if(e.lang)return e.lang;try{return navigator.language||""}catch(e){return""}}(t),s=encodeURIComponent(e),u=encodeURIComponent(JSON.stringify(t.logParams||{}));return n+"?target="+s+"&scene="+i+"&logParams="+u+"&lang="+o}(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var r=n(5),i=function(){var e=/\S/;function t(t,n,i){var a,o=document.createElement("span"),s={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(t._textDivs.push(o),a=n.str,!e.test(a))return s.isWhitespace=!0,void t._textDivProperties.set(o,s);var u=r.Util.transform(t._viewport.transform,n.transform),c=Math.atan2(u[1],u[0]),l=i[n.fontName];l.vertical&&(c+=Math.PI/2);var f,d,h=Math.sqrt(u[2]*u[2]+u[3]*u[3]),p=h;l.ascent?p=l.ascent*p:l.descent&&(p=(1+l.descent)*p),0===c?(f=u[4],d=u[5]-p):(f=u[4]+p*Math.sin(c),d=u[5]-p*Math.cos(c)),o.style.left="".concat(f,"px"),o.style.top="".concat(d,"px"),o.style.fontSize="".concat(h,"px"),o.style.fontFamily=l.fontFamily,o.textContent=n.str,t._fontInspectorEnabled&&(o.dataset.fontName=n.fontName),0!==c&&(s.angle=c*(180/Math.PI));var v=!1;if(n.str.length>1)v=!0;else if(n.transform[0]!==n.transform[3]){var g=Math.abs(n.transform[0]),m=Math.abs(n.transform[3]);g!==m&&Math.max(g,m)/Math.min(g,m)>1.5&&(v=!0)}if(v&&(l.vertical?s.canvasWidth=n.height*t._viewport.scale:s.canvasWidth=n.width*t._viewport.scale),t._textDivProperties.set(o,s),t._textContentStream&&t._layoutText(o),t._enhanceTextSelection){var y=1,b=0;0!==c&&(y=Math.cos(c),b=Math.sin(c));var _,w,S=(l.vertical?n.height:n.width)*t._viewport.scale,A=h;0!==c?(_=[y,b,-b,y,f,d],w=r.Util.getAxialAlignedBoundingBox([0,0,S,A],_)):w=[f,d,f+S,d+A],t._bounds.push({left:w[0],top:w[1],right:w[2],bottom:w[3],div:o,size:[S,A],m:_})}}function n(e){if(!e._canceled){var t=e._textDivs,n=e._capability,r=t.length;if(r>1e5)return e._renderingDone=!0,void n.resolve();if(!e._textContentStream)for(var i=0;i<r;i++)e._layoutText(t[i]);e._renderingDone=!0,n.resolve()}}function i(e,t,n){for(var r=0,i=0;i<n;i++){var a=e[t++];a>0&&(r=r?Math.min(a,r):a)}return r}function a(e){for(var t=e._bounds,n=e._viewport,a=function(e,t,n){var r=n.map((function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}}));o(e,r);var i=new Array(n.length);return r.forEach((function(e){var t=e.index;i[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}})),n.map((function(t,n){var a=i[n],o=r[n];o.x1=t.top,o.y1=e-a.right,o.x2=t.bottom,o.y2=e-a.left,o.index=n,o.x1New=void 0,o.x2New=void 0})),o(t,r),r.forEach((function(e){var t=e.index;i[t].top=e.x1New,i[t].bottom=e.x2New})),i}(n.width,n.height,t),s=0;s<a.length;s++){var u=t[s].div,c=e._textDivProperties.get(u);if(0!==c.angle){var l=a[s],f=t[s],d=f.m,h=d[0],p=d[1],v=[[0,0],[0,f.size[1]],[f.size[0],0],f.size],g=new Float64Array(64);v.forEach((function(e,t){var n=r.Util.applyTransform(e,d);g[t+0]=h&&(l.left-n[0])/h,g[t+4]=p&&(l.top-n[1])/p,g[t+8]=h&&(l.right-n[0])/h,g[t+12]=p&&(l.bottom-n[1])/p,g[t+16]=p&&(l.left-n[0])/-p,g[t+20]=h&&(l.top-n[1])/h,g[t+24]=p&&(l.right-n[0])/-p,g[t+28]=h&&(l.bottom-n[1])/h,g[t+32]=h&&(l.left-n[0])/-h,g[t+36]=p&&(l.top-n[1])/-p,g[t+40]=h&&(l.right-n[0])/-h,g[t+44]=p&&(l.bottom-n[1])/-p,g[t+48]=p&&(l.left-n[0])/p,g[t+52]=h&&(l.top-n[1])/-h,g[t+56]=p&&(l.right-n[0])/p,g[t+60]=h&&(l.bottom-n[1])/-h}));var m=1+Math.min(Math.abs(h),Math.abs(p));c.paddingLeft=i(g,32,16)/m,c.paddingTop=i(g,48,16)/m,c.paddingRight=i(g,0,16)/m,c.paddingBottom=i(g,16,16)/m,e._textDivProperties.set(u,c)}else c.paddingLeft=t[s].left-a[s].left,c.paddingTop=t[s].top-a[s].top,c.paddingRight=a[s].right-t[s].right,c.paddingBottom=a[s].bottom-t[s].bottom,e._textDivProperties.set(u,c)}}function o(e,t){t.sort((function(e,t){return e.x1-t.x1||e.index-t.index}));var n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];t.forEach((function(e){for(var t=0;t<n.length&&n[t].end<=e.y1;)t++;for(var r,i,a=n.length-1;a>=0&&n[a].start>=e.y2;)a--;var o,s,u=-1/0;for(o=t;o<=a;o++){var c;(c=(i=(r=n[o]).boundary).x2>e.x1?i.index>e.index?i.x1New:e.x1:void 0===i.x2New?(i.x2+e.x1)/2:i.x2New)>u&&(u=c)}for(e.x1New=u,o=t;o<=a;o++)void 0===(i=(r=n[o]).boundary).x2New?i.x2>e.x1?i.index>e.index&&(i.x2New=i.x2):i.x2New=u:i.x2New>u&&(i.x2New=Math.max(u,i.x2));var l=[],f=null;for(o=t;o<=a;o++){var d=(i=(r=n[o]).boundary).x2>e.x2?i:e;f===d?l[l.length-1].end=r.end:(l.push({start:r.start,end:r.end,boundary:d}),f=d)}for(n[t].start<e.y1&&(l[0].start=e.y1,l.unshift({start:n[t].start,end:e.y1,boundary:n[t].boundary})),e.y2<n[a].end&&(l[l.length-1].end=e.y2,l.push({start:e.y2,end:n[a].end,boundary:n[a].boundary})),o=t;o<=a;o++)if(void 0===(i=(r=n[o]).boundary).x2New){var h=!1;for(s=t-1;!h&&s>=0&&n[s].start>=i.y1;s--)h=n[s].boundary===i;for(s=a+1;!h&&s<n.length&&n[s].end<=i.y2;s++)h=n[s].boundary===i;for(s=0;!h&&s<l.length;s++)h=l[s].boundary===i;h||(i.x2New=u)}Array.prototype.splice.apply(n,[t,a-t+1].concat(l))})),n.forEach((function(t){var n=t.boundary;void 0===n.x2New&&(n.x2New=Math.max(e,n.x2))}))}function s(e){var t=this,n=e.textContent,i=e.textContentStream,a=e.container,o=e.viewport,s=e.textDivs,u=e.textContentItemsStr,c=e.enhanceTextSelection;this._textContent=n,this._textContentStream=i,this._container=a,this._viewport=o,this._textDivs=s||[],this._textContentItemsStr=u||[],this._enhanceTextSelection=!!c,this._fontInspectorEnabled=!(!globalThis.FontInspector||!globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally((function(){t._layoutTextCtx&&(t._layoutTextCtx.canvas.width=0,t._layoutTextCtx.canvas.height=0,t._layoutTextCtx=null)})).catch((function(){}))}return s.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(e,n){for(var r=0,i=e.length;r<i;r++)this._textContentItemsStr.push(e[r].str),t(this,e[r],n)},_layoutText:function(e){var t=this._textDivProperties.get(e);if(!t.isWhitespace){var n="";if(0!==t.canvasWidth){var r=e.style,i=r.fontSize,a=r.fontFamily;i===this._layoutTextLastFontSize&&a===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(i," ").concat(a),this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=a);var o=this._layoutTextCtx.measureText(e.textContent).width;o>0&&(t.scale=t.canvasWidth/o,n="scaleX(".concat(t.scale,")"))}0!==t.angle&&(n="rotate(".concat(t.angle,"deg) ").concat(n)),n.length>0&&(this._enhanceTextSelection&&(t.originalTransform=n),e.style.transform=n),this._textDivProperties.set(e,t),this._container.appendChild(e)}},_render:function(e){var t=this,i=(0,r.createPromiseCapability)(),a=Object.create(null),o=document.createElement("canvas");if(o.mozOpaque=!0,this._layoutTextCtx=o.getContext("2d",{alpha:!1}),this._textContent){var s=this._textContent.items,u=this._textContent.styles;this._processItems(s,u),i.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function e(){t._reader.read().then((function(n){var r=n.value;n.done?i.resolve():(Object.assign(a,r.styles),t._processItems(r.items,a),e())}),i.reject)}()}i.promise.then((function(){a=null,e?t._renderTimer=setTimeout((function(){n(t),t._renderTimer=null}),e):n(t)}),this._capability.reject)},expandTextDivs:function(e){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(a(this),this._bounds=null);for(var t=[],n=[],r=0,i=this._textDivs.length;r<i;r++){var o=this._textDivs[r],s=this._textDivProperties.get(o);s.isWhitespace||(e?(t.length=0,n.length=0,s.originalTransform&&t.push(s.originalTransform),s.paddingTop>0?(n.push("".concat(s.paddingTop,"px")),t.push("translateY(".concat(-s.paddingTop,"px)"))):n.push(0),s.paddingRight>0?n.push("".concat(s.paddingRight/s.scale,"px")):n.push(0),s.paddingBottom>0?n.push("".concat(s.paddingBottom,"px")):n.push(0),s.paddingLeft>0?(n.push("".concat(s.paddingLeft/s.scale,"px")),t.push("translateX(".concat(-s.paddingLeft/s.scale,"px)"))):n.push(0),o.style.padding=n.join(" "),t.length&&(o.style.transform=t.join(" "))):(o.style.padding=null,o.style.transform=s.originalTransform))}}}},function(e){var t=new s({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}}();t.renderTextLayer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var r=n(5),i=n(1),a=n(7);function o(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var p=function(){throw new Error("Not implemented: SVGGraphics")};t.SVGGraphics=p;var v=function(e){if(Number.isInteger(e))return e.toString();var t=e.toFixed(10),n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)},g=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale(".concat(v(e[0])," ").concat(v(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){var t=180*Math.acos(e[0])/Math.PI;return"rotate(".concat(v(t),")")}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate(".concat(v(e[4])," ").concat(v(e[5]),")");return"matrix(".concat(v(e[0])," ").concat(v(e[1])," ").concat(v(e[2])," ").concat(v(e[3])," ").concat(v(e[4])," ")+"".concat(v(e[5]),")")},m={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},y=["butt","round","square"],b=["miter","round","bevel"],_=function(){for(var e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256),n=0;n<256;n++){for(var i=n,o=0;o<8;o++)i=1&i?3988292384^i>>1&2147483647:i>>1&2147483647;t[n]=i}function s(e,n,r,i){var a=i,o=n.length;r[a]=o>>24&255,r[a+1]=o>>16&255,r[a+2]=o>>8&255,r[a+3]=255&o,r[a+=4]=255&e.charCodeAt(0),r[a+1]=255&e.charCodeAt(1),r[a+2]=255&e.charCodeAt(2),r[a+3]=255&e.charCodeAt(3),a+=4,r.set(n,a);var s=function(e,n,r){for(var i=-1,a=n;a<r;a++){var o=255&(i^e[a]);i=i>>>8^t[o]}return-1^i}(r,i+4,a+=n.length);r[a]=s>>24&255,r[a+1]=s>>16&255,r[a+2]=s>>8&255,r[a+3]=255&s}function u(e){var t=e.length,n=Math.ceil(t/65535),r=new Uint8Array(2+t+5*n+4),i=0;r[i++]=120,r[i++]=156;for(var a=0;t>65535;)r[i++]=0,r[i++]=255,r[i++]=255,r[i++]=0,r[i++]=0,r.set(e.subarray(a,a+65535),i),i+=65535,a+=65535,t-=65535;r[i++]=1,r[i++]=255&t,r[i++]=t>>8&255,r[i++]=255&~t,r[i++]=(65535&~t)>>8&255,r.set(e.subarray(a),i),i+=e.length-a;var o=function(e,t,n){for(var r=1,i=0,a=t;a<n;++a)i=(i+(r=(r+(255&e[a]))%65521))%65521;return i<<16|r}(e,0,e.length);return r[i++]=o>>24&255,r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=255&o,r}function c(t,n,i,o){var c,l,f,d=t.width,h=t.height,p=t.data;switch(n){case r.ImageKind.GRAYSCALE_1BPP:l=0,c=1,f=d+7>>3;break;case r.ImageKind.RGB_24BPP:l=2,c=8,f=3*d;break;case r.ImageKind.RGBA_32BPP:l=6,c=8,f=4*d;break;default:throw new Error("invalid format")}for(var v=new Uint8Array((1+f)*h),g=0,m=0,y=0;y<h;++y)v[g++]=0,v.set(p.subarray(m,m+f),g),m+=f,g+=f;if(n===r.ImageKind.GRAYSCALE_1BPP&&o){g=0;for(var b=0;b<h;b++){g++;for(var _=0;_<f;_++)v[g++]^=255}}var w=new Uint8Array([d>>24&255,d>>16&255,d>>8&255,255&d,h>>24&255,h>>16&255,h>>8&255,255&h,c,l,0,0,0]),S=function(e){if(!a.isNodeJS)return u(e);try{var t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);var n=require("zlib").deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(e){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return u(e)}(v),A=e.length+36+w.length+S.length,C=new Uint8Array(A),P=0;return C.set(e,P),s("IHDR",w,C,P+=e.length),s("IDATA",S,C,P+=12+w.length),P+=12+S.length,s("IEND",new Uint8Array(0),C,P),(0,r.createObjectURL)(C,"image/png",i)}return function(e,t,n){return c(e,void 0===e.kind?r.ImageKind.GRAYSCALE_1BPP:e.kind,t,n)}}(),w=function(){function e(){f(this,e),this.fontSizeScale=1,this.fontWeight=m.fontWeight,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=m.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return h(e,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}}]),e}(),S=0,A=0,C=0;t.SVGGraphics=p=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o in f(this,e),this.svgFactory=new i.DOMSVGFactory,this.current=new w,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!a,this._operatorIdMapping=[],r.OPS)this._operatorIdMapping[r.OPS[o]]=o}return h(e,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(e){this.save(),this.executeOpTree(e),this.restore()}},{key:"loadDependencies",value:function(e){for(var t=this,n=e.fnArray,i=e.argsArray,a=0,o=n.length;a<o;a++)if(n[a]===r.OPS.dependency){var s,c=u(i[a]);try{var l=function(){var e=s.value,n=e.startsWith("g_")?t.commonObjs:t.objs,r=new Promise((function(t){n.get(e,t)}));t.current.dependencies.push(r)};for(c.s();!(s=c.n()).done;)l()}catch(e){c.e(e)}finally{c.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(e,t,n,i,a,o){var s=[e,t,n,i,a,o];this.transformMatrix=r.Util.transform(this.transformMatrix,s),this.tgrp=null}},{key:"getSVG",value:function(e,t){var n=this;this.viewport=t;var i=this._initialize(t);return this.loadDependencies(e).then((function(){return n.transformMatrix=r.IDENTITY_MATRIX,n.executeOpTree(n.convertOpList(e)),i}))}},{key:"convertOpList",value:function(e){for(var t=this._operatorIdMapping,n=e.argsArray,r=e.fnArray,i=[],a=0,o=r.length;a<o;a++){var s=r[a];i.push({fnId:s,fn:t[s],args:n[a]})}return function(e){var t,n=[],r=[],i=u(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;"save"!==a.fn?"restore"===a.fn?n=r.pop():n.push(a):(n.push({fnId:92,fn:"group",items:[]}),r.push(n),n=n[n.length-1].items)}}catch(e){i.e(e)}finally{i.f()}return n}(i)}},{key:"executeOpTree",value:function(e){var t,n=u(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,a=i.fn,o=i.fnId,s=i.args;switch(0|o){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(s);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case r.OPS.setFont:this.setFont(s);break;case r.OPS.showText:case r.OPS.showSpacedText:this.showText(s[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(s[0],s[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(s[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(s[0]);break;case r.OPS.setHScale:this.setHScale(s[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case r.OPS.setTextRise:this.setTextRise(s[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(s[0]);break;case r.OPS.setLineWidth:this.setLineWidth(s[0]);break;case r.OPS.setLineJoin:this.setLineJoin(s[0]);break;case r.OPS.setLineCap:this.setLineCap(s[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(s[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(s);break;case r.OPS.setFillColorN:this.setFillColorN(s);break;case r.OPS.shadingFill:this.shadingFill(s[0]);break;case r.OPS.setDash:this.setDash(s[0],s[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(s[0]);break;case r.OPS.setFlatness:this.setFlatness(s[0]);break;case r.OPS.setGState:this.setGState(s[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(s[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case r.OPS.constructPath:this.constructPath(s[0],s[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,r.warn)("Unimplemented operator ".concat(a))}}}catch(e){n.e(e)}finally{n.f()}}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(e,t,n,r,i,a){var o=this.current;o.textMatrix=o.lineMatrix=[e,t,n,r,i,a],o.textMatrixScale=Math.sqrt(e*e+t*t),o.x=o.lineX=0,o.y=o.lineY=0,o.xcoords=[],o.ycoords=[],o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size","".concat(v(o.fontSize),"px")),o.tspan.setAttributeNS(null,"y",v(-o.y)),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtElement.appendChild(o.tspan)}},{key:"beginText",value:function(){var e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=r.IDENTITY_MATRIX,e.lineMatrix=r.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}},{key:"moveText",value:function(e,t){var n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(v(n.fontSize),"px")),n.tspan.setAttributeNS(null,"y",v(-n.y))}},{key:"showText",value:function(e){var t=this.current,n=t.font,i=t.fontSize;if(0!==i){var a,o=t.fontSizeScale,s=t.charSpacing,c=t.wordSpacing,l=t.fontDirection,f=t.textHScale*l,d=n.vertical,h=d?1:-1,p=n.defaultVMetrics,y=i*t.fontMatrix[0],b=0,_=u(e);try{for(_.s();!(a=_.n()).done;){var w=a.value;if(null!==w)if((0,r.isNum)(w))b+=h*w*i/1e3;else{var S=(w.isSpace?c:0)+s,A=w.fontChar,C=void 0,P=void 0,E=w.width;if(d){var T=void 0,x=w.vmetric||p;T=-(T=w.vmetric?x[1]:.5*E)*y;var k=x[2]*y;E=x?-x[0]:E,C=T/o,P=(b+k)/o}else C=b/o,P=0;(w.isInFont||n.missingFile)&&(t.xcoords.push(t.x+C),d&&t.ycoords.push(-t.y+P),t.tspan.textContent+=A);b+=d?E*y-S*l:E*y+S*l}else b+=l*c}}catch(e){_.e(e)}finally{_.f()}t.tspan.setAttributeNS(null,"x",t.xcoords.map(v).join(" ")),d?t.tspan.setAttributeNS(null,"y",t.ycoords.map(v).join(" ")):t.tspan.setAttributeNS(null,"y",v(-t.y)),d?t.y-=b:t.x+=b*f,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(v(t.fontSize),"px")),t.fontStyle!==m.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==m.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);var O=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;if(O===r.TextRenderingMode.FILL||O===r.TextRenderingMode.FILL_STROKE?(t.fillColor!==m.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),O===r.TextRenderingMode.STROKE||O===r.TextRenderingMode.FILL_STROKE){var R=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,R)}var M=t.textMatrix;0!==t.textRise&&((M=M.slice())[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform","".concat(g(M)," scale(").concat(v(f),", -1)")),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"addFontStyle",value:function(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=(0,r.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(e.loadedName,'";')+" src: url(".concat(t,"); }\n")}},{key:"setFont",value:function(e){var t=this.current,n=this.commonObjs.get(e[0]),i=e[1];t.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix?n.fontMatrix:r.FONT_IDENTITY_MATRIX;var a="normal";n.black?a="900":n.bold&&(a="bold");var o=n.italic?"italic":"normal";i<0?(i=-i,t.fontDirection=-1):t.fontDirection=1,t.fontSize=i,t.fontFamily=n.loadedName,t.fontWeight=a,t.fontStyle=o,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",v(-t.y)),t.xcoords=[],t.ycoords=[]}},{key:"endText",value:function(){var e=this.current;e.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement&&e.txtElement.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(e){e>0&&(this.current.lineWidth=e)}},{key:"setLineCap",value:function(e){this.current.lineCap=y[e]}},{key:"setLineJoin",value:function(e){this.current.lineJoin=b[e]}},{key:"setMiterLimit",value:function(e){this.current.miterLimit=e}},{key:"setStrokeAlpha",value:function(e){this.current.strokeAlpha=e}},{key:"setStrokeRGBColor",value:function(e,t,n){this.current.strokeColor=r.Util.makeHexColor(e,t,n)}},{key:"setFillAlpha",value:function(e){this.current.fillAlpha=e}},{key:"setFillRGBColor",value:function(e,t,n){this.current.fillColor=r.Util.makeHexColor(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(e){this.current.strokeColor=this._makeColorN_Pattern(e)}},{key:"setFillColorN",value:function(e){this.current.fillColor=this._makeColorN_Pattern(e)}},{key:"shadingFill",value:function(e){var t=this.viewport.width,n=this.viewport.height,i=r.Util.inverseTransform(this.transformMatrix),a=r.Util.applyTransform([0,0],i),o=r.Util.applyTransform([0,n],i),s=r.Util.applyTransform([t,0],i),u=r.Util.applyTransform([t,n],i),c=Math.min(a[0],o[0],s[0],u[0]),l=Math.min(a[1],o[1],s[1],u[1]),f=Math.max(a[0],o[0],s[0],u[0]),d=Math.max(a[1],o[1],s[1],u[1]),h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x",c),h.setAttributeNS(null,"y",l),h.setAttributeNS(null,"width",f-c),h.setAttributeNS(null,"height",d-l),h.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&h.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(h)}},{key:"_makeColorN_Pattern",value:function(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}},{key:"_makeTilingPattern",value:function(e){var t=e[1],n=e[2],i=e[3]||r.IDENTITY_MATRIX,a=s(e[4],4),u=a[0],c=a[1],l=a[2],f=a[3],d=e[5],h=e[6],p=e[7],v="shading".concat(C++),g=s(r.Util.applyTransform([u,c],i),2),m=g[0],y=g[1],b=s(r.Util.applyTransform([l,f],i),2),_=b[0],w=b[1],S=s(r.Util.singularValueDecompose2dScale(i),2),A=d*S[0],P=h*S[1],E=this.svgFactory.createElement("svg:pattern");E.setAttributeNS(null,"id",v),E.setAttributeNS(null,"patternUnits","userSpaceOnUse"),E.setAttributeNS(null,"width",A),E.setAttributeNS(null,"height",P),E.setAttributeNS(null,"x","".concat(m)),E.setAttributeNS(null,"y","".concat(y));var T=this.svg,x=this.transformMatrix,k=this.current.fillColor,O=this.current.strokeColor,R=this.svgFactory.create(_-m,w-y);if(this.svg=R,this.transformMatrix=i,2===p){var M=r.Util.makeHexColor.apply(r.Util,o(t));this.current.fillColor=M,this.current.strokeColor=M}return this.executeOpTree(this.convertOpList(n)),this.svg=T,this.transformMatrix=x,this.current.fillColor=k,this.current.strokeColor=O,E.appendChild(R.childNodes[0]),this.defs.appendChild(E),"url(#".concat(v,")")}},{key:"_makeShadingPattern",value:function(e){switch(e[0]){case"RadialAxial":var t,n="shading".concat(C++),i=e[3];switch(e[1]){case"axial":var a=e[4],o=e[5];(t=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",n),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"x1",a[0]),t.setAttributeNS(null,"y1",a[1]),t.setAttributeNS(null,"x2",o[0]),t.setAttributeNS(null,"y2",o[1]);break;case"radial":var s=e[4],c=e[5],l=e[6],f=e[7];(t=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",n),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"cx",c[0]),t.setAttributeNS(null,"cy",c[1]),t.setAttributeNS(null,"r",f),t.setAttributeNS(null,"fx",s[0]),t.setAttributeNS(null,"fy",s[1]),t.setAttributeNS(null,"fr",l);break;default:throw new Error("Unknown RadialAxial type: ".concat(e[1]))}var d,h=u(i);try{for(h.s();!(d=h.n()).done;){var p=d.value,v=this.svgFactory.createElement("svg:stop");v.setAttributeNS(null,"offset",p[0]),v.setAttributeNS(null,"stop-color",p[1]),t.appendChild(v)}}catch(e){h.e(e)}finally{h.f()}return this.defs.appendChild(t),"url(#".concat(n,")");case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(e[0]))}}},{key:"setDash",value:function(e,t){this.current.dashArray=e,this.current.dashPhase=t}},{key:"constructPath",value:function(e,t){var n,i=this.current,a=i.x,o=i.y,s=[],c=0,l=u(e);try{for(l.s();!(n=l.n()).done;){switch(0|n.value){case r.OPS.rectangle:a=t[c++],o=t[c++];var f=t[c++],d=t[c++],h=a+f,p=o+d;s.push("M",v(a),v(o),"L",v(h),v(o),"L",v(h),v(p),"L",v(a),v(p),"Z");break;case r.OPS.moveTo:a=t[c++],o=t[c++],s.push("M",v(a),v(o));break;case r.OPS.lineTo:a=t[c++],o=t[c++],s.push("L",v(a),v(o));break;case r.OPS.curveTo:a=t[c+4],o=t[c+5],s.push("C",v(t[c]),v(t[c+1]),v(t[c+2]),v(t[c+3]),v(a),v(o)),c+=6;break;case r.OPS.curveTo2:s.push("C",v(a),v(o),v(t[c]),v(t[c+1]),v(t[c+2]),v(t[c+3])),a=t[c+2],o=t[c+3],c+=4;break;case r.OPS.curveTo3:a=t[c+2],o=t[c+3],s.push("C",v(t[c]),v(t[c+1]),v(a),v(o),v(a),v(o)),c+=4;break;case r.OPS.closePath:s.push("Z")}}}catch(e){l.e(e)}finally{l.f()}s=s.join(" "),i.path&&e.length>0&&e[0]!==r.OPS.rectangle&&e[0]!==r.OPS.moveTo?s=i.path.getAttributeNS(null,"d")+s:(i.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(i.path)),i.path.setAttributeNS(null,"d",s),i.path.setAttributeNS(null,"fill","none"),i.element=i.path,i.setCurrentPoint(a,o)}},{key:"endPath",value:function(){var e=this.current;if(e.path=null,this.pendingClip)if(e.element){var t="clippath".concat(S++),n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",g(this.transformMatrix));var r=e.element.cloneNode(!0);"evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.appendChild(r),this.defs.appendChild(n),e.activeClipUrl&&(e.clipGroup=null,this.extraStack.forEach((function(e){e.clipGroup=null})),n.setAttributeNS(null,"clip-path",e.activeClipUrl)),e.activeClipUrl="url(#".concat(t,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(e){this.pendingClip=e}},{key:"closePath",value:function(){var e=this.current;if(e.path){var t="".concat(e.path.getAttributeNS(null,"d"),"Z");e.path.setAttributeNS(null,"d",t)}}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){var t,n=u(e);try{for(n.s();!(t=n.n()).done;){var i=s(t.value,2),a=i[0],o=i[1];switch(a){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o);break;case"CA":this.setStrokeAlpha(o);break;case"ca":this.setFillAlpha(o);break;default:(0,r.warn)("Unimplemented graphic state operator ".concat(a))}}}catch(e){n.e(e)}finally{n.f()}}},{key:"fill",value:function(){var e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.current,r=n.dashArray;1!==t&&r.length>0&&(r=r.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",v(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",v(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.map(v).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",v(t*n.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}},{key:"paintImageXObject",value:function(e){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image with object ID ".concat(e," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(e,t){var n=e.width,r=e.height,i=_(e,this.forceDataSchema,!!t),a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",v(n)),a.setAttributeNS(null,"height",v(r)),this.current.element=a,this.clip("nonzero");var o=this.svgFactory.createElement("svg:image");o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y",v(-r)),o.setAttributeNS(null,"width",v(n)+"px"),o.setAttributeNS(null,"height",v(r)+"px"),o.setAttributeNS(null,"transform","scale(".concat(v(1/n)," ").concat(v(-1/r),")")),t?t.appendChild(o):this._ensureTransformGroup().appendChild(o)}},{key:"paintImageMaskXObject",value:function(e){var t=this.current,n=e.width,r=e.height,i=t.fillColor;t.maskId="mask".concat(A++);var a=this.svgFactory.createElement("svg:mask");a.setAttributeNS(null,"id",t.maskId);var o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",v(n)),o.setAttributeNS(null,"height",v(r)),o.setAttributeNS(null,"fill",i),o.setAttributeNS(null,"mask","url(#".concat(t.maskId,")")),this.defs.appendChild(a),this._ensureTransformGroup().appendChild(o),this.paintInlineImageXObject(e,a)}},{key:"paintFormXObjectBegin",value:function(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){var n=t[2]-t[0],r=t[3]-t[1],i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",t[0]),i.setAttributeNS(null,"y",t[1]),i.setAttributeNS(null,"width",v(n)),i.setAttributeNS(null,"height",v(r)),this.current.element=i,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(e){var t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.appendChild(n),this.defs=n;var r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",g(e.transform)),t.appendChild(r),this.svg=r,t}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",g(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(5),o=n(217);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){h(a,r,i,o,s,"next",e)}function s(e){h(a,r,i,o,s,"throw",e)}o(void 0)}))}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}var y=require("fs"),b=require("http"),_=require("https"),w=require("url"),S=/^file:\/\/\/[a-zA-Z]:\//;var A=function(){function e(t){var n,r;v(this,e),this.source=t,this.url=(n=t.url,"file:"===(r=w.parse(n)).protocol||r.host?r:/^[a-z]:[/\\]/i.test(n)?w.parse("file:///".concat(n)):(r.host||(r.protocol="file:"),r)),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return m(e,[{key:"getFullReader",value:function(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new k(this):new T(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=this.isFsUrl?new O(this,e,t):new x(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),e}();t.PDFNodeStream=A;var C=function(){function e(t){v(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;var n=t.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)(),this._headersCapability=(0,a.createPromiseCapability)()}var t;return m(e,[{key:"read",value:(t=p(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){e.next=10;break}return this._readCapability=(0,a.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}(),P=function(){function e(t){v(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)();var n=t.source;this._isStreamingSupported=!n.disableStream}var t;return m(e,[{key:"read",value:(t=p(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){e.next=10;break}return this._readCapability=(0,a.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}();function E(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var T=function(e){u(n,e);var t=l(n);function n(e){var r;v(this,n);var i=function(t){if(404===t.statusCode){var n=new a.MissingPDFException('Missing PDF "'.concat(r._url,'".'));return r._storedError=n,void r._headersCapability.reject(n)}r._headersCapability.resolve(),r._setReadableStream(t);var i=function(e){return r._readableStream.headers[e.toLowerCase()]},s=(0,o.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),u=s.allowRangeRequests,c=s.suggestedLength;r._isRangeSupported=u,r._contentLength=c||r._contentLength,r._filename=(0,o.extractFilenameFromHeader)(i)};return(r=t.call(this,e))._request=null,"http:"===r._url.protocol?r._request=b.request(E(r._url,e.httpHeaders),i):r._request=_.request(E(r._url,e.httpHeaders),i),r._request.on("error",(function(e){r._storedError=e,r._headersCapability.reject(e)})),r._request.end(),r}return n}(C),x=function(e){u(n,e);var t=l(n);function n(e,r,i){var o;for(var s in v(this,n),(o=t.call(this,e))._httpHeaders={},e.httpHeaders){var u=e.httpHeaders[s];void 0!==u&&(o._httpHeaders[s]=u)}o._httpHeaders.Range="bytes=".concat(r,"-").concat(i-1);var c=function(e){if(404!==e.statusCode)o._setReadableStream(e);else{var t=new a.MissingPDFException('Missing PDF "'.concat(o._url,'".'));o._storedError=t}};return o._request=null,"http:"===o._url.protocol?o._request=b.request(E(o._url,o._httpHeaders),c):o._request=_.request(E(o._url,o._httpHeaders),c),o._request.on("error",(function(e){o._storedError=e})),o._request.end(),o}return n}(P),k=function(e){u(n,e);var t=l(n);function n(e){var r;v(this,n),r=t.call(this,e);var i=decodeURIComponent(r._url.path);return S.test(r._url.href)&&(i=i.replace(/^\//,"")),y.lstat(i,(function(e,t){if(e)return"ENOENT"===e.code&&(e=new a.MissingPDFException('Missing PDF "'.concat(i,'".'))),r._storedError=e,void r._headersCapability.reject(e);r._contentLength=t.size,r._setReadableStream(y.createReadStream(i)),r._headersCapability.resolve()})),r}return n}(C),O=function(e){u(n,e);var t=l(n);function n(e,r,i){var a;v(this,n),a=t.call(this,e);var o=decodeURIComponent(a._url.path);return S.test(a._url.href)&&(o=o.replace(/^\//,"")),a._setReadableStream(y.createReadStream(o,{start:r,end:i-1})),a}return n}(P)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){if(404===e||0===e&&t.startsWith("file:"))return new r.MissingPDFException('Missing PDF "'+t+'".');return new r.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+t+'".',e)},t.extractFilenameFromHeader=function(e){var t=e("Content-Disposition");if(t){var n=(0,i.getFilenameFromContentDispositionHeader)(t);if(n.includes("%"))try{n=decodeURIComponent(n)}catch(e){}if(/\.pdf$/i.test(n))return n}return null},t.validateRangeRequestCapabilities=function(e){var t=e.getResponseHeader,n=e.isHttp,i=e.rangeChunkSize,a=e.disableRange;(0,r.assert)(i>0,"Range chunk size must be larger than zero");var o={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);if(!Number.isInteger(s))return o;if(o.suggestedLength=s,s<=2*i)return o;if(a||!n)return o;if("bytes"!==t("Accept-Ranges"))return o;if("identity"!==(t("Content-Encoding")||"identity"))return o;return o.allowRangeRequests=!0,o},t.validateResponseStatus=function(e){return 200===e||206===e};var r=n(5),i=n(218)},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){var t=!0,n=o("filename\\*","i").exec(e);if(n){var i=c(n=n[1]);return u(i=f(i=l(i=unescape(i))))}if(n=function(e){var t,n=[],i=o("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(t=i.exec(e));){var a=r(t,4),s=a[1],u=a[2],f=a[3];if((s=parseInt(s,10))in n){if(0===s)break}else n[s]=[u,f]}for(var d=[],h=0;h<n.length&&h in n;++h){var p=r(n[h],2),v=p[0],g=p[1];g=c(g),v&&(g=unescape(g),0===h&&(g=l(g))),d.push(g)}return d.join("")}(e)){return u(f(n))}if(n=o("filename","i").exec(e)){var a=c(n=n[1]);return u(a=f(a))}function o(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function s(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{var r=new TextDecoder(e,{fatal:!0}),i=Array.from(n,(function(e){return 255&e.charCodeAt(0)}));n=r.decode(new Uint8Array(i)),t=!1}catch(r){if(/^utf-?8$/i.test(e))try{n=decodeURIComponent(escape(n)),t=!1}catch(e){}}}return n}function u(e){return t&&/[\x80-\xff]/.test(e)&&(e=s("utf-8",e),t&&(e=s("iso-8859-1",e))),e}function c(e){if(e.startsWith('"')){for(var t=e.slice(1).split('\\"'),n=0;n<t.length;++n){var r=t[n].indexOf('"');-1!==r&&(t[n]=t[n].slice(0,r),t.length=n+1),t[n]=t[n].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function l(e){var t=e.indexOf("'");return-1===t?e:s(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function f(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return s(t,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch(e){}return s(t,r)}))}return""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(5),o=n(217);function s(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){s(a,r,i,o,u,"next",e)}function u(e){s(a,r,i,o,u,"throw",e)}o(void 0)}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var d=function(){function e(t,n){c(this,e),this.url=t,n=n||{},this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&n.httpHeaders||{},this.withCredentials=n.withCredentials||!1,this.getXhr=n.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return f(e,[{key:"requestRange",value:function(e,t,n){var r={begin:e,end:t};for(var i in n)r[i]=n[i];return this.request(r)}},{key:"requestFull",value:function(e){return this.request(e)}},{key:"request",value:function(e){var t=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};for(var i in t.open("GET",this.url),t.withCredentials=this.withCredentials,this.httpHeaders){var a=this.httpHeaders[i];void 0!==a&&t.setRequestHeader(i,a)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}},{key:"onProgress",value:function(e,t){var n=this.pendingRequests[e];n&&n.onProgress&&n.onProgress(t)}},{key:"onStateChange",value:function(e,t){var n=this.pendingRequests[e];if(n){var r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4===r.readyState&&e in this.pendingRequests)if(delete this.pendingRequests[e],0===r.status&&this.isHttp)n.onError&&n.onError(r.status);else{var i=r.status||200;if(200===i&&206===n.expectedStatus||i===n.expectedStatus){var o=function(e){var t=e.response;return"string"!=typeof t?t:(0,a.stringToBytes)(t).buffer}(r);if(206===i){var s=r.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(s);n.onDone({begin:parseInt(u[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):n.onError&&n.onError(r.status)}else n.onError&&n.onError(r.status)}}}},{key:"getRequestXhr",value:function(e){return this.pendingRequests[e].xhr}},{key:"isPendingRequest",value:function(e){return e in this.pendingRequests}},{key:"abortRequest",value:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}]),e}(),h=function(){function e(t){c(this,e),this._source=t,this._manager=new d(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return f(e,[{key:"_onRangeRequestReaderClosed",value:function(e){var t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}},{key:"getFullReader",value:function(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new p(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var n=new v(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}}]),e}();t.PDFNetworkStream=h;var p=function(){function e(t,n){c(this,e),this._manager=t;var r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=t.requestFull(r),this._headersReceivedCapability=(0,a.createPromiseCapability)(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}var t;return f(e,[{key:"_onHeadersReceived",value:function(){var e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=function(e){return t.getResponseHeader(e)},r=(0,o.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),i=r.allowRangeRequests,a=r.suggestedLength;i&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(e){e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk));this._done=!0,this._cachedChunks.length>0||(this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[])}},{key:"_onError",value:function(e){var t=this._url,n=(0,o.createResponseStatusError)(e,t);this._storedError=n,this._headersReceivedCapability.reject(n),this._requests.forEach((function(e){e.reject(n)})),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}},{key:"read",value:(t=u(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._storedError){e.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){e.next=5;break}return t=this._cachedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 5:if(!this._done){e.next=7;break}return e.abrupt("return",{value:void 0,done:!0});case 7:return n=(0,a.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}}]),e}(),v=function(){function e(t,n,r){c(this,e),this._manager=t;var i={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=t.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}var t;return f(e,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(e){var t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t;this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._close()}},{key:"_onProgress",value:function(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})}},{key:"read",value:(t=u(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,a.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},{key:"isStreamingSupported",get:function(){return!1}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(5),o=n(217),s=n(208);function u(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){u(a,r,i,o,s,"next",e)}function s(e){u(a,r,i,o,s,"throw",e)}o(void 0)}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function h(e,t,n){return{method:"GET",headers:e,signal:n&&n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function p(e){var t=new Headers;for(var n in e){var r=e[n];void 0!==r&&t.append(n,r)}return t}var v=function(){function e(t){l(this,e),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return d(e,[{key:"getFullReader",value:function(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new g(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new m(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),e}();t.PDFFetchStream=v;var g=function(){function e(t){var n=this;l(this,e),this._stream=t,this._reader=null,this._loaded=0,this._filename=null;var r=t.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=(0,a.createPromiseCapability)(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,this.hasSendErrorMessage=!1,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._headers=p(this._stream.httpHeaders),this._headers.append("x-command","stream.download.preview"),(0,s.isInVC)()&&this._headers.append("X-Scenario",100001),window.initialData.jsSdkSession&&this._headers.append("JsSDK-Session",window.initialData.jsSdkSession);var i=r.url;window.initialData.isOfflineEnv&&(i=window.initialData.cacheResourceUrl),fetch(i,h(this._headers,this._withCredentials,this._abortController)).then((function(e){if("10001"===e.headers.get("X-Forbidden-Code"))throw(0,o.createResponseStatusError)(10001,i);if(!(0,o.validateResponseStatus)(e.status))throw(0,o.createResponseStatusError)(e.status,i);n._reader=e.body.getReader(),n._headersCapability.resolve();var t=function(t){return e.headers.get(t)},r=(0,o.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:n._stream.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),s=r.allowRangeRequests,u=r.suggestedLength;n._isRangeSupported=s,n._contentLength=u||n._contentLength,n._filename=(0,o.extractFilenameFromHeader)(t),!n._isStreamingSupported&&n._isRangeSupported&&n.cancel(new a.AbortException("Streaming is disabled."))})).catch((function(e){var t=!e||10001!==e.status&&403!==e.status?s.ERROR_TYPE.NETWORK:s.ERROR_TYPE.FORBIDDEN;n.hasSendErrorMessage||((0,s.sendMessage)(s.IFRAME_EVENT.ERROR,{errorType:t,message:String(e)}),n.hasSendErrorMessage=!0),n._headersCapability.reject()})),this.onProgress=null}var t;return d(e,[{key:"read",value:(t=c(i.default.mark((function e(){var t,n,r,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.prev=2,e.next=5,this._reader.read();case 5:t=e.sent,n=t.value,r=t.done,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),this.hasSendErrorMessage||((0,s.sendMessage)(s.IFRAME_EVENT.ERROR,{errorType:s.ERROR_TYPE.NETWORK,message:String(e.t0)}),this.hasSendErrorMessage=!0);case 13:if(!r){e.next=15;break}return e.abrupt("return",{value:n,done:r});case 15:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),a=new Uint8Array(n).buffer,e.abrupt("return",{value:a,done:!1});case 19:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}(),m=function(){function e(t,n,r){var i=this;l(this,e),this._stream=t,this._reader=null,this._loaded=0;var u=t.source;this._withCredentials=u.withCredentials||!1,this._readCapability=(0,a.createPromiseCapability)(),this._isStreamingSupported=!u.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=p(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(n,"-").concat(r-1)),this._headers.append("x-command","stream.download.preview"),(0,s.isInVC)()&&this._headers.append("X-Scenario",100001),window.initialData.jsSdkSession&&this._headers.append("JsSDK-Session",window.initialData.jsSdkSession);var c=u.url;fetch(c,h(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,o.validateResponseStatus)(e.status))throw(0,o.createResponseStatusError)(e.status,c);i._readCapability.resolve(),i._reader=e.body.getReader()})),this.onProgress=null}var t;return d(e,[{key:"read",value:(t=c(i.default.mark((function e(){var t,n,r,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,n=t.value,!(r=t.done)){e.next=9;break}return e.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),a=new Uint8Array(n).buffer,e.abrupt("return",{value:a,done:!1});case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}()}])})),
/**
 * @licstart The following is the entire license notice for the
 * Javascript code in this page
 *
 * Copyright 2020 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * Javascript code in this page
 */function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r,i;function a(){var e={appContainer:document.body,mainContainer:document.getElementById("viewerContainer"),viewerContainer:document.getElementById("viewer"),eventBus:null,sidebar:{outerContainer:document.getElementById("outerContainer"),viewerContainer:document.getElementById("viewerContainer"),thumbnailView:document.getElementById("thumbnailView"),outlineView:document.getElementById("outlineView"),attachmentsView:document.getElementById("attachmentsView")},sidebarResizer:{outerContainer:document.getElementById("outerContainer")},printContainer:document.getElementById("printContainer"),debuggerScriptPath:"./debugger.js"};window.PDFViewerApplication=r.PDFViewerApplication,window.PDFViewerApplicationOptions=i.AppOptions;var t=document.createEvent("CustomEvent");t.initCustomEvent("webviewerloaded",!0,!0,{}),document.dispatchEvent(t),r.PDFViewerApplication.run(e)}r=n(1),i=n(11),n(59),n(62),"interactive"===document.readyState||"complete"===document.readyState?a():document.addEventListener("DOMContentLoaded",a,!0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPrintServiceFactory=t.DefaultExternalServices=t.PDFViewerApplication=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(5),o=n(6),s=n(7),u=n(9),c=n(11),l=n(13),f=n(14),d=n(15),h=n(17),p=n(19),v=n(20),g=n(8),m=n(21),y=n(23),b=n(58);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){S(a,r,i,o,s,"next",e)}function s(e){S(a,r,i,o,s,"throw",e)}o(void 0)}))}}var C=null,P={updateFindControlState:function(e){},updateFindMatchesCount:function(e){},initPassiveLoading:function(e){},fallback:function(e,t){},reportTelemetry:function(e){},createDownloadManager:function(e){throw new Error("Not implemented: createDownloadManager")},createPreferences:function(){throw new Error("Not implemented: createPreferences")},supportsIntegratedFind:!1,supportsDocumentFonts:!0,supportsDocumentColors:!0,supportedMouseWheelZoomModifierKeys:{ctrlKey:!0,metaKey:!0}};t.DefaultExternalServices=P;var E,T={initialBookmark:document.location.hash.substring(1),initialized:!1,fellback:!1,appConfig:null,pdfDocument:null,pdfLoadingTask:null,printService:null,scaleBeforePresentation:"auto",pdfViewer:null,pdfThumbnailViewer:null,pdfRenderingQueue:null,pdfPresentationMode:null,pdfDocumentProperties:null,pdfLinkService:null,pdfHistory:null,pdfSidebar:null,pdfOutlineViewer:null,pdfAttachmentViewer:null,pdfCursorTools:null,store:null,downloadManager:null,overlayManager:null,preferences:null,toolbar:null,eventBus:null,isInitialViewSet:!1,downloadComplete:!1,isViewerEmbedded:window.parent!==window,url:"",baseUrl:"",externalServices:P,_boundEvents:{},contentDispositionFilename:null,prevPercentTime:0,updateCallback:null,reason:null,initialize:function(e){var t=this;return A(i.default.mark((function n(){return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preferences=t.externalServices.createPreferences(),t.appConfig=e,n.next=4,t._readPreferences();case 4:return n.next=6,t._parseHashParameters();case 6:return t.isViewerEmbedded&&c.AppOptions.get("externalLinkTarget")===o.LinkTarget.NONE&&c.AppOptions.set("externalLinkTarget",o.LinkTarget.TOP),n.next=9,t._initializeViewerComponents();case 9:t.bindEvents(),t.bindWindowEvents(),t.eventBus.dispatch("localized",{source:t}),t.initialized=!0;case 13:case"end":return n.stop()}}),n)})))()},_readPreferences:function(){var e=this;return A(i.default.mark((function t(){var n,r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==c.AppOptions.get("disablePreferences")){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.preferences.getAll();case 5:for(r in n=t.sent)c.AppOptions.set(r,n[r]);t.next=11;break;case 9:t.prev=9,t.t0=t.catch(2);case 11:case"end":return t.stop()}}),t,null,[[2,9]])})))()},_parseHashParameters:function(){var e=this;return A(i.default.mark((function t(){var n,r,o,s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.AppOptions.get("pdfBugEnabled")){t.next=2;break}return t.abrupt("return");case 2:if(n=[],r=document.location.hash.substring(1),"disableworker"in(o=(0,a.parseQueryString)(r))&&"true"===o.disableworker&&n.push(O()),"disablerange"in o&&c.AppOptions.set("disableRange","true"===o.disablerange),"disablestream"in o&&c.AppOptions.set("disableStream","true"===o.disablestream),"disableautofetch"in o&&c.AppOptions.set("disableAutoFetch","true"===o.disableautofetch),"disablefontface"in o&&c.AppOptions.set("disableFontFace","true"===o.disablefontface),"disablehistory"in o&&c.AppOptions.set("disableHistory","true"===o.disablehistory),"webgl"in o&&c.AppOptions.set("enableWebGL","true"===o.webgl),"useonlycsszoom"in o&&c.AppOptions.set("useOnlyCssZoom","true"===o.useonlycsszoom),"verbosity"in o&&c.AppOptions.set("verbosity",0|o.verbosity),!("textlayer"in o)){t.next=23;break}t.t0=o.textlayer,t.next="off"===t.t0?18:"visible"===t.t0||"shadow"===t.t0||"hover"===t.t0?20:23;break;case 18:return c.AppOptions.set("textLayerMode",a.TextLayerMode.DISABLE),t.abrupt("break",23);case 20:return e.appConfig.viewerContainer.classList.add("textLayer-"+o.textlayer),t.abrupt("break",23);case 23:return"pdfbug"in o&&(c.AppOptions.set("pdfBug",!0),s=o.pdfbug.split(","),n.push(R(s))),"locale"in o&&c.AppOptions.set("locale",o.locale),t.abrupt("return",Promise.all(n).catch((function(e){console.error('_parseHashParameters: "'.concat(e.message,'".'))})));case 26:case"end":return t.stop()}}),t)})))()},_initializeViewerComponents:function(){var e=this;return A(i.default.mark((function t(){var n,r,o,_,w,S,A,C,P,E,T;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.appConfig,e.overlayManager=new l.OverlayManager,r=c.AppOptions.get("eventBusDispatchToDOM"),o=n.eventBus||(0,a.getGlobalEventBus)(r),e.eventBus=o,(0,u.receiveMessage)(o),(_=new g.PDFRenderingQueue).onIdle=e.cleanup.bind(e),e.pdfRenderingQueue=_,w=new p.PDFLinkService({eventBus:o,externalLinkTarget:c.AppOptions.get("externalLinkTarget"),externalLinkRel:c.AppOptions.get("externalLinkRel")}),e.pdfLinkService=w,S=e.externalServices.createDownloadManager({disableCreateObjectURL:c.AppOptions.get("disableCreateObjectURL")}),e.downloadManager=S,A=new h.PDFFindController({linkService:w,eventBus:o}),e.findController=A,C=n.mainContainer,P=n.viewerContainer,e.pdfViewer=new y.PDFViewer({container:C,viewer:P,eventBus:o,renderingQueue:_,linkService:w,downloadManager:S,findController:A,renderer:c.AppOptions.get("renderer"),enableWebGL:c.AppOptions.get("enableWebGL"),textLayerMode:c.AppOptions.get("textLayerMode"),imageResourcesPath:c.AppOptions.get("imageResourcesPath"),renderInteractiveForms:c.AppOptions.get("renderInteractiveForms"),enablePrintAutoRotate:c.AppOptions.get("enablePrintAutoRotate"),useOnlyCssZoom:c.AppOptions.get("useOnlyCssZoom"),maxCanvasPixels:c.AppOptions.get("maxCanvasPixels")}),_.setViewer(e.pdfViewer),w.setViewer(e.pdfViewer),E=n.sidebar.thumbnailView,e.pdfThumbnailViewer=new m.PDFThumbnailViewer({container:E,renderingQueue:_,linkService:w,eventBus:o}),_.setThumbnailViewer(e.pdfThumbnailViewer),e.pdfCursorTools=new d.PDFCursorTools({container:C,eventBus:o,cursorToolOnLoad:c.AppOptions.get("cursorToolOnLoad")}),e.toolbar=new b.Toolbar(o),e.pdfOutlineViewer=new v.PDFOutlineViewer({container:n.sidebar.outlineView,eventBus:o,linkService:w}),e.pdfAttachmentViewer=new f.PDFAttachmentViewer({container:n.sidebar.attachmentsView,eventBus:o,downloadManager:S}),(T=Object.create(n.sidebar)).pdfViewer=e.pdfViewer,T.pdfThumbnailViewer=e.pdfThumbnailViewer,e.pdfSidebar=new s.PDFSidebar(T,o),e.pdfSidebar.onToggled=e.forceRendering.bind(e);case 32:case"end":return t.stop()}}),t)})))()},run:function(e){this.initialize(e).then(M)},zoomIn:function(e){var t=this.pdfViewer.currentScale;do{t=(1.1*t).toFixed(2),t=Math.ceil(10*t)/10,t=Math.min(a.MAX_SCALE,t)}while(--e>0&&t<a.MAX_SCALE);this.pdfViewer.currentScaleValue=t},zoomOut:function(e){var t=this.pdfViewer.currentScale;do{t=(t/1.1).toFixed(2),t=Math.floor(10*t)/10,t=Math.max(a.MIN_SCALE,t)}while(--e>0&&t>a.MIN_SCALE);this.pdfViewer.currentScaleValue=t},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},get page(){return this.pdfViewer.currentPageNumber},set page(e){this.pdfViewer.currentPageNumber=e},get printing(){return!!this.printService},get supportsPrinting(){return ve.instance.supportsPrinting},get supportsFullscreen(){var e,t=document.documentElement;return e=!!(t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen),!1!==document.fullscreenEnabled&&!1!==document.mozFullScreenEnabled&&!1!==document.webkitFullscreenEnabled&&!1!==document.msFullscreenEnabled||(e=!1),(0,o.shadow)(this,"supportsFullscreen",e)},get supportsIntegratedFind(){return this.externalServices.supportsIntegratedFind},get supportsDocumentFonts(){return this.externalServices.supportsDocumentFonts},get supportsDocumentColors(){return this.externalServices.supportsDocumentColors},get supportedMouseWheelZoomModifierKeys(){return this.externalServices.supportedMouseWheelZoomModifierKeys},initPassiveLoading:function(){throw new Error("Not implemented: initPassiveLoading")},setTitleUsingUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.url=e,this.baseUrl=e.split("#")[0];var t=(0,a.getPDFFileNameFromURL)(e,"");if(!t)try{t=decodeURIComponent((0,o.getFilenameFromUrl)(e))||e}catch(n){t=e}this.setTitle(t)},setTitle:function(e){this.isViewerEmbedded||(document.title=e)},close:function(){var e=this;return A(i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.pdfLoadingTask){t.next=2;break}return t.abrupt("return");case 2:return n=e.pdfLoadingTask.destroy(),e.pdfLoadingTask=null,e.pdfDocument&&(e.pdfDocument=null,e.pdfThumbnailViewer.setDocument(null),e.pdfViewer.setDocument(null),e.pdfLinkService.setDocument(null)),e.store=null,e.isInitialViewSet=!1,e.downloadComplete=!1,e.url="",e.baseUrl="",e.contentDispositionFilename=null,e.pdfSidebar.reset(),e.pdfOutlineViewer.reset(),e.pdfAttachmentViewer.reset(),e.toolbar.reset(),"undefined"!=typeof PDFBug&&PDFBug.cleanup(),t.abrupt("return",n);case 17:case"end":return t.stop()}}),t)})))()},open:function(e,t){var n=this;return A(i.default.mark((function r(){var a,s,l,f,d,h,p;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n.pdfLoadingTask){r.next=3;break}return r.next=3,n.close();case 3:for(s in a=c.AppOptions.getAll("worker"))o.GlobalWorkerOptions[s]=a[s];for(d in l=Object.create(null),"string"==typeof e?(n.setTitleUsingUrl(e),l.url=e):e&&"byteLength"in e?l.data=e:e.url&&e.originalUrl&&(n.setTitleUsingUrl(e.originalUrl),l.url=e.url),f=c.AppOptions.getAll("api"))l[d]=f[d];if(t)for(h in t)l[h]=t[h];return p=(0,o.getDocument)(l),n.pdfLoadingTask=p,p.onPassword=function(e,t){var r=!0;t===o.PasswordResponses.INCORRECT_PASSWORD&&(r=!1),(0,u.sendMessage)(u.IFRAME_EVENT.PASSWORD_MODAL_OPEN,r),n.updateCallback=e,n.reason=t},p.onProgress=function(e){var t=e.loaded,r=e.total;n.progress(t,r)},p.onUnsupportedFeature=n.fallback.bind(n),r.abrupt("return",p.promise.then((function(e){n.load(e)}),(function(e){var t;if(p===n.pdfLoadingTask)throw t=e instanceof o.InvalidPDFException?"invalid_file_error":e instanceof o.MissingPDFException?"missing_file_error":e instanceof o.UnexpectedResponseException?"unexpected_response_error":"loading_error",n.error(t),new Error(t)})));case 16:case"end":return r.stop()}}),r)})))()},fallback:function(e){},error:function(e,t){(0,u.sendMessage)(u.IFRAME_EVENT.ERROR,{errorType:u.ERROR_TYPE.PDF,message:String(e)})},progress:function(e,t){if(!this.downloadComplete){var n=Date.now();n-this.prevPercentTime>300&&((0,u.sendMessage)(u.IFRAME_EVENT.LOADING_PROGRESS,e),this.prevPercentTime=n)}},load:function(e){var t=this;this.pdfDocument=e,e.getDownloadInfo().then((function(){t.downloadComplete=!0,s.then((function(){t.eventBus.dispatch("documentloaded",{source:t})}))}));var n=e.getPageMode().catch((function(){}));this.toolbar.setPagesCount(e.numPages,!1),this.pdfLinkService.setDocument(e,null);var r=this.pdfViewer;r.setDocument(e);var s=r.firstPagePromise,l=r.pagesPromise,f=r.onePageRendered,d=this.pdfThumbnailViewer;d.setDocument(e),s.then((function(e){var a=(0,u.throttle)((function(){(0,u.sendMessage)(u.IFRAME_EVENT.IS_MOVING)}),500,{trailing:!1,leading:!0});t.appConfig.sidebar.outerContainer.addEventListener("mousemove",a),Promise.all([n]).then(function(){var e=A(i.default.mark((function e(n){var a,o,s,f,d,h,p,v;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=_(n,1),o=a[0],s=t.initialBookmark,f=c.AppOptions.get("defaultZoomValue"),d=f?"zoom=".concat(f):null,null,h=c.AppOptions.get("sidebarViewOnLoad"),p=c.AppOptions.get("scrollModeOnLoad"),v=c.AppOptions.get("spreadModeOnLoad"),o&&!c.AppOptions.get("disablePageMode")&&(h=h||pe(o)),t.setInitialView(d,{rotation:null,sidebarView:h,scrollMode:p,spreadMode:v}),(0,u.sendMessage)(u.IFRAME_EVENT.PDF_LOADED),t.eventBus.dispatch("documentinit",{source:t}),t.isViewerEmbedded||r.focus(),e.next=15,Promise.race([l,new Promise((function(e){setTimeout(e,1e4)}))]);case 15:if(s||d){e.next=17;break}return e.abrupt("return");case 17:if(!r.hasEqualPageSizes){e.next=19;break}return e.abrupt("return");case 19:t.initialBookmark=s,r.currentScaleValue=r.currentScaleValue,t.setInitialView(d);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){r.update()}))})),e.getPageLabels().then((function(n){if(n&&!c.AppOptions.get("disablePageLabels")){var i=0,a=n.length;if(a===t.pagesCount){for(;i<a&&n[i]===(i+1).toString();)i++;i!==a&&(r.setPageLabels(n),d.setPageLabels(n),t.toolbar.setPagesCount(e.numPages,!0),t.toolbar.setPageNumber(r.currentPageNumber,r.currentPageLabel))}else console.error("The number of Page Labels does not match the number of pages in the document.")}})),l.then((function(){t.supportsPrinting&&e.getJavaScript().then((function(e){if(e){e.some((function(e){return!!e&&(console.warn("Warning: JavaScript is not supported"),t.fallback(o.UNSUPPORTED_FEATURES.javaScript),!0)}));for(var n=/\bprint\s*\(/,r=0,i=e.length;r<i;r++){var a=e[r];if(a&&n.test(a))return void setTimeout((function(){window.print()}))}}}))})),Promise.all([f,a.animationStarted]).then((function(){C&&C(),e.getOutline().then((function(e){(0,u.sendMessage)(u.IFRAME_EVENT.PAGE_OUTLINE,{outline:e})})),e.getAttachments().then((function(e){t.pdfAttachmentViewer.render({attachments:e})}))})),e.getMetadata().then((function(n){var r,i=n.info,a=n.metadata,s=n.contentDispositionFilename;if(t.documentInfo=i,t.metadata=a,t.contentDispositionFilename=s,console.log("PDF "+e.fingerprint+" ["+i.PDFFormatVersion+" "+(i.Producer||"-").trim()+" / "+(i.Creator||"-").trim()+"] (PDF.js: "+(o.version||"-")+(c.AppOptions.get("enableWebGL")?" [WebGL]":"")+")"),a&&a.has("dc:title")){var u=a.get("dc:title");"Untitled"!==u&&(r=u)}!r&&i&&i.Title&&(r=i.Title),r?t.setTitle("".concat(r," - ").concat(s||document.title)):s&&t.setTitle(s),i.IsAcroFormPresent&&(console.warn("Warning: AcroForm/XFA is not supported"),t.fallback(o.UNSUPPORTED_FEATURES.forms))}))},setInitialView:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.rotation,i=n.sidebarView,o=n.scrollMode,s=n.spreadMode,u=function(e){(0,a.isValidRotation)(e)&&(t.pdfViewer.pagesRotation=e)},c=function(e,n){Number.isInteger(e)&&(t.pdfViewer.scrollMode=e),Number.isInteger(n)&&(t.pdfViewer.spreadMode=n)};c(o,s),this.isInitialViewSet=!0,this.pdfSidebar.setInitialView(i),this.initialBookmark?(u(this.initialRotation),delete this.initialRotation,this.pdfLinkService.setHash(this.initialBookmark),this.initialBookmark=null):e&&(u(r),this.pdfLinkService.setHash(e)),this.toolbar.setPageNumber(this.pdfViewer.currentPageNumber,this.pdfViewer.currentPageLabel),this.pdfViewer.currentScaleValue||(this.pdfViewer.currentScaleValue=a.DEFAULT_SCALE_VALUE)},cleanup:function(){this.pdfDocument&&(this.pdfViewer.cleanup(),this.pdfThumbnailViewer.cleanup(),this.pdfViewer.renderer!==a.RendererType.SVG&&this.pdfDocument.cleanup())},forceRendering:function(){this.pdfRenderingQueue.printing=this.printing,this.pdfRenderingQueue.isThumbnailViewEnabled=this.pdfSidebar.isThumbnailViewVisible,this.pdfRenderingQueue.renderHighestPriority()},beforePrint:function(){if(!this.printService)if(this.supportsPrinting){if(this.pdfViewer.pageViewsReady){var e=this.pdfViewer.getPagesOverview(),t=this.appConfig.printContainer,n=ve.instance.createPrintService(this.pdfDocument,e,t);this.printService=n,this.forceRendering(),n.layout()}}else this.error("printing_not_supported")},afterPrint:function(){this.printService&&(this.printService.destroy(),this.printService=null),this.forceRendering()},rotatePages:function(e){if(this.pdfDocument){var t=(this.pdfViewer.pagesRotation+360+e)%360;this.pdfViewer.pagesRotation=t}},handleWebViewerPageRendered:function(e){L(e,this.pdfViewer&&this.pdfViewer._getVisiblePages&&this.pdfViewer._getVisiblePages())},bindEvents:function(){var e=this.eventBus,t=this._boundEvents;t.beforePrint=this.beforePrint.bind(this),t.afterPrint=this.afterPrint.bind(this),t.handleWebViewerPageRendered=this.handleWebViewerPageRendered.bind(this),e.on("resize",B),e.on("hashchange",j),e.on("beforeprint",t.beforePrint),e.on("afterprint",t.afterPrint),e.on("pagerendered",t.handleWebViewerPageRendered),e.on("textlayerrendered",N),e.on("pagechanging",ce),e.on("scalechanging",se),e.on("rotationchanging",ue),e.on("sidebarviewchanged",F),e.on("pagemode",D),e.on("print",U),e.on("printabort",V),e.on("firstpage",W),e.on("lastpage",G),e.on("nextpage",H),e.on("previouspage",z),e.on("zoomin",q),e.on("zoomout",Y),e.on("pagenumberchanged",X),e.on("setPageScrollPosition",K),e.on("setScrollTopPosition",Q),e.on("scalechanged",Z),e.on("rotatecw",J),e.on("rotateccw",$),e.on("switchscrollmode",ee),e.on("switchspreadmode",te),e.on("find",re),e.on("updatefindmatchescount",ie),e.on("updatefindcontrolstate",ae),e.on("verifyPassword",oe),e.on("toggleIsInPresentationMode",I),e.on("navigateTo",ne)},bindWindowEvents:function(){var e=this.eventBus,t=this._boundEvents;t.windowResize=function(){e.dispatch("resize",{source:window})},t.windowHashChange=function(){e.dispatch("hashchange",{source:window,hash:document.location.hash.substring(1)})},t.windowBeforePrint=function(){e.dispatch("beforeprint",{source:window})},t.windowAfterPrint=function(){e.dispatch("afterprint",{source:window})},window.addEventListener("visibilitychange",le),window.addEventListener("wheel",he,{passive:!1}),window.addEventListener("resize",t.windowResize),window.addEventListener("hashchange",t.windowHashChange),window.addEventListener("beforeprint",t.windowBeforePrint),window.addEventListener("afterprint",t.windowAfterPrint)},unbindEvents:function(){var e=this.eventBus,t=this._boundEvents;e.off("resize",B),e.off("hashchange",j),e.off("beforeprint",t.beforePrint),e.off("afterprint",t.afterPrint),e.off("pagerendered",L),e.off("textlayerrendered",N),e.off("pagechanging",ce),e.off("scalechanging",se),e.off("rotationchanging",ue),e.off("sidebarviewchanged",F),e.off("pagemode",D),e.off("print",U),e.off("printabort",V),e.off("firstpage",W),e.off("lastpage",G),e.off("nextpage",H),e.off("previouspage",z),e.off("zoomin",q),e.off("zoomout",Y),e.off("pagenumberchanged",X),e.off("setPageScrollPosition",K),e.off("setScrollTopPosition",Q),e.off("scalechanged",Z),e.off("rotatecw",J),e.off("rotateccw",$),e.off("switchscrollmode",ee),e.off("switchspreadmode",te),e.off("find",re),e.off("updatefindmatchescount",ie),e.off("updatefindcontrolstate",ae),e.off("verifyPassword",oe),e.off("toggleIsInPresentationMode",I),e.off("navigateTo",ne),t.beforePrint=null,t.afterPrint=null},unbindWindowEvents:function(){var e=this._boundEvents;window.removeEventListener("visibilitychange",le),window.removeEventListener("wheel",he,{passive:!1}),window.removeEventListener("resize",e.windowResize),window.removeEventListener("hashchange",e.windowHashChange),window.removeEventListener("beforeprint",e.windowBeforePrint),window.removeEventListener("afterprint",e.windowAfterPrint),e.windowResize=null,e.windowHashChange=null,e.windowBeforePrint=null,e.windowAfterPrint=null}};t.PDFViewerApplication=T;var x,k=["null","http://mozilla.github.io","https://mozilla.github.io"];function O(){return o.GlobalWorkerOptions.workerSrc||(o.GlobalWorkerOptions.workerSrc=c.AppOptions.get("workerSrc")),(0,o.loadScript)(o.PDFWorker.getWorkerSrc())}function R(e){var t=T.appConfig;return(0,o.loadScript)(t.debuggerScriptPath).then((function(){PDFBug.enable(e),PDFBug.init({OPS:o.OPS,createObjectURL:o.createObjectURL},t.mainContainer)}))}function M(){var e,t=T.appConfig,n=document.location.search.substring(1),r=(0,a.parseQueryString)(n);e="file"in r?r.file:c.AppOptions.get("defaultUrl"),E(e),t.mainContainer.addEventListener("transitionend",(function(e){e.target===this&&T.eventBus.dispatch("resize",{source:this})}),!0);try{x(e)}catch(e){T.error("loading_error")}}function L(e,t){var n=e.pageNumber,r=n-1,i=T.pdfViewer.getPageView(r);if(t&&t.last&&e.source&&t.last.id===e.source.id&&(0,u.sendMessage)(u.IFRAME_EVENT.VISIBLE_PAGE_RENDERED),i){if(u.GLOBAL_STATE.isInPresentationMode&&i.canvas&&(0,u.sendMessage)(u.IFRAME_EVENT.PRESENTATION_PAGE_RENDERED,{pageIndex:r,src:i.canvas.toDataURL("image/png"),width:parseInt(i.canvas.style.width),height:parseInt(i.canvas.style.height)}),T.pdfSidebar.isThumbnailViewVisible)T.pdfThumbnailViewer.getThumbnail(r).setImage(i);"undefined"!=typeof Stats&&Stats.enabled&&i.stats&&Stats.add(n,i.stats),i.error&&T.error("rendering_error")}}function I(){u.GLOBAL_STATE.isInPresentationMode?(T.scaleBeforePresentation=T.pdfViewer.currentScaleValue,T.pdfViewer.currentScaleValue="page-presentation"):T.pdfViewer.currentScaleValue=T.scaleBeforePresentation||"auto"}function N(e){}function D(e){var t,n=e.mode;switch(n){case"thumbs":t=s.SidebarView.THUMBS;break;case"bookmarks":case"outline":t=s.SidebarView.OUTLINE;break;case"attachments":t=s.SidebarView.ATTACHMENTS;break;case"none":t=s.SidebarView.NONE;break;default:return void console.error('Invalid "pagemode" hash parameter: '+n)}T.pdfSidebar.switchView(t,!0)}function F(e){T.pdfRenderingQueue.isThumbnailViewEnabled=T.pdfSidebar.isThumbnailViewVisible}function B(){var e=T.pdfDocument,t=T.pdfViewer;if(e){var n=t.currentScaleValue;"auto"!==n&&"page-fit"!==n&&"page-width"!==n&&"page-full"!==n&&"page-presentation"!==n||(t.currentScaleValue=n),t.update()}}function j(e){var t=e.hash;t&&(T.isInitialViewSet||(T.initialBookmark=t))}function U(){u.GLOBAL_STATE.printable&&window.print()}function V(){T.printService.abort()}function W(){T.pdfDocument&&(T.page=1)}function G(){T.pdfDocument&&(T.page=T.pagesCount)}function H(){T.page++}function z(){T.page--}function q(){T.zoomIn()}function Y(){T.zoomOut()}function X(e){var t=T.pdfViewer;""!==e.value&&(t.currentPageLabel=e.value),e.value!==t.currentPageNumber.toString()&&e.value!==t.currentPageLabel&&T.toolbar.setPageNumber(t.currentPageNumber,t.currentPageLabel)}function K(e){var t=T.pdfViewer,n=e.value,r=n.firstPage,i=void 0===r?1:r,a=n.isFull,o=void 0===a||a,s=n.firstPagePercent,u=void 0===s?100:s,c=n.page,l=0|c;if(t._pageLabels){var f=t._pageLabels.indexOf(c);f>=0&&(l=f+1)}if(t._currentPageNumber=l,T.eventBus.dispatch("pagechanging",{source:t,pageNumber:l,pageLabel:t._pageLabels&&t._pageLabels[l-1]}),o)t._resetCurrentPageView();else{var d=t._pages[t._currentPageNumber-1].div.offsetParent;if(!d)return void console.error("offsetParent is not set -- cannot scroll xiao_error");var h=0,p=0,v=i===c?l:l-1,g=t._pages[v-1].div;for(h=g.offsetTop+g.clientTop+(1-u/100)*g.clientHeight,p=g.offsetLeft+g.clientLeft;d.clientHeight===d.scrollHeight&&d.clientWidth===d.scrollWidth;)if(d.dataset._scaleY&&(h/=d.dataset._scaleY,p/=d.dataset._scaleX),h+=d.offsetTop,p+=d.offsetLeft,!(d=d.offsetParent))return;d.scrollTop=h,d.scrollLeft=p}}function Q(e){C=function(){var t=T.pdfViewer,n=e.value,r=n.page,i=n.bbox;r+=1;var a=0;if(i&&(a=i[1]),t._pageLabels){var o=t._pageLabels.indexOf(r);o>=0&&(r=o+1)}if(t._currentPageNumber=r,T.eventBus.dispatch("pagechanging",{source:t,pageNumber:r,pageLabel:t._pageLabels&&t._pageLabels[r-1]}),a){var s=t._pages[t._currentPageNumber-1].div.offsetParent;if(!s)return void console.error("offsetParent is not set -- cannot scroll xiao_error");var u=0,c=t._pages[r-1].div;for(u=c.offsetTop+a*c.clientHeight;s.clientHeight===s.scrollHeight;)if(s.dataset._scaleY&&(u/=s.dataset._scaleY),u+=s.offsetTop,!(s=s.offsetParent))return;s.scrollTop=u}else t._resetCurrentPageView()}}function Z(e){T.pdfViewer.currentScaleValue=e.value}function J(){T.rotatePages(90)}function $(){T.rotatePages(-90)}function ee(e){T.pdfViewer.scrollMode=e.mode}function te(e){T.pdfViewer.spreadMode=e.mode}function ne(e){T.pdfLinkService.navigateTo(e.dest)}function re(e){T.findController.executeCommand("find"+e.type,{query:e.query,phraseSearch:e.phraseSearch,caseSensitive:e.caseSensitive,entireWord:e.entireWord,highlightAll:e.highlightAll,findPrevious:e.findPrevious})}function ie(e){var t=e.matchesCount;(0,u.sendMessage)(u.IFRAME_EVENT.FIND_STATE_CHANGED,{current:t.current,total:t.total})}function ae(e){var t=e.state,n=(e.previous,e.matchesCount);(0,u.sendMessage)(u.IFRAME_EVENT.FIND_STATE_CHANGED,{state:t,current:n.current,total:n.total})}function oe(e){var t=e.password;T.updateCallback&&T.updateCallback(t)}function se(e){T.toolbar.setPageScale(e.presetValue,e.scale),T.pdfViewer.update()}function ue(e){T.pdfThumbnailViewer.pagesRotation=e.pagesRotation,T.forceRendering(),T.pdfViewer.currentPageNumber=e.pageNumber}function ce(e){var t=e.pageNumber;if(T.toolbar.setPageNumber(t,e.pageLabel||null),T.pdfSidebar.isThumbnailViewVisible&&T.pdfThumbnailViewer.scrollThumbnailIntoView(t),"undefined"!=typeof Stats&&Stats.enabled){var n=T.pdfViewer.getPageView(t-1);n&&n.stats&&Stats.add(t,n.stats)}}function le(e){"visible"===document.visibilityState&&de()}E=function(e){if(void 0!==e)try{var t=new URL(window.location.href).origin||"null";if(k.includes(t))return;var n=new URL(e,window.location.href),r=n.origin,i=n.protocol;if(r.includes("/"))return;if(r!==t&&"blob:"!==i)throw new Error("file origin does not match viewer's")}catch(e){throw T.error("loading_error"),e}},x=function(e){if(e&&0===e.lastIndexOf("file:",0)){T.setTitleUsingUrl(e);var t=new XMLHttpRequest;t.onload=function(){T.open(new Uint8Array(t.response))};try{t.open("GET",e),t.responseType="arraybuffer",t.send()}catch(e){throw e}}else e&&T.open(e)};var fe=null;function de(){fe&&clearTimeout(fe),fe=setTimeout((function(){fe=null}),1e3)}function he(e){var t=T.pdfViewer;if(e.ctrlKey||e.metaKey){var n=T.supportedMouseWheelZoomModifierKeys;if(e.ctrlKey&&!n.ctrlKey||e.metaKey&&!n.metaKey)return;if(e.preventDefault(),fe||"hidden"===document.visibilityState)return;var r=t.currentScale,i=3*(0,a.normalizeWheelEventDelta)(e);i<0?T.zoomOut(-i):T.zoomIn(i);var o=t.currentScale;if(r!==o){var s=o/r-1,u=t.container.getBoundingClientRect(),c=e.clientX-u.left,l=e.clientY-u.top;t.container.scrollLeft+=c*s,t.container.scrollTop+=l*s}}else de()}function pe(e){switch(e){case"UseNone":return s.SidebarView.NONE;case"UseThumbs":return s.SidebarView.THUMBS;case"UseOutlines":return s.SidebarView.OUTLINE;case"UseAttachments":return s.SidebarView.ATTACHMENTS}return s.SidebarView.NONE}var ve={instance:{supportsPrinting:!1,createPrintService:function(){throw new Error("Not implemented: createPrintService")}}};t.PDFPrintServiceFactory=ve},function(e,t,n){"use strict";e.exports=n(3)},function(e,t,n){"use strict";(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(e){var n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new A(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return P()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function f(){}function d(){}function h(){}var p={};p[a]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==n&&r.call(g,a)&&(p=g);var m=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function b(e,n){var i;this._invoke=function(a,o){function s(){return new n((function(i,s){!function i(a,o,s,u){var l=c(e[a],e,o);if("throw"!==l.type){var f=l.arg,d=f.value;return d&&"object"===t(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):n.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return i("throw",e,s,u)}))}u(l.arg)}(a,o,i,s)}))}return i=i?i.then(s,s):s()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=m.constructor=h,h.constructor=d,h[s]=d.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[o]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(m),m[s]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}("object"===t(e)?e.exports:{});try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(4)(e))},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.isValidRotation=function(e){return Number.isInteger(e)&&e%90==0},t.isPortraitOrientation=function(e){return e.width<=e.height},t.getGlobalEventBus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h||(h=new d({dispatchToDOM:e}));return h},t.getPDFFileNameFromURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof e)return t;if(c(e))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),t;var n=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(e),a=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(a&&(a=a[0]).includes("%"))try{a=r.exec(decodeURIComponent(a))[0]}catch(e){}return a||t},t.noContextMenuHandler=function(e){e.preventDefault()},t.parseQueryString=function(e){for(var t=e.split("&"),n=Object.create(null),r=0,i=t.length;r<i;++r){var a=t[r].split("="),o=a[0].toLowerCase(),s="";s="file"===o?t[r].substr(t[r].indexOf("=")+1):a.length>1?a[1]:null,n[decodeURIComponent(o)]=decodeURIComponent(s)}return n},t.backtrackBeforeAllVisibleElements=u,t.getVisibleElements=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.scrollTop,a=i+e.clientHeight,o=e.scrollLeft,c=o+e.clientWidth;function l(e){var t=e.div;return t.offsetTop+t.clientTop+t.clientHeight>i}function f(e){var t=e.div;return t.offsetLeft+t.clientLeft+t.clientWidth>o}var d,h,p,v,g,m,y,b,_,w,S,A=[],C=0===t.length?0:s(t,r?f:l);t.length>0&&!r&&(C=u(C=Math.min(C,t.length-1),t,i));for(var P=r?c:-1,E=C,T=t.length;E<T;E++){if(d=t[E],h=d.div,y=h.offsetLeft+h.clientLeft,p=h.offsetTop+h.clientTop,b=h.clientWidth,v=h.clientHeight,_=y+b,g=p+v,-1===P)g>=a&&(P=g);else if((r?y:p)>P)break;g<=i||p>=a||_<=o||y>=c||(m=Math.max(0,i-p)+Math.max(0,g-a),w=Math.max(0,o-y)+Math.max(0,_-c),S=(v-m)*(b-w)*100/v/b|0,A.push({id:d.id,x:y,y:p,view:d,percent:S}))}var x=A[0],k=A[A.length-1];n&&A.sort((function(e,t){var n=e.percent-t.percent;return Math.abs(n)>.001?-n:e.id-t.id}));return{first:x,last:k,views:A}},t.roundToDivide=function(e,t){var n=e%t;return 0===n?e:Math.round(e-n+t)},t.getPageSizeInches=function(e){var t=e.view,n=e.userUnit,r=e.rotate,i=(h=t,p=4,function(e){if(Array.isArray(e))return e}(h)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(h,p)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(h,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],s=i[1],u=i[2],c=i[3],l=r%180!=0,f=(u-a)/72*n,d=(c-s)/72*n;var h,p;return{width:l?d:f,height:l?f:d}},t.approximateFraction=function(e){if(Math.floor(e)===e)return[e,1];var t=1/e;if(t>8)return[1,8];if(Math.floor(t)===t)return[1,t];var n,r=e>1?t:e,i=0,a=1,o=1,s=1;for(;;){var u=i+o,c=a+s;if(c>8)break;r<=u/c?(o=u,s=c):(i=u,a=c)}n=r-i/a<o/s-r?r===e?[i,a]:[a,i]:r===e?[o,s]:[s,o];return n},t.getOutputScale=function(e){var t=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,r=t/n;return{sx:r,sy:r,scaled:1!==r}},t.scrollIntoView=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.offsetParent;if(!i)return void console.error("offsetParent is not set -- cannot scroll");var a=e.offsetTop+e.clientTop,o=e.offsetLeft+e.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||n&&"hidden"===getComputedStyle(i).overflow;)if(i.dataset._scaleY&&(a/=i.dataset._scaleY,o/=i.dataset._scaleX),a+=i.offsetTop,o+=i.offsetLeft,!(i=i.offsetParent))return;t&&(void 0!==t.top&&(a+=t.top),void 0!==t.left&&(o+=t.left));r?i.scrollTo({top:a,left:o,behavior:"smooth"}):(i.scrollTop=a,i.scrollLeft=o)},t.watchScroll=function(e,t){var n=function(n){i||(i=window.requestAnimationFrame((function(){i=null;var n=e.scrollLeft,a=r.lastX;n!==a&&(r.right=n>a),r.lastX=n;var o=e.scrollTop,s=r.lastY;o!==s&&(r.down=o>s),r.lastY=o,t(r)})))},r={right:!0,down:!0,lastX:e.scrollLeft,lastY:e.scrollTop,_eventHandler:n},i=null;return e.addEventListener("scroll",n,!0),r},t.binarySearchFirstItem=s,t.normalizeWheelEventDelta=function(e){var t=Math.sqrt(e.deltaX*e.deltaX+e.deltaY*e.deltaY),n=Math.atan2(e.deltaY,e.deltaX);-.25*Math.PI<n&&n<.75*Math.PI&&(t=-t);0===e.deltaMode?t/=900:1===e.deltaMode&&(t/=30);return t},t.waitOnEventOrTimeout=function(e){var t=e.target,n=e.name,r=e.delay,i=void 0===r?0:r;return new Promise((function(e,r){if("object"!==a(t)||!n||"string"!=typeof n||!(Number.isInteger(i)&&i>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function o(r){t instanceof d?t.off(n,s):t.removeEventListener(n,s),c&&clearTimeout(c),e(r)}var s=o.bind(null,l.EVENT);t instanceof d?t.on(n,s):t.addEventListener(n,s);var u=o.bind(null,l.TIMEOUT),c=setTimeout(u,i)}))},t.moveToEndOfArray=function(e,t){for(var n=[],r=e.length,i=0,a=0;a<r;++a)t(e[a])?n.push(e[a]):(e[i]=e[a],++i);for(var o=0;i<r;++o,++i)e[i]=n[o]},t.WaitOnType=t.animationStarted=t.EventBus=t.TextLayerMode=t.RendererType=t.PresentationModeState=t.VERTICAL_PADDING=t.SCROLLBAR_PADDING=t.MAX_AUTO_SCALE=t.UNKNOWN_SCALE=t.MAX_SCALE=t.MIN_SCALE=t.DEFAULT_SCALE=t.DEFAULT_SCALE_VALUE=t.CSS_UNITS=void 0;t.CSS_UNITS=96/72;t.DEFAULT_SCALE_VALUE="auto";t.DEFAULT_SCALE=1;t.MIN_SCALE=.1;t.MAX_SCALE=10;t.UNKNOWN_SCALE=0;t.MAX_AUTO_SCALE=1.25;t.SCROLLBAR_PADDING=40;t.VERTICAL_PADDING=5;t.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};t.RendererType={CANVAS:"canvas",SVG:"svg"};function s(e,t){var n=0,r=e.length-1;if(0===e.length||!t(e[r]))return e.length;if(t(e[n]))return n;for(;n<r;){var i=n+r>>1;t(e[i])?r=i:n=i+1}return n}function u(e,t,n){if(e<2)return e;var r=t[e].div,i=r.offsetTop+r.clientTop;i>=n&&(i=(r=t[e-1].div).offsetTop+r.clientTop);for(var a=e-2;a>=0&&!((r=t[a].div).offsetTop+r.clientTop+r.clientHeight<=i);--a)e=a;return e}function c(e){for(var t=0,n=e.length;t<n&&""===e[t].trim();)t++;return"data:"===e.substring(t,t+5).toLowerCase()}t.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var l={EVENT:"event",TIMEOUT:"timeout"};t.WaitOnType=l;var f=new Promise((function(e){window.requestAnimationFrame(e)}));t.animationStarted=f;var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.dispatchToDOM,i=void 0!==n&&n;r(this,e),this._listeners=Object.create(null),this._dispatchToDOM=!0===i}var t,n,a;return t=e,(n=[{key:"on",value:function(e,t){var n=this._listeners[e];n||(n=[],this._listeners[e]=n),n.push(t)}},{key:"off",value:function(e,t){var n,r=this._listeners[e];!r||(n=r.indexOf(t))<0||r.splice(n,1)}},{key:"dispatch",value:function(e){var t=this._listeners[e];if(t&&0!==t.length){var n=Array.prototype.slice.call(arguments,1);t.slice(0).forEach((function(e){e.apply(null,n)})),this._dispatchToDOM&&this._dispatchDOMEvent(e,n)}else if(this._dispatchToDOM){var r=Array.prototype.slice.call(arguments,1);this._dispatchDOMEvent(e,r)}}},{key:"_dispatchDOMEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object.create(null);if(t&&t.length>0){var r=t[0];for(var i in r){var a=r[i];if("source"!==i)n[i]=a;else if(a===window||a===document)return}}var o=document.createEvent("CustomEvent");o.initCustomEvent(e,!0,!0,n),document.dispatchEvent(o)}}])&&i(t.prototype,n),a&&i(t,a),e}();t.EventBus=d;var h=null},function(e,t,n){"use strict";var r;r="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require("../lib/pdf.js"),e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFSidebar=t.SidebarView=void 0;var r=n(8);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a={NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3};t.SidebarView=a;var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isOpen=!1,this.active=a.THUMBS,this.isInitialViewSet=!1,this.onToggled=null,this.pdfViewer=t.pdfViewer,this.pdfThumbnailViewer=t.pdfThumbnailViewer,this.outerContainer=t.outerContainer,this.viewerContainer=t.viewerContainer,this.thumbnailView=t.thumbnailView,this.outlineView=t.outlineView,this.attachmentsView=t.attachmentsView,this.disableNotification=t.disableNotification||!1,this.eventBus=n,this._addEventListeners()}var t,n,o;return t=e,(n=[{key:"reset",value:function(){this.isInitialViewSet=!1,this._hideUINotification(null),this.switchView(a.THUMBS)}},{key:"setInitialView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.NONE;if(!this.isInitialViewSet)if(this.isInitialViewSet=!0,this.isOpen&&e===a.NONE)this._dispatchEvent();else{var t=e===this.visibleView;this.switchView(e,!0),t&&this._dispatchEvent()}}},{key:"switchView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e!==a.NONE){var n=e!==this.active,r=!1;switch(e){case a.THUMBS:this.thumbnailView.classList.remove("hidden"),this.outlineView.classList.add("hidden"),this.attachmentsView.classList.add("hidden"),this.isOpen&&n&&(this._updateThumbnailViewer(),r=!0);break;case a.OUTLINE:this.thumbnailView.classList.add("hidden"),this.outlineView.classList.remove("hidden"),this.attachmentsView.classList.add("hidden");break;case a.ATTACHMENTS:this.thumbnailView.classList.add("hidden"),this.outlineView.classList.add("hidden"),this.attachmentsView.classList.remove("hidden");break;default:return void console.error('PDFSidebar_switchView: "'+e+'" is an unsupported value.')}this.active=0|e,!t||this.isOpen?(r&&this._forceRendering(),n&&this._dispatchEvent(),this._hideUINotification(this.active)):this.open()}else this.close()}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this.outerContainer.classList.add("sidebarMoving"),this.outerContainer.classList.add("sidebarOpen"),this.active===a.THUMBS&&this._updateThumbnailViewer(),this._forceRendering(),this._dispatchEvent(),this._hideUINotification(this.active))}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.outerContainer.classList.add("sidebarMoving"),this.outerContainer.classList.remove("sidebarOpen"),this._forceRendering(),this._dispatchEvent())}},{key:"toggle",value:function(){this.isOpen?this.close():this.open()}},{key:"_dispatchEvent",value:function(){this.eventBus.dispatch("sidebarviewchanged",{source:this,view:this.visibleView})}},{key:"_forceRendering",value:function(){this.onToggled?this.onToggled():(this.pdfViewer.forceRendering(),this.pdfThumbnailViewer.forceRendering())}},{key:"_updateThumbnailViewer",value:function(){for(var e=this.pdfViewer,t=this.pdfThumbnailViewer,n=e.pagesCount,i=0;i<n;i++){var a=e.getPageView(i);a&&a.renderingState===r.RenderingStates.FINISHED&&t.getThumbnail(i).setImage(a)}t.scrollThumbnailIntoView(e.currentPageNumber)}},{key:"_showUINotification",value:function(e){this.disableNotification||!this.isOpen||this.active}},{key:"_hideUINotification",value:function(e){if(!this.disableNotification){var t=function(e){};if(this.isOpen||null===e)if(null===e)for(e in a)t(a[e]);else t(e)}}},{key:"_addEventListeners",value:function(){var e=this;this.viewerContainer.addEventListener("transitionend",(function(t){t.target===e.viewerContainer&&e.outerContainer.classList.remove("sidebarMoving")})),this.eventBus.on("outlineloaded",(function(t){t.outlineCount?e._showUINotification(a.OUTLINE):e.active===a.OUTLINE&&e.switchView(a.THUMBS)})),this.eventBus.on("attachmentsloaded",(function(t){t.attachmentsCount?e._showUINotification(a.ATTACHMENTS):Promise.resolve().then((function(){e.attachmentsView.hasChildNodes()||e.active===a.ATTACHMENTS&&e.switchView(a.THUMBS)}))}))}},{key:"visibleView",get:function(){return this.isOpen?this.active:a.NONE}},{key:"isThumbnailViewVisible",get:function(){return this.isOpen&&this.active===a.THUMBS}},{key:"isOutlineViewVisible",get:function(){return this.isOpen&&this.active===a.OUTLINE}},{key:"isAttachmentsViewVisible",get:function(){return this.isOpen&&this.active===a.ATTACHMENTS}}])&&i(t.prototype,n),o&&i(t,o),e}();t.PDFSidebar=o},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFRenderingQueue=t.RenderingStates=void 0;var i={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};t.RenderingStates=i;var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}var t,n,a;return t=e,(n=[{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setThumbnailViewer",value:function(e){this.pdfThumbnailViewer=e}},{key:"isHighestPriority",value:function(e){return this.highestPriorityPage===e.renderingId}},{key:"renderHighestPriority",value:function(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}},{key:"renderHighestPriorityMock",value:function(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRenderingMock()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}},{key:"getHighestPriority",value:function(e,t,n){var r=e.views,i=r.length;if(0===i)return!1;for(var a=0;a<i;++a){var o=r[a].view?r[a].view:r[a];if(!this.isViewFinished(o))return o}if(n){var s=e.last.id;if(t[s]&&!this.isViewFinished(t[s]))return t[s]}else{var u=e.first.id-2;if(t[u]&&!this.isViewFinished(t[u]))return t[u]}return null}},{key:"isViewFinished",value:function(e){return e.renderingState===i.FINISHED}},{key:"renderView",value:function(e){var t=this;switch(e.renderingState){case i.FINISHED:return!1;case i.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case i.RUNNING:this.highestPriorityPage=e.renderingId;break;case i.INITIAL:this.highestPriorityPage=e.renderingId;var n=function(){t.renderHighestPriority()};e.draw().then(n,n)}return!0}},{key:"renderViewMock",value:function(e){var t=this;switch(e.renderingState){case i.FINISHED:return!1;case i.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case i.RUNNING:this.highestPriorityPage=e.renderingId;break;case i.INITIAL:this.highestPriorityPage=e.renderingId;var n=function(){t.renderHighestPriorityMock()};e.draw().then(n,n)}return!0}}])&&r(t.prototype,n),a&&r(t,a),e}();t.PDFRenderingQueue=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!parent)return;parent.postMessage({key:e,value:t},"*")},t.receiveMessage=function(e){window.addEventListener("message",(function(t){if("object"===s(t.data)){var n,r,i=t.data;if(i.key)switch(i.key){case d:e.dispatch("pagenumberchanged",{value:i.value+""});break;case h:e.dispatch("setPageScrollPosition",{value:i.value});break;case p:e.dispatch("setScrollTopPosition",{value:i.value});break;case v:e.dispatch("previouspage");break;case g:e.dispatch("nextpage");break;case m:e.dispatch("zoomout");break;case y:e.dispatch("zoomin");break;case b:e.dispatch("print");break;case _:e.dispatch("printabort");break;case w:e.dispatch("sidebarscroll",{isDown:i.value.isDown,firstId:i.value.firstId,lastId:i.value.lastId});break;case S:e.dispatch("verifyPassword",{password:i.value});break;case A:e.dispatch("find",{type:"",query:String(i.value),phraseSearch:!0,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:void 0});break;case C:e.dispatch("find",{type:"again",query:String(i.value),phraseSearch:!0,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:!0});break;case P:e.dispatch("find",{type:"again",query:String(i.value),phraseSearch:!0,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:!1});break;case E:e.dispatch("findbarclose");break;case T:e.dispatch("initComments",{comments:i.value});break;case x:e.dispatch("addComment",{comment:i.value});break;case k:e.dispatch("deleteComment",{comment:i.value});break;case O:e.dispatch("activateComment",{comment:i.value});break;case R:e.dispatch("deactivateComment");break;case M:var a=Boolean(i.value);a!==l.isCommentMode&&(l.isCommentMode=a,e.dispatch("toggleCommentMode",a));break;case L:var u=i.value,c=u.canCreateRectComment,f=u.canCreateTextComment;c!==l.canCreateRectComment&&(l.canCreateRectComment=c,e.dispatch("toggleCanCreateRectComment",c)),f!==l.canCreateTextComment&&(l.canCreateTextComment=f,e.dispatch("toggleCanCreateTextComment",f));break;case I:var G=Boolean(i.value);G!==l.copyable&&(l.copyable=G,e.dispatch("toggleCopyable",G));break;case N:var H=Boolean(i.value);H!==l.printable&&(l.printable=H);break;case U:if(i.value&&"object"===s(i.value))for(var z=0,q=Object.entries(i.value);z<q.length;z++){var Y=(n=q[z],r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(n,r)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),X=Y[0],K=Y[1],Q=Boolean(K);Q!==l[X]&&(l[X]=Q,"copyable"===X&&e.dispatch("toggleCopyable",Q))}break;case D:var Z=Boolean(i.value);l.isInPresentationMode=Z,e.dispatch("toggleIsInPresentationMode");break;case F:i.value&&i.value.width&&i.value.height&&(l.parentSize=i.value,window.dispatchEvent(function(e){if(CustomEvent)return new CustomEvent(e,{});var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}("resize")));break;case B:e.dispatch("receiveVcFollowState",i);break;case j:i.value&&i.value.dest&&e.dispatch("navigateTo",{dest:i.value.dest});break;case V:i.value&&i.value.isPdfPromptInited&&e.dispatch("initPdfPrompts",{isPdfPromptInited:i.value.isPdfPromptInited,suggestPrompts:i.value.suggestPrompts});break;case W:i.value&&i.value.watermarkInfo&&e.dispatch("receiveWatermarkInfo",{watermarkInfo:i.value.watermarkInfo})}}}),!1)},t.throttle=function(e,t,n){var r,i,a,o,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,o=e.apply(i,a),r||(i=a=null)},c=function(){var c=Date.now();s||!1!==n.leading||(s=c);var l=t-(c-s);return i=this,a=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),s=c,o=e.apply(i,a),r||(i=a=null)):r||!1===n.trailing||(r=setTimeout(u,l)),o};return c.cancel=function(){clearTimeout(r),s=0,r=i=a=null},c},t.genUUID=function(){return z+=1,"".concat(function(e){for(var t="",n=0;n<e;n++){var r=Math.floor(Math.random()*H.length);t+=H[r]}return t}(6)).concat(z)},t.limitNumberSize=function(e,t,n){return Math.max(Math.min(t,e),n)},t.limitNumberDigit=function(e){return parseFloat(e.toFixed(6))},t.isFullCommentType=function(e){return e===G.OLD||e===G.FULL},t.getOffsetTop=function(e,t){var n=e,r=0;for(;n&&n!==t;)r+=n.offsetTop,n=n.offsetParent;return r},t.genTextPopupPosition=function(e,t){var n=t?t.scrollTop:0,r=t?t.scrollLeft:0,i=t?t.offsetWidth:0,a=r+(e.left+e.right)/2-f.TEXT_POPUP_SINGLE_BUTTON_WIDTH/2,o=n+e.top-(f.TEXT_POPUP_GAP+f.TEXT_POPUP_HEIGHT);e.top<f.TEXT_POPUP_HEIGHT+f.TEXT_POPUP_GAP&&(o=n+e.bottom+f.TEXT_POPUP_GAP);window.initialData.isAiUsable&&i&&(a=Math.min(a,i-(window.initialData.isPdfPromptInited?f.POPUP_WIDTH_WITH_AI_PROMPT:f.POPUP_WIDTH_WITHOUT_AI_PROMPT)));return{textPopupLeft:a,textPopupTop:o}},t.getSearchValue=function(e){return(0,i.parseQueryString)(window.location.search)[e.toLowerCase()]},t.shouldShowDigitalSign=function(){return Boolean(window.initialData.showPDFDigitalSign)},t.isInVC=function(){if(void 0!==l.isInVC)return l.isInVC;return l.isInVC=window.navigator.userAgent.indexOf("VC/")>-1,l.isInVC},t.isEdge=function(){return navigator.userAgent.indexOf("Edge")>-1},t.isWebKit=function(){return"WebKit"===c.getEngine().name},t.getSvgWithType=t.SUB_SVG=t.COPILOT_SVG=t.COMMENT_SVG=t.COPY_SVG=t.GLOBAL_CONSTANT=t.ERROR_TYPE=t.POPUP_TYPE=t.GLOBAL_STATE=t.COMMENT_TYPE=t.IFRAME_EVENT=void 0;var r,i=n(5),a=(r=n(10))&&r.__esModule?r:{default:r};function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u="undefined"!=typeof window&&window.User&&window.User.userAgent||navigator.userAgent||"",c=a.default.getParser(u),l={isCommentMode:!1,canCreateRectComment:!1,canCreateTextComment:!1,isEditMode:!1,activeCommentId:"",popupTooltipVisible:!1,copyable:!0,printable:!1,isInPresentationMode:!1,parentSize:{width:0,height:0}};t.GLOBAL_STATE=l;var f={createCommentLayerClassName:"createCommentLayer",pageEditClassName:"page--edit",rectangleControllerClass:"rectangle-controller",fullCommentCLass:"comment-block__full",createCommentClass:"create-comment-block",createCommentTextClass:"create-comment-block__text",createCommentRectClass:"create-comment-block__rectangle",rectangleCommentClass:"comment-block__rectangle",textCommentClass:"comment-block__text",commentClass:"comment-block",highLightClass:"highlight-comment",activeClass:"active-comment",copyButtonId:"text-popup__copy",commentButtonId:"text-popup__comment",showCopilotButtonId:"text-popup__showCopilot",textPopupAiPopupClass:"text-popup__ai-popup",textPopupAiItemClass:"text-popup__ai-item",textPopupAiSubMenuClass:"text-popup__ai-sup-menu",subMenuItemClass:"sub-menu-item",aiHoverBlockClass:"hover-block",aiIconClass:"icon",aiTitleClass:"title",aiIconSubClass:"icon-sub",aiHolderClass:"holder",hiddenTextPopupButtonClass:"text-popup__item--hidden",textPopupButtonClass:"text-popup__item",textPopupInnerButtonClass:"text-popup__inner-item",hiddenTextPopupClass:"text-popup--hidden",textPopupClass:"text-popup",MAX_QUADS_LENGTH:500,TEXT_POPUP_HEIGHT:40,TEXT_POPUP_GAP:10,TEXT_POPUP_SINGLE_BUTTON_WIDTH:44,MATCH_RECT_BORDER_RANGE:.01,COPY_SECRET:"",WITH_ENTITY_ID:!1,POPUP_WIDTH_WITH_AI_PROMPT:361,POPUP_WIDTH_WITHOUT_AI_PROMPT:131};t.GLOBAL_CONSTANT=f;t.IFRAME_EVENT={ERROR:"error",PASSWORD_MODAL_OPEN:"passwordModalOpen",LOADING_PROGRESS:"loadingProgress",IS_MOVING:"isMoving",PDF_LOADED:"pdfloaded",PRINT_MODAL_CLOSE:"printModalClose",PRINT_ERROR:"printError",PRINT_MODAL_OPEN:"printModalOpen",PRINT_PROGRESS:"printProgress",THUMBNAIL:"thumbnail",THUMBNAIL_HEIGHT:"thumbnailHeight",PAGE_COUNT:"pageCount",PAGE_INDEX:"pageIndex",PAGE_OUTLINE:"pageOutline",FIND_STATE_CHANGED:"findStateChanged",CREATE_NEW_COMMENT:"createNewComment",UPDATE_NEW_COMMENT:"updateNewComment",SET_ACTIVE_COMMENT:"setActiveComment",COMMENT_QUADS_EXCEED:"commentQuadsExceed",POPUP_TOOLTIP_STATE:"popupTooltipState",COPY_WITHOUT_PERMISSION:"copyWithoutPermission",ON_COPY:"onCopy",ON_SEARCH:"onSearch",SECLINK_CLICKED:"seclinkClicked",PRESENTATION_PAGE_RENDERED:"presentationPageRendered",POST_VC_FOLLOW_STATE:"postVcFollowState",VC_FOLLOW_FINISHED:"vcFollowFinished",ON_SCALE_CLICK:"onScaleClick",SHOW_COPILOT:"showCopilot",CONFIRM_PROMPT:"confirmPrompt",UPDATE_POSITION:"updatePosition",PAGE_SCROLL_POSITION:"pageScrollPosition",VISIBLE_PAGE_RENDERED:"visiblePageRendered",GET_WATERMARK_INFO:"getWatermarkInfo"};var d="pageNumberChanged",h="setPageScrollPosition",p="setScrollTopPosition",v="prev",g="next",m="zoomOut",y="zoomIn",b="print",_="printAbort",w="sideBarScroll",S="verifyPassword",A="findText",C="findPrev",P="findNext",E="findExit",T="initComments",x="addComment",k="deleteComment",O="activateComment",R="deactivateComment",M="setIsCommentMode",L="setCanCreateComment",I="setCopyable",N="setPrintable",D="setIsInPresentationMode",F="setParentSize",B="receiveVcFollowState",j="navigateTo",U="setActionPermission",V="initPdfPrompts",W="setWatermarkInfo";t.COPY_SVG='<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="Web-16*16" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <g id="Artboard" transform="translate(-173.000000, -672.000000)" fill="#2B2F36">\n        <g id="icon_tool_copy_nor" transform="translate(179.000000, 676.000000)">\n            <path d="M9.33333333,3 C9.70152317,3 10,3.29847683 10,3.66666667 L10,14.5 C10,14.8272799 9.72142162,15.0925926 9.37777778,15.0925926 L0.622222222,15.0925926 C0.278578378,15.0925926 0,14.8272799 0,14.5 L0,3.59259259 C0,3.26531274 0.278578378,3 0.622222222,3 L9.33333333,3 Z M8.5,4.5 L1.5,4.5 L1.5,13.5925926 L8.5,13.5925926 L8.5,4.5 Z M12.7,2.27456339e-13 C12.8656854,2.27466484e-13 13,0.134314575 13,0.3 L13,7.7 C13,7.86568542 12.8656854,8 12.7,8 L11.8,8 C11.6343146,8 11.5,7.86568542 11.5,7.7 L11.5,1.5 L5.3,1.5 C5.13431458,1.5 5,1.36568542 5,1.2 L5,0.3 C5,0.134314575 5.13431458,-2.50752324e-17 5.3,0 L12.7,2.27456339e-13 Z" id="Combined-Shape"></path>\n        </g>\n    </g>\n</g>\n</svg>';t.COMMENT_SVG='\n<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Web-16*16" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Artboard" transform="translate(-173.000000, -1228.000000)">\n            <g id="icon_global_addcomment_nor" transform="translate(173.000000, 1228.000000)">\n                <g id="bg"></g>\n                <g id="icon_global_add-comment_nor" transform="translate(5.000000, 5.000000)" fill="#2B2F36" fill-rule="nonzero">\n                    <g id="编组-9">\n                        <path d="M9.35897436,12.0148626 L7.55883439,13.7721729 C7.24804595,14.0755669 6.75195405,14.0755669 6.44116561,13.7721729 L4.64102564,12.0148626 L0.8,12.0148626 C0.3581722,12.0148626 0,11.6566904 0,11.2148626 L0,0.8 C0,0.3581722 0.3581722,-8.8817842e-16 0.8,-8.8817842e-16 L13.2,-8.8817842e-16 C13.6418278,-8.8817842e-16 14,0.3581722 14,0.8 L14,11.2148626 C14,11.6566904 13.6418278,12.0148626 13.2,12.0148626 L9.35897436,12.0148626 Z M7,12.2214747 L8.74820613,10.5148626 L12.5,10.5148626 L12.5,1.5 L1.5,1.5 L1.5,10.5148626 L5.25179387,10.5148626 L7,12.2214747 Z M3.4,5 L10.6,5 C10.8209139,5 11,5.1790861 11,5.4 L11,6.1 C11,6.3209139 10.8209139,6.5 10.6,6.5 L3.4,6.5 C3.1790861,6.5 3,6.3209139 3,6.1 L3,5.4 C3,5.1790861 3.1790861,5 3.4,5 Z" id="形状结合"></path>\n                    </g>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>';t.COPILOT_SVG='<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-icon="MyaiColorful"><path d="M4.3 5.612c2.187-7.482 12.791-7.482 14.979 0 .582 1.985.899 4.136.899 6.388s-.317 4.403-.9 6.389c-2.186 7.482-12.79 7.482-14.978 0A22.695 22.695 0 0 1 3.4 12c0-2.252.317-4.403.9-6.388Zm14.28 6.654a6.51 6.51 0 1 0-13.022 0 6.51 6.51 0 0 0 13.022 0Z" fill="url(#icon_myai_colorful__a)" opacity="0.7"></path><path d="M2.719 15.371c-5.389-5.633-.08-14.82 7.489-12.97a22.828 22.828 0 0 1 5.986 2.416A22.725 22.725 0 0 1 21.28 8.79c5.388 5.633.086 14.82-7.49 12.97a22.828 22.828 0 0 1-5.985-2.416 22.725 22.725 0 0 1-5.086-3.972Zm15.86-3.105a6.51 6.51 0 1 0-13.02 0 6.51 6.51 0 0 0 13.02 0Z" fill="url(#icon_myai_colorful__b)" opacity="0.7"></path><path d="M10.208 21.76C2.64 23.609-2.67 14.422 2.718 8.789a22.725 22.725 0 0 1 5.087-3.972A22.927 22.927 0 0 1 13.791 2.4C21.359.551 26.668 9.738 21.28 15.371a22.725 22.725 0 0 1-5.087 3.972 22.927 22.927 0 0 1-5.985 2.417Zm8.372-9.494a6.51 6.51 0 1 0-13.022 0 6.51 6.51 0 0 0 13.022 0Z" fill="url(#icon_myai_colorful__c)" opacity="0.7"></path><defs><linearGradient id="icon_myai_colorful__a" x1="0.394" y1="19.813" x2="20.991" y2="5.698" gradientUnits="userSpaceOnUse"><stop offset="0.22" stop-color="#FF9D4C"></stop><stop offset="0.58" stop-color="#F879FD" stop-opacity="0.55"></stop><stop offset="0.94" stop-color="#5337F7"></stop></linearGradient><linearGradient id="icon_myai_colorful__b" x1="13.063" y1="25.854" x2="11.134" y2="0.965" gradientUnits="userSpaceOnUse"><stop offset="0.213" stop-color="#FF9D4C"></stop><stop offset="0.595" stop-color="#F879FD" stop-opacity="0.55"></stop><stop offset="0.94" stop-color="#5337F7"></stop></linearGradient><linearGradient id="icon_myai_colorful__c" x1="24.462" y1="18.044" x2="1.939" y2="7.264" gradientUnits="userSpaceOnUse"><stop offset="0.232" stop-color="#FF9D4C"></stop><stop offset="0.58" stop-color="#F879FD" stop-opacity="0.55"></stop><stop offset="0.957" stop-color="#5337F7"></stop></linearGradient></defs></svg>';t.SUB_SVG='<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-icon="DownBoldOutlined"><path d="m3.414 7.086-.707.707a1 1 0 0 0 0 1.414l7.778 7.778a2 2 0 0 0 2.829 0l7.778-7.778a1 1 0 0 0 0-1.414l-.707-.707a1 1 0 0 0-1.415 0l-7.07 7.07-7.072-7.07a1 1 0 0 0-1.414 0Z" fill="currentColor"></path></svg>';t.getSvgWithType=function(e){switch(e){case"explain":return'<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-icon="SlidesAnimationOutlined"><path d="M7.554 5.074c.725-1.519 2.886-1.519 3.61 0L12.83 8.56l3.83.505c1.668.22 2.336 2.275 1.116 3.433l-2.802 2.66.703 3.8c.306 1.654-1.442 2.924-2.92 2.122L9.36 19.236 5.964 21.08c-1.479.802-3.227-.468-2.921-2.122l.704-3.8L.944 12.5C-.276 11.341.392 9.286 2.06 9.066l3.83-.505 1.664-3.487Zm1.806.86L7.696 9.423a2 2 0 0 1-1.544 1.122l-3.83.505 2.801 2.66a2 2 0 0 1 .59 1.814l-.703 3.8 3.395-1.843a2 2 0 0 1 1.909 0l3.396 1.843-.704-3.8a2 2 0 0 1 .59-1.814l2.802-2.66-3.83-.505a2 2 0 0 1-1.544-1.122L9.36 5.935Z" fill="currentColor"></path><path d="M19.158 2.428c-.347-.43-.924-.54-1.288-.245l-3.956 3.196c-.364.294-.378.881-.03 1.31.346.43.923.54 1.287.246l3.956-3.197c.364-.294.378-.88.03-1.31Zm4.214 9.498c-.348-.43-.955-.515-1.356-.19l-4.363 3.525c-.402.325-.446.936-.099 1.366.347.43.954.515 1.356.19l4.363-3.526c.401-.324.446-.936.099-1.365Zm-.047-6.344c-.348-.43-.947-.52-1.34-.204l-2.84 2.295c-.392.317-.429.923-.082 1.352.347.43.947.521 1.339.204l2.84-2.295c.393-.317.43-.922.082-1.352Z" fill="currentColor"></path></svg>';case"summarize":return'<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-icon="EditDiscriptionOutlined"><path d="M19.602 3.06a1.5 1.5 0 1 1 2.898.777l-.388 1.449-2.898-.776.388-1.45Zm-.774 2.888 2.898.777-3.897 14.543c-.076.285-.24.54-.468.727l-1.48 1.218a.17.17 0 0 1-.268-.073l-.65-1.798a1.394 1.394 0 0 1-.036-.835l3.901-14.559ZM3 3a1 1 0 1 0 0 2h12a1 1 0 1 0 0-2H3Zm-1 9a1 1 0 0 1 1-1h9a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Zm1 7a1 1 0 1 0 0 2h7a1 1 0 1 0 0-2H3Z" fill="currentColor"></path></svg>';case"translate":return'<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-icon="TranslateOutlined"><path d="M18.656 9.5h1.47a8.504 8.504 0 0 0-16.252 0H1.799c1.122-4.592 5.264-8 10.201-8 4.938 0 9.079 3.408 10.2 8h1.644a.16.16 0 0 1 .156.162.166.166 0 0 1-.046.115l-2.539 2.652a.226.226 0 0 1-.33 0l-2.54-2.652a.167.167 0 0 1 0-.23.152.152 0 0 1 .11-.047Zm-13.312 5h-1.47a8.504 8.504 0 0 0 16.252 0h2.075c-1.122 4.592-5.264 8-10.201 8s-9.079-3.408-10.2-8H.155a.152.152 0 0 1-.11-.048.168.168 0 0 1 0-.23l2.539-2.65a.226.226 0 0 1 .33 0l2.54 2.65a.169.169 0 0 1 .045.116.16.16 0 0 1-.156.162Z" fill="currentColor"></path><path d="M13.015 7.5H11.01l-3.51 9h2.016l1.025-2.484H13.4l1.116 2.484H16.5l-3.485-9ZM12.93 12h-1.873l.958-2.52.915 2.52Z" fill="currentColor"></path></svg>';default:return""}};t.POPUP_TYPE={COPY:"copy",COMMENT:"comment",SHOW_COPILOT:"show_copilot"};var G={RECT:1,OLD:2,FULL:3,TEXT:4};t.COMMENT_TYPE=G;t.ERROR_TYPE={NETWORK:"network",PDF:"pdf",FORBIDDEN:"forbidden"};var H="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",z=0},function(e,t,n){"use strict";(function(e){var n,r,i,a;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==o(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),a=e.getVersionPrecision(n),o=Math.max(i,a),s=0,u=e.map([t,n],(function(t){var n=o-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=o-Math.min(i,a)),o-=1;o>=s;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===s)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(a));var u=function(){var e=a[t];"object"==o(e)&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=a.length;t<n;t+=1)u();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},a=n(18);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,(n=[{key:"BROWSER_MAP",get:function(){return a.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return a.ENGINE_MAP}},{key:"OS_MAP",get:function(){return a.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return a.PLATFORMS_MAP}}])&&o(t,n),e}();t.default=s,e.exports=t.default},91:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),a=c(n(94)),s=c(n(95)),u=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=u.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=u.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=u.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=u.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return u.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},a=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(i[t]=s,a+=1):"object"==o(s)&&(n[t]=s,r+=1)})),r>0){var s=Object.keys(n),c=u.default.find(s,(function(e){return t.isOS(e)}));if(c){var l=this.satisfies(n[c]);if(void 0!==l)return l}var f=u.default.find(s,(function(e){return t.isPlatform(e)}));if(f){var d=this.satisfies(n[f]);if(void 0!==d)return d}}if(a>0){var h=Object.keys(i),p=u.default.find(h,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(i[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=u.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(u.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=l,e.exports=t.default},92:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=o,e.exports=t.default},93:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:a.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:a.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:a.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:a.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:a.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:a.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:a.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:a.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:a.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:a.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.PlayStation4,version:t}}}];t.default=o,e.exports=t.default},94:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:a.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:a.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}}];t.default=o,e.exports=t.default},95:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:a.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:a.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:a.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:a.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:a.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:a.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:a.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=o,e.exports=t.default}})},"object"==o(t)&&"object"==o(e)?e.exports=a():(r=[],void 0===(i="function"==typeof(n=a)?n.apply(t,r):n)||(e.exports=i))}).call(this,n(4)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptionKind=t.AppOptions=void 0;var r=n(6),i=n(12);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o={VIEWER:"viewer",API:"api",WORKER:"worker"};t.OptionKind=o;var s=window.initialData,u=s.devParentOrigin,c=s.fileToken,l=s.previewType,f=s.fileDataVersion,d=s.resourcePrefix,h=s.disableStream,p=s.isDriveSDK,v=s.authExtra,g=s.appId,m=s.extra,y=s.mountPoint,b=!0===window.isDev,_=p?"/space/api/box/stream/sdk/download/preview/":"/space/api/box/stream/download/preview/",w=p?"?preview_type=".concat(l,"&app_id=").concat(g,"&auth_extra=").concat(encodeURIComponent(v),"&app_file_id=").concat(c):"".concat(c,"?preview_type=").concat(l,"&version=").concat(f);m&&(w+="&extra=".concat(m)),y&&(w+="&mount_point=".concat(y));var S={cursorToolOnLoad:{value:0,kind:o.VIEWER},defaultUrl:{value:"".concat(b?u:location.origin).concat(_).concat(w),kind:o.VIEWER},defaultZoomValue:{value:"auto",kind:o.VIEWER},disableHistory:{value:!0,kind:o.VIEWER},disableOpenActionDestination:{value:!0,kind:o.VIEWER},disablePageLabels:{value:!0,kind:o.VIEWER},disablePageMode:{value:!1,kind:o.VIEWER},enablePrintAutoRotate:{value:!1,kind:o.VIEWER},enableWebGL:{value:!1,kind:o.VIEWER},eventBusDispatchToDOM:{value:!1,kind:o.VIEWER},externalLinkRel:{value:"noopener noreferrer nofollow",kind:o.VIEWER},externalLinkTarget:{value:2,kind:o.VIEWER},historyUpdateUrl:{value:!1,kind:o.VIEWER},imageResourcesPath:{value:"./images/",kind:o.VIEWER},maxCanvasPixels:{value:i.viewerCompatibilityParams.maxCanvasPixels||16777216,kind:o.VIEWER},pdfBugEnabled:{value:!1,kind:o.VIEWER},renderer:{value:"canvas",kind:o.VIEWER},renderInteractiveForms:{value:!1,kind:o.VIEWER},showPreviousViewOnLoad:{value:!1,kind:o.VIEWER},sidebarViewOnLoad:{value:1,kind:o.VIEWER},scrollModeOnLoad:{value:0,kind:o.VIEWER},spreadModeOnLoad:{value:0,kind:o.VIEWER},textLayerMode:{value:1,kind:o.VIEWER},useOnlyCssZoom:{value:!1,kind:o.VIEWER},cMapPacked:{value:!0,kind:o.API},cMapUrl:{value:b?"../external/bcmaps/":d+"web/cmaps/",kind:o.API},disableAutoFetch:{value:!0,kind:o.API},disableCreateObjectURL:{value:r.apiCompatibilityParams.disableCreateObjectURL||!1,kind:o.API},disableFontFace:{value:!1,kind:o.API},disableRange:{value:!1,kind:o.API},disableStream:{value:Boolean(h),kind:o.API},isEvalSupported:{value:!0,kind:o.API},maxImageSize:{value:-1,kind:o.API},pdfBug:{value:!1,kind:o.API},postMessageTransfers:{value:!0,kind:o.API},verbosity:{value:1,kind:o.API},workerPort:{value:null,kind:o.WORKER},workerSrc:{value:b?"../src/worker_loader.js":d+"lib/pdf.worker.js",kind:o.WORKER}};S.disablePreferences={value:!0,kind:o.VIEWER},S.locale={value:"undefined"!=typeof navigator?navigator.language:"en-US",kind:o.VIEWER};var A=Object.create(null),C=function(){function e(){throw function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),new Error("Cannot initialize AppOptions.")}var t,n,r;return t=e,r=[{key:"get",value:function(e){var t=S[e],n=A[e];return void 0!==n?n:void 0!==t?t.value:void 0}},{key:"getAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object.create(null);for(var n in S){var r=S[n],i=A[n];e&&r.kind!==e||(t[n]=void 0!==i?i:r.value)}return t}},{key:"set",value:function(e,t){A[e]=t}},{key:"remove",value:function(e){delete A[e]}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();t.AppOptions=C},function(e,t,n){"use strict";var r=Object.create(null),i="undefined"!=typeof navigator&&navigator.userAgent||"",a=/(Android|OpenHarmony)/.test(i);(/\b(iPad|iPhone|iPod)(?=;)/.test(i)||a)&&(r.maxCanvasPixels=5242880),t.viewerCompatibilityParams=Object.freeze(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OverlayManager=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r};function a(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)}))}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._overlays={},this._active=null,this._keyDownBound=this._keyDown.bind(this)}var t,n,r,a,u,c,l;return t=e,(n=[{key:"register",value:(l=o(i.default.mark((function e(t,n){var r,a,o,s=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:null,a=s.length>3&&void 0!==s[3]&&s[3],t&&n&&(o=n.parentNode)){e.next=6;break}throw new Error("Not enough parameters.");case 6:if(!this._overlays[t]){e.next=8;break}throw new Error("The overlay is already registered.");case 8:this._overlays[t]={element:n,container:o,callerCloseMethod:r,canForceClose:a};case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"unregister",value:(c=o(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._overlays[t]){e.next=4;break}throw new Error("The overlay does not exist.");case 4:if(this._active!==t){e.next=6;break}throw new Error("The overlay cannot be removed while it is active.");case 6:delete this._overlays[t];case 7:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"open",value:(u=o(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._overlays[t]){e.next=4;break}throw new Error("The overlay does not exist.");case 4:if(!this._active){e.next=14;break}if(!this._overlays[t].canForceClose){e.next=9;break}this._closeThroughCaller(),e.next=14;break;case 9:if(this._active!==t){e.next=13;break}throw new Error("The overlay is already active.");case 13:throw new Error("Another overlay is currently active.");case 14:this._active=t,this._overlays[this._active].element.classList.remove("hidden"),this._overlays[this._active].container.classList.remove("hidden"),window.addEventListener("keydown",this._keyDownBound);case 18:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"close",value:(a=o(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._overlays[t]){e.next=4;break}throw new Error("The overlay does not exist.");case 4:if(this._active){e.next=8;break}throw new Error("The overlay is currently not active.");case 8:if(this._active===t){e.next=10;break}throw new Error("Another overlay is currently active.");case 10:this._overlays[this._active].container.classList.add("hidden"),this._overlays[this._active].element.classList.add("hidden"),this._active=null,window.removeEventListener("keydown",this._keyDownBound);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"_keyDown",value:function(e){this._active&&27===e.keyCode&&(this._closeThroughCaller(),e.preventDefault())}},{key:"_closeThroughCaller",value:function(){this._overlays[this._active].callerCloseMethod&&this._overlays[this._active].callerCloseMethod(),this._active&&this.close(this._active)}},{key:"active",get:function(){return this._active}}])&&s(t.prototype,n),r&&s(t,r),e}();t.OverlayManager=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFAttachmentViewer=void 0;var r=n(6);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){var n=t.container,r=t.eventBus,i=t.downloadManager;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=n,this.eventBus=r,this.downloadManager=i,this.reset(),this.eventBus.on("fileattachmentannotation",this._appendAttachment.bind(this))}var t,n,a;return t=e,(n=[{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.attachments=null,this.container.textContent="",e||(this._renderedCapability=(0,r.createPromiseCapability)())}},{key:"_dispatchEvent",value:function(e){this._renderedCapability.resolve(),this.eventBus.dispatch("attachmentsloaded",{source:this,attachmentsCount:e})}},{key:"_bindPdfLink",value:function(e,t,n){if(this.downloadManager.disableCreateObjectURL)throw new Error('bindPdfLink: Unsupported "disableCreateObjectURL" value.');var i;e.onclick=function(){var e;return i||(i=(0,r.createObjectURL)(t,"application/pdf")),e="?file="+encodeURIComponent(i+"#"+n),window.open(e),!1}}},{key:"_bindLink",value:function(e,t,n){var r=this;e.onclick=function(){return r.downloadManager.downloadData(t,n,""),!1}}},{key:"render",value:function(e){var t=e.attachments,n=e.keepRenderedCapability,i=void 0!==n&&n,a=0;if(this.attachments&&this.reset(!0===i),this.attachments=t||null,t){var o=Object.keys(t).sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}));a=o.length;for(var s=0;s<a;s++){var u=t[o[s]],c=(0,r.removeNullCharacters)((0,r.getFilenameFromUrl)(u.filename)),l=document.createElement("div");l.className="attachmentsItem";var f=document.createElement("button");f.textContent=c,/\.pdf$/i.test(c)&&!this.downloadManager.disableCreateObjectURL?this._bindPdfLink(f,u.content,c):this._bindLink(f,u.content,c),l.appendChild(f),this.container.appendChild(l)}this._dispatchEvent(a)}else this._dispatchEvent(a)}},{key:"_appendAttachment",value:function(e){var t=this,n=e.id,r=e.filename,i=e.content;this._renderedCapability.promise.then((function(){var e=t.attachments;if(e){for(var a in e)if(n===a)return}else e=Object.create(null);e[n]={filename:r,content:i},t.render({attachments:e,keepRenderedCapability:!0})}))}}])&&i(t.prototype,n),a&&i(t,a),e}();t.PDFAttachmentViewer=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFCursorTools=t.CursorTool=void 0;var r=n(16);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a={SELECT:0,HAND:1,ZOOM:2};t.CursorTool=a;var o=function(){function e(t){var n=this,i=t.container,o=t.eventBus,s=t.cursorToolOnLoad,u=void 0===s?a.SELECT:s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=i,this.eventBus=o,this.active=a.SELECT,this.activeBeforePresentationMode=null,this.handTool=new r.GrabToPan({element:this.container}),this._addEventListeners(),Promise.resolve().then((function(){n.switchTool(u)}))}var t,n,o;return t=e,(n=[{key:"switchTool",value:function(e){var t=this;if(null===this.activeBeforePresentationMode&&e!==this.active){var n=function(){switch(t.active){case a.SELECT:break;case a.HAND:t.handTool.deactivate()}};switch(e){case a.SELECT:n();break;case a.HAND:n(),this.handTool.activate();break;case a.ZOOM:default:return void console.error('switchTool: "'.concat(e,'" is an unsupported value.'))}this.active=e,this._dispatchEvent()}}},{key:"_dispatchEvent",value:function(){this.eventBus.dispatch("cursortoolchanged",{source:this,tool:this.active})}},{key:"_addEventListeners",value:function(){var e=this;this.eventBus.on("switchcursortool",(function(t){e.switchTool(t.tool)}))}},{key:"activeTool",get:function(){return this.active}}])&&i(t.prototype,n),o&&i(t,o),e}();t.PDFCursorTools=o},function(e,t,n){"use strict";function r(e){this.element=e.element,this.document=e.element.ownerDocument,"function"==typeof e.ignoreTarget&&(this.ignoreTarget=e.ignoreTarget),this.onActiveChanged=e.onActiveChanged,this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.toggle=this.toggle.bind(this),this._onmousedown=this._onmousedown.bind(this),this._onmousemove=this._onmousemove.bind(this),this._endPan=this._endPan.bind(this),(this.overlay=document.createElement("div")).className="grab-to-pan-grabbing"}var i;Object.defineProperty(t,"__esModule",{value:!0}),t.GrabToPan=r,r.prototype={CSS_CLASS_GRAB:"grab-to-pan-grab",activate:function(){this.active||(this.active=!0,this.element.addEventListener("mousedown",this._onmousedown,!0),this.element.classList.add(this.CSS_CLASS_GRAB),this.onActiveChanged&&this.onActiveChanged(!0))},deactivate:function(){this.active&&(this.active=!1,this.element.removeEventListener("mousedown",this._onmousedown,!0),this._endPan(),this.element.classList.remove(this.CSS_CLASS_GRAB),this.onActiveChanged&&this.onActiveChanged(!1))},toggle:function(){this.active?this.deactivate():this.activate()},ignoreTarget:function(e){return e[i]("a[href], a[href] *, input, textarea, button, button *, select, option")},_onmousedown:function(e){if(0===e.button&&!this.ignoreTarget(e.target)){if(e.originalTarget)try{e.originalTarget.tagName}catch(e){return}this.scrollLeftStart=this.element.scrollLeft,this.scrollTopStart=this.element.scrollTop,this.clientXStart=e.clientX,this.clientYStart=e.clientY,this.document.addEventListener("mousemove",this._onmousemove,!0),this.document.addEventListener("mouseup",this._endPan,!0),this.element.addEventListener("scroll",this._endPan,!0),e.preventDefault(),e.stopPropagation();var t=document.activeElement;t&&!t.contains(e.target)&&t.blur()}},_onmousemove:function(e){if(this.element.removeEventListener("scroll",this._endPan,!0),function(e){if("buttons"in e&&a)return!(1&e.buttons);if(s||u)return 0===e.which}(e))this._endPan();else{var t=e.clientX-this.clientXStart,n=e.clientY-this.clientYStart,r=this.scrollTopStart-n,i=this.scrollLeftStart-t;this.element.scrollTo?this.element.scrollTo({top:r,left:i,behavior:"instant"}):(this.element.scrollTop=r,this.element.scrollLeft=i),this.overlay.parentNode||document.body.appendChild(this.overlay)}},_endPan:function(){this.element.removeEventListener("scroll",this._endPan,!0),this.document.removeEventListener("mousemove",this._onmousemove,!0),this.document.removeEventListener("mouseup",this._endPan,!0),this.overlay.remove()}},["webkitM","mozM","msM","oM","m"].some((function(e){var t=e+"atches";return t in document.documentElement&&(i=t),(t+="Selector")in document.documentElement&&(i=t),i}));var a=!document.documentMode||document.documentMode>9,o=window.chrome,s=o&&(o.webstore||o.app),u=/Apple/.test(navigator.vendor)&&/Version\/([6-9]\d*|[1-5]\d+)/.test(navigator.userAgent)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFindController=t.FindState=void 0;var r=n(5),i=n(6),a=n(18);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};t.FindState=s;var u={"‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},c=null;function l(e){if(!c){var t=Object.keys(u).join("");c=new RegExp("[".concat(t,"]"),"g")}return e.replace(c,(function(e){return u[e]}))}var f=function(){function e(t){var n=t.linkService,i=t.eventBus,a=void 0===i?(0,r.getGlobalEventBus)():i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._linkService=n,this._eventBus=a,this._reset(),a.on("findbarclose",this._onFindBarClose.bind(this))}var t,n,u;return t=e,(n=[{key:"setDocument",value:function(e){this._pdfDocument&&this._reset(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(e,t){var n=this;if(t){var r=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(e,t))&&(this._dirtyMatch=!0),this._state=t,"findhighlightallchange"!==e&&this._updateUIState(s.PENDING),this._firstPageCapability.promise.then((function(){if(n._pdfDocument&&(!r||n._pdfDocument===r)){n._extractText();var t=!n._highlightMatches,i=!!n._findTimeout;n._findTimeout&&(clearTimeout(n._findTimeout),n._findTimeout=null),"find"===e?n._findTimeout=setTimeout((function(){n._nextMatch(),n._findTimeout=null}),250):n._dirtyMatch?n._nextMatch():"findagain"===e?(n._nextMatch(),t&&n._state.highlightAll&&n._updateAllPages()):"findhighlightallchange"===e?(i?n._nextMatch():n._highlightMatches=!0,n._updateAllPages()):n._nextMatch()}}))}}},{key:"scrollMatchIntoView",value:function(e){var t=e.element,n=void 0===t?null:t,i=e.pageIndex,a=void 0===i?-1:i,o=e.matchIndex,s=void 0===o?-1:o;if(this._scrollMatches&&n&&-1!==s&&s===this._selected.matchIdx&&-1!==a&&a===this._selected.pageIdx){this._scrollMatches=!1;var u={top:-50,left:-400};(0,r.scrollIntoView)(n,u,!0)}}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,i.createPromiseCapability)()}},{key:"_shouldDirtyMatch",value:function(e,t){if(t.query!==this._state.query)return!0;switch(e){case"findagain":var n=this._selected.pageIdx+1,r=this._linkService;return n>=1&&n<=r.pagesCount&&n!==r.page&&!r.isPageVisible(n);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(e,t,n){function r(e,t){var n=e[t],r=e[t+1];if(t<e.length-1&&n.match===r.match)return n.skipped=!0,!0;for(var i=t-1;i>=0;i--){var a=e[i];if(!a.skipped){if(a.match+a.matchLength<n.match)break;if(a.match+a.matchLength>=n.match+n.matchLength)return n.skipped=!0,!0}}return!1}e.sort((function(e,t){return e.match===t.match?e.matchLength-t.matchLength:e.match-t.match}));for(var i=0,a=e.length;i<a;i++)r(e,i)||(t.push(e[i].match),n.push(e[i].matchLength))}},{key:"_isEntireWord",value:function(e,t,n){if(t>0){var r=e.charCodeAt(t),i=e.charCodeAt(t-1);if((0,a.getCharacterType)(r)===(0,a.getCharacterType)(i))return!1}var o=t+n-1;if(o<e.length-1){var s=e.charCodeAt(o),u=e.charCodeAt(o+1);if((0,a.getCharacterType)(s)===(0,a.getCharacterType)(u))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(e,t,n,r){for(var i=[],a=e.length,o=-a;-1!==(o=n.indexOf(e,o+a));)r&&!this._isEntireWord(n,o,a)||i.push(o);this._pageMatches[t]=i}},{key:"_calculateWordMatch",value:function(e,t,n,r){for(var i=[],a=e.match(/\S+/g),o=0,s=a.length;o<s;o++)for(var u=a[o],c=u.length,l=-c;-1!==(l=n.indexOf(u,l+c));)r&&!this._isEntireWord(n,l,c)||i.push({match:l,matchLength:c,skipped:!1});this._pageMatchesLength[t]=[],this._pageMatches[t]=[],this._prepareMatches(i,this._pageMatches[t],this._pageMatchesLength[t])}},{key:"_calculateMatch",value:function(e){var t=this._pageContents[e],n=this._query,r=this._state,i=r.caseSensitive,a=r.entireWord,o=r.phraseSearch;if(0!==n.length){i||(t=t.toLowerCase(),n=n.toLowerCase()),o?this._calculatePhraseMatch(n,e,t,a):this._calculateWordMatch(n,e,t,a),this._state.highlightAll&&this._updatePage(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this._nextPageMatch());var s=this._pageMatches[e].length;s>0&&(this._matchesCountTotal+=s,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var e=this;if(!(this._extractTextPromises.length>0))for(var t=Promise.resolve(),n=function(n,r){var a=(0,i.createPromiseCapability)();e._extractTextPromises[n]=a.promise,t=t.then((function(){return e._pdfDocument.getPage(n+1).then((function(e){return e.getTextContent({normalizeWhitespace:!0})})).then((function(t){for(var r=t.items,i=[],o=0,s=r.length;o<s;o++)i.push(r[o].str);e._pageContents[n]=l(i.join("")),a.resolve(n)}),(function(t){console.error("Unable to get text content for page ".concat(n+1),t),e._pageContents[n]="",a.resolve(n)}))}))},r=0,a=this._linkService.pagesCount;r<a;r++)n(r)}},{key:"_updatePage",value:function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var e=this,t=this._state.findPrevious,n=this._linkService.page-1,r=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=n,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var i=0;i<r;i++)!0!==this._pendingFindMatches[i]&&(this._pendingFindMatches[i]=!0,this._extractTextPromises[i].then((function(t){delete e._pendingFindMatches[t],e._calculateMatch(t)})))}if(""!==this._query){if(!this._resumePageIdx){var a=this._offset;if(this._pagesToSearch=r,null!==a.matchIdx){var o=this._pageMatches[a.pageIdx].length;if(!t&&a.matchIdx+1<o||t&&a.matchIdx>0)return a.matchIdx=t?a.matchIdx-1:a.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(t)}this._nextPageMatch()}}else this._updateUIState(s.FOUND)}},{key:"_matchesReady",value:function(e){var t=this._offset,n=e.length,r=this._state.findPrevious;return n?(t.matchIdx=r?n-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(r),!!(t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var e=null;do{var t=this._offset.pageIdx;if(!(e=this._pageMatches[t])){this._resumePageIdx=t;break}}while(!this._matchesReady(e))}},{key:"_advanceOffsetPage",value:function(e){var t=this._offset,n=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=n||t.pageIdx<0)&&(t.pageIdx=e?n-1:0,t.wrapped=!0)}},{key:"_updateMatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=s.NOT_FOUND,n=this._offset.wrapped;if(this._offset.wrapped=!1,e){var r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=n?s.WRAPPED:s.FOUND,-1!==r&&r!==this._selected.pageIdx&&this._updatePage(r)}this._updateUIState(t,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(e){var t=this,n=this._pdfDocument;this._firstPageCapability.promise.then((function(){!t._pdfDocument||n&&t._pdfDocument!==n||(t._findTimeout&&(clearTimeout(t._findTimeout),t._findTimeout=null),t._resumePageIdx&&(t._resumePageIdx=null,t._dirtyMatch=!0),t._updateUIState(s.FOUND),t._highlightMatches=!1,t._updateAllPages())}))}},{key:"_requestMatchesCount",value:function(){var e=this._selected,t=e.pageIdx,n=e.matchIdx,r=0,i=this._matchesCountTotal;if(-1!==n){for(var a=0;a<t;a++)r+=this._pageMatches[a]&&this._pageMatches[a].length||0;r+=n+1}return(r<1||r>i)&&(r=i=0),{current:r,total:i}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(e,t){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,matchesCount:this._requestMatchesCount()})}},{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"_query",get:function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,this._normalizedQuery=l(this._state.query)),this._normalizedQuery}}])&&o(t.prototype,n),u&&o(t,u),e}();t.PDFFindController=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCharacterType=function(e){if(function(e){return e<11904}(e))return function(e){return 0==(65408&e)}(e)?function(e){return 32===e||9===e||13===e||10===e}(e)?r.SPACE:function(e){return e>=97&&e<=122||e>=65&&e<=90}(e)||function(e){return e>=48&&e<=57}(e)||95===e?r.ALPHA_LETTER:r.PUNCT:function(e){return 3584==(65408&e)}(e)?r.THAI_LETTER:160===e?r.SPACE:r.ALPHA_LETTER;if(function(e){return e>=13312&&e<=40959||e>=63744&&e<=64255}(e))return r.HAN_LETTER;if(function(e){return e>=12448&&e<=12543}(e))return r.KATAKANA_LETTER;if(function(e){return e>=12352&&e<=12447}(e))return r.HIRAGANA_LETTER;if(function(e){return e>=65376&&e<=65439}(e))return r.HALFWIDTH_KATAKANA_LETTER;return r.ALPHA_LETTER},t.CharacterType=void 0;var r={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};t.CharacterType=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLinkService=t.PDFLinkService=void 0;var r=n(5);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.eventBus,i=t.externalLinkTarget,o=void 0===i?null:i,s=t.externalLinkRel,u=void 0===s?null:s;a(this,e),this.eventBus=n||(0,r.getGlobalEventBus)(),this.externalLinkTarget=o,this.externalLinkRel=u,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}return s(e,[{key:"setDocument",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=t,this.pdfDocument=e,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"navigateTo",value:function(e){var t=this;new Promise((function(n,r){"string"!=typeof e?n({namedDest:"",explicitDest:e}):t.pdfDocument.getDestination(e).then((function(t){n({namedDest:e,explicitDest:t})}))})).then((function(n){Array.isArray(n.explicitDest)?function n(r){var i,a=r.namedDest,o=r.explicitDest,s=o[0];if(s instanceof Object){if(null===(i=t._cachedPageNumber(s)))return void t.pdfDocument.getPageIndex(s).then((function(e){t.cachePageRef(e+1,s),n({namedDest:a,explicitDest:o})})).catch((function(){console.error('PDFLinkService.navigateTo: "'.concat(s,'" is not ')+'a valid page reference, for dest="'.concat(e,'".'))}))}else{if(!Number.isInteger(s))return void console.error('PDFLinkService.navigateTo: "'.concat(s,'" is not ')+'a valid destination reference, for dest="'.concat(e,'".'));i=s+1}!i||i<1||i>t.pagesCount?console.error('PDFLinkService.navigateTo: "'.concat(i,'" is not ')+'a valid page number, for dest="'.concat(e,'".')):t.pdfViewer.scrollPageIntoView({pageNumber:i,destArray:o})}(n):console.error('PDFLinkService.navigateTo: "'.concat(n.explicitDest,'" is')+' not a valid destination array, for dest="'.concat(e,'".'))}))}},{key:"getDestinationHash",value:function(e){if("string"==typeof e)return this.getAnchorUrl("#"+escape(e));if(Array.isArray(e)){var t=JSON.stringify(e);return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(e){return(this.baseUrl||"")+e}},{key:"setHash",value:function(e){var t,n;if(e.includes("=")){var a=(0,r.parseQueryString)(e);if("search"in a&&this.eventBus.dispatch("findfromurlhash",{source:this,query:a.search.replace(/"/g,""),phraseSearch:"true"===a.phrase}),"nameddest"in a)return void this.navigateTo(a.nameddest);if("page"in a&&(t=0|a.page||1),"zoom"in a){var o=a.zoom.split(","),s=o[0],u=parseFloat(s);s.includes("Fit")?"Fit"===s||"FitB"===s?n=[null,{name:s}]:"FitH"===s||"FitBH"===s||"FitV"===s||"FitBV"===s?n=[null,{name:s},o.length>1?0|o[1]:null]:"FitR"===s?5!==o.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:s},0|o[1],0|o[2],0|o[3],0|o[4]]:console.error('PDFLinkService.setHash: "'.concat(s,'" is not ')+"a valid zoom value."):n=[null,{name:"XYZ"},o.length>1?0|o[1]:null,o.length>2?0|o[2]:null,u?u/100:s]}n?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:n,allowNegativeOffset:!0}):t&&(this.page=t),"pagemode"in a&&this.eventBus.dispatch("pagemode",{source:this,mode:a.pagemode})}else{n=unescape(e);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch(e){}if("string"==typeof n||function(e){if(!Array.isArray(e))return!1;var t=e.length,n=!0;if(t<2)return!1;var r=e[0];if(!("object"===i(r)&&Number.isInteger(r.num)&&Number.isInteger(r.gen)||Number.isInteger(r)&&r>=0))return!1;var a=e[1];if("object"!==i(a)||"string"!=typeof a.name)return!1;switch(a.name){case"XYZ":if(5!==t)return!1;break;case"Fit":case"FitB":return 2===t;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==t)return!1;break;case"FitR":if(6!==t)return!1;n=!1;break;default:return!1}for(var o=2;o<t;o++){var s=e[o];if(!("number"==typeof s||n&&null===s))return!1}return!0}(n))return void this.navigateTo(n);console.error('PDFLinkService.setHash: "'.concat(unescape(e),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(e){switch(e){case"GoBack":case"GoForward":break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":this.page>1&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}}},{key:"cachePageRef",value:function(e,t){if(t){var n=t.num+" "+t.gen+" R";this._pagesRefCache[n]=e}}},{key:"_cachedPageNumber",value:function(e){var t=e.num+" "+e.gen+" R";return this._pagesRefCache&&this._pagesRefCache[t]||null}},{key:"isPageVisible",value:function(e){return this.pdfViewer.isPageVisible(e)}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(e){this.pdfViewer.currentPageNumber=e}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(e){this.pdfViewer.pagesRotation=e}}]),e}();t.PDFLinkService=u;var c=function(){function e(){a(this,e),this.externalLinkTarget=null,this.externalLinkRel=null}return s(e,[{key:"navigateTo",value:function(e){}},{key:"getDestinationHash",value:function(e){return"#"}},{key:"getAnchorUrl",value:function(e){return"#"}},{key:"setHash",value:function(e){}},{key:"executeNamedAction",value:function(e){}},{key:"cachePageRef",value:function(e,t){}},{key:"isPageVisible",value:function(e){return!0}},{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(e){}},{key:"rotation",get:function(){return 0},set:function(e){}}]),e}();t.SimpleLinkService=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFOutlineViewer=void 0;var r=n(6);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){var n=t.container,r=t.linkService,i=t.eventBus;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=n,this.linkService=r,this.eventBus=i,this.reset(),i.on("toggleoutlinetree",this.toggleOutlineTree.bind(this))}var t,n,a;return t=e,(n=[{key:"reset",value:function(){this.outline=null,this.lastToggleIsShow=!0,this.container.textContent="",this.container.classList.remove("outlineWithDeepNesting")}},{key:"_dispatchEvent",value:function(e){this.eventBus.dispatch("outlineloaded",{source:this,outlineCount:e})}},{key:"_bindLink",value:function(e,t){var n=t.url,i=t.newWindow,a=t.dest,o=this.linkService;n?(0,r.addLinkAttributes)(e,{url:n,target:i?r.LinkTarget.BLANK:o.externalLinkTarget,rel:o.externalLinkRel}):(e.href=o.getDestinationHash(a),e.onclick=function(){return a&&o.navigateTo(a),!1})}},{key:"_setStyles",value:function(e,t){var n="";t.bold&&(n+="font-weight: bold;"),t.italic&&(n+="font-style: italic;"),n&&e.setAttribute("style",n)}},{key:"_addToggleButton",value:function(e){var t=this,n=document.createElement("div");n.className="outlineItemToggler",n.onclick=function(r){if(r.stopPropagation(),n.classList.toggle("outlineItemsHidden"),r.shiftKey){var i=!n.classList.contains("outlineItemsHidden");t._toggleOutlineItem(e,i)}},e.insertBefore(n,e.firstChild)}},{key:"_toggleOutlineItem",value:function(e,t){this.lastToggleIsShow=t;for(var n=e.querySelectorAll(".outlineItemToggler"),r=0,i=n.length;r<i;++r)n[r].classList[t?"remove":"add"]("outlineItemsHidden")}},{key:"toggleOutlineTree",value:function(){this.outline&&this._toggleOutlineItem(this.container,!this.lastToggleIsShow)}},{key:"render",value:function(e){var t=e.outline,n=0;if(this.outline&&this.reset(),this.outline=t||null,t){for(var i=document.createDocumentFragment(),a=[{parent:i,items:this.outline}],o=!1;a.length>0;)for(var s=a.shift(),u=0,c=s.items.length;u<c;u++){var l=s.items[u],f=document.createElement("div");f.className="outlineItem";var d=document.createElement("a");if(this._bindLink(d,l),this._setStyles(d,l),d.textContent=(0,r.removeNullCharacters)(l.title)||"–",f.appendChild(d),l.items.length>0){o=!0,this._addToggleButton(f);var h=document.createElement("div");h.className="outlineItems",f.appendChild(h),a.push({parent:h,items:l.items})}s.parent.appendChild(f),n++}o&&this.container.classList.add("outlineWithDeepNesting"),this.container.appendChild(i),this._dispatchEvent(n)}else this._dispatchEvent(n)}}])&&i(t.prototype,n),a&&i(t,a),e}();t.PDFOutlineViewer=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFThumbnailViewer=void 0;var r=n(5),i=n(22),a=n(9);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){var n=t.container,i=t.linkService,a=t.renderingQueue,o=t.eventBus;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=n,this.linkService=i,this.renderingQueue=a,this.eventBus=o,this.isDown=!0,this.firstId=1,this.lastId=1,this.eventBus.on("sidebarscroll",this._scrollUpdatedByOutside.bind(this)),this.scroll=(0,r.watchScroll)(this.container,this._scrollUpdated.bind(this)),this._resetView()}var t,n,s;return t=e,(n=[{key:"_scrollUpdatedByOutside",value:function(e){var t=e.isDown,n=e.firstId,r=e.lastId;this.isDown=t,this.firstId=n,this.lastId=r,this.renderingQueue.renderHighestPriorityMock()}},{key:"_scrollUpdated",value:function(){this.renderingQueue.renderHighestPriority()}},{key:"getThumbnail",value:function(e){return this._thumbnails[e]}},{key:"_getVisibleThumbs",value:function(){return(0,r.getVisibleElements)(this.container,this._thumbnails)}},{key:"scrollThumbnailIntoView",value:function(e){if(this.pdfDocument){var t=this._thumbnails[e-1];if(t){e!==this._currentPageNumber&&(this._thumbnails[this._currentPageNumber-1].div.classList.remove("selected"),t.div.classList.add("selected"));var n=this._getVisibleThumbs(),i=n.views.length;if(i>0){var a=n.first.id,o=i>1?n.last.id:a,s=!1;e<=a||e>=o?s=!0:n.views.some((function(t){return t.id===e&&(s=t.percent<100,!0)})),s&&(0,r.scrollIntoView)(t.div,{top:-19})}this._currentPageNumber=e}else console.error('scrollThumbnailIntoView: Invalid "pageNumber" parameter.')}}},{key:"cleanup",value:function(){i.PDFThumbnailView.cleanup()}},{key:"_resetView",value:function(){this._thumbnails=[],this._currentPageNumber=1,this._pageLabels=null,this._pagesRotation=0,this._pagesRequests=[],this.container.textContent=""}},{key:"setDocument",value:function(e){var t=this;this.pdfDocument&&(this._cancelRendering(),this._resetView()),this.pdfDocument=e,e&&e.getPage(1).then((function(n){var r=e.numPages,o=n.getViewport({scale:1}),s=138/(o.width/o.height)|0;(0,a.sendMessage)(a.IFRAME_EVENT.THUMBNAIL_HEIGHT,s);for(var u=1;u<=r;++u){var c=new i.PDFThumbnailView({container:t.container,id:u,defaultViewport:o.clone(),linkService:t.linkService,renderingQueue:t.renderingQueue,disableCanvasToImageConversion:!1});t._thumbnails.push(c)}t._thumbnails[t._currentPageNumber-1].div.classList.add("selected")})).catch((function(e){console.error("Unable to initialize thumbnail viewer",e)}))}},{key:"_cancelRendering",value:function(){for(var e=0,t=this._thumbnails.length;e<t;e++)this._thumbnails[e]&&this._thumbnails[e].cancelRendering()}},{key:"setPageLabels",value:function(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("PDFThumbnailViewer_setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var t=0,n=this._thumbnails.length;t<n;t++){var r=this._pageLabels&&this._pageLabels[t];this._thumbnails[t].setPageLabel(r)}}}},{key:"_ensurePdfPageLoaded",value:function(e){var t=this;if(e.pdfPage)return Promise.resolve(e.pdfPage);var n=e.id;if(this._pagesRequests[n])return this._pagesRequests[n];var r=this.pdfDocument.getPage(n).then((function(r){return e.setPdfPage(r),t._pagesRequests[n]=null,r})).catch((function(e){console.error("Unable to get page for thumb view",e),t._pagesRequests[n]=null}));return this._pagesRequests[n]=r,r}},{key:"forceRendering",value:function(){var e=this,t=this._getVisibleThumbs(),n=this.renderingQueue.getHighestPriority(t,this._thumbnails,this.scroll.down);return!!n&&(this._ensurePdfPageLoaded(n).then((function(){e.renderingQueue.renderView(n)})),!0)}},{key:"forceRenderingMock",value:function(){var e=this,t={first:{id:this.firstId,view:this._thumbnails[this.firstId-1]},last:{id:this.lastId,view:this._thumbnails[this.lastId-1]},views:this._thumbnails.slice(this.firstId-1,this.lastId)},n=this.renderingQueue.getHighestPriority(t,this._thumbnails,this.isDown);return!!n&&(this._ensurePdfPageLoaded(n).then((function(){e.renderingQueue.renderViewMock(n)})),!0)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(e){if(!(0,r.isValidRotation)(e))throw new Error("Invalid thumbnails rotation angle.");if(this.pdfDocument&&this._pagesRotation!==e){this._pagesRotation=e;for(var t=0,n=this._thumbnails.length;t<n;t++)this._thumbnails[t].update(e)}}}])&&o(t.prototype,n),s&&o(t,s),e}();t.PDFThumbnailViewer=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFThumbnailView=void 0;var r=n(6),i=n(5),a=n(8),o=n(9);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l,f=navigator.userAgent||"",d=/QQBrowser/i.test(f),h=(l=null,{getCanvas:function(e,t){var n=l;n||(n=document.createElement("canvas"),l=n),n.width=e,n.height=t,n.mozOpaque=!0;var r=n.getContext("2d",{alpha:!1});return r.save(),r.fillStyle="rgb(255, 255, 255)",r.fillRect(0,0,e,t),r.restore(),n},destroyCanvas:function(){var e=l;e&&(e.width=0,e.height=0),l=null}}),p=function(){function e(t){var n=t.container,r=t.id,i=t.defaultViewport,o=t.linkService,s=t.renderingQueue,u=t.disableCanvasToImageConversion,c=void 0!==u&&u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=r,this.renderingId="thumbnail"+r,this.pageLabel=null,this.pdfPage=null,this.rotation=0,this.viewport=i,this.pdfPageRotate=i.rotation,this.linkService=o,this.renderingQueue=s,this.renderTask=null,this.renderingState=a.RenderingStates.INITIAL,this.resume=null,this.disableCanvasToImageConversion=c,this.pageWidth=this.viewport.width,this.pageHeight=this.viewport.height,this.pageRatio=this.pageWidth/this.pageHeight,this.canvasWidth=138,this.canvasHeight=this.canvasWidth/this.pageRatio|0,this.hasSendHeight=!1,this.scale=this.canvasWidth/this.pageWidth;var l=document.createElement("a");l.href=o.getAnchorUrl("#page="+r),l.onclick=function(){return o.page=r,!1},this.anchor=l;var f=document.createElement("div");f.className="thumbnail",f.setAttribute("data-page-number",this.id),this.div=f;var d=document.createElement("div");d.className="thumbnailSelectionRing";d.style.width=this.canvasWidth+2+"px",d.style.height=this.canvasHeight+2+"px",this.ring=d,f.appendChild(d),l.appendChild(f),n.appendChild(l)}var t,n,u;return t=e,u=[{key:"cleanup",value:function(){h.destroyCanvas()}}],(n=[{key:"setPdfPage",value:function(e){this.pdfPage=e,this.pdfPageRotate=e.rotate;var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:1,rotation:t}),this.reset()}},{key:"reset",value:function(){this.cancelRendering(),this.pageWidth=this.viewport.width,this.pageHeight=this.viewport.height,this.pageRatio=this.pageWidth/this.pageHeight,this.canvasHeight=this.canvasWidth/this.pageRatio|0,this.scale=this.canvasWidth/this.pageWidth,this.div.removeAttribute("data-loaded");for(var e=this.ring,t=e.childNodes,n=t.length-1;n>=0;n--)e.removeChild(t[n]);e.style.width=this.canvasWidth+2+"px",e.style.height=this.canvasHeight+2+"px",this.canvas&&(this.canvas.width=0,this.canvas.height=0,delete this.canvas),this.image&&(this.image.removeAttribute("src"),delete this.image)}},{key:"update",value:function(e){void 0!==e&&(this.rotation=e);var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:1,rotation:t}),this.reset()}},{key:"cancelRendering",value:function(){this.renderTask&&(this.renderTask.cancel(),this.renderTask=null),this.renderingState=a.RenderingStates.INITIAL,this.resume=null}},{key:"_getPageDrawContext",value:function(){var e=document.createElement("canvas");this.canvas=e,e.mozOpaque=!0;var t=e.getContext("2d",{alpha:d}),n=(0,i.getOutputScale)(t);return e.width=this.canvasWidth*n.sx|0,e.height=this.canvasHeight*n.sy|0,e.style.width=this.canvasWidth+"px",e.style.height=this.canvasHeight+"px",[t,n.scaled?[n.sx,0,0,n.sy,0,0]:null]}},{key:"_convertCanvasToImage",value:function(){if(this.canvas&&this.renderingState===a.RenderingStates.FINISHED){var e=this.renderingId;if(this.disableCanvasToImageConversion)return this.canvas.id=e,this.canvas.className="thumbnailImage",this.div.setAttribute("data-loaded",!0),void this.ring.appendChild(this.canvas);var t=document.createElement("img");t.id=e,t.className="thumbnailImage",t.style.width=this.canvasWidth+"px",t.style.height=this.canvasHeight+"px",t.src=d?this.canvas.toDataURL():this.canvas.toDataURL("image/png"),(0,o.sendMessage)(o.IFRAME_EVENT.THUMBNAIL,{id:this.id,src:t.src}),this.div.setAttribute("data-loaded",!0),this.canvas.width=0,this.canvas.height=0,delete this.canvas}}},{key:"draw",value:function(){var e=this;if(this.renderingState!==a.RenderingStates.INITIAL)return console.error("Must be in new state before drawing"),Promise.resolve(void 0);this.renderingState=a.RenderingStates.RUNNING;var t=(0,r.createPromiseCapability)(),n=function(n){u===e.renderTask&&(e.renderTask=null),n instanceof r.RenderingCancelledException?t.resolve(void 0):(e.renderingState=a.RenderingStates.FINISHED,e._convertCanvasToImage(),n?t.reject(n):t.resolve(void 0))},i=s(this._getPageDrawContext(),2),o={canvasContext:i[0],transform:i[1],viewport:this.viewport.clone({scale:this.scale})},u=this.renderTask=this.pdfPage.render(o);return u.onContinue=function(t){if(!e.renderingQueue.isHighestPriority(e))return e.renderingState=a.RenderingStates.PAUSED,void(e.resume=function(){e.renderingState=a.RenderingStates.RUNNING,t()});t()},u.promise.then((function(){n(null)}),(function(e){n(e)})),t.promise}},{key:"setImage",value:function(e){if(this.renderingState===a.RenderingStates.INITIAL){var t=e.canvas;if(t){this.pdfPage||this.setPdfPage(e.pdfPage),this.renderingState=a.RenderingStates.FINISHED;var n=s(this._getPageDrawContext(),1)[0],r=n.canvas;if(t.width<=2*r.width)return n.drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),void this._convertCanvasToImage();for(var i=r.width<<3,o=r.height<<3,u=h.getCanvas(i,o),c=u.getContext("2d");i>t.width||o>t.height;)i>>=1,o>>=1;for(c.drawImage(t,0,0,t.width,t.height,0,0,i,o);i>2*r.width;)c.drawImage(u,0,0,i,o,0,0,i>>1,o>>1),i>>=1,o>>=1;n.drawImage(u,0,0,i,o,0,0,r.width,r.height),this._convertCanvasToImage()}}}},{key:"setPageLabel",value:function(e){this.pageLabel="string"==typeof e?e:null,this.renderingState,a.RenderingStates.FINISHED}},{key:"pageId",get:function(){return null!==this.pageLabel?this.pageLabel:this.id}}])&&c(t.prototype,n),u&&c(t,u),e}();t.PDFThumbnailView=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFViewer=void 0;var r=n(24),i=n(5),a=n(6),o=n(44),s=n(9);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(p,e);var t,n,u,h=d(p);function p(){return c(this,p),h.apply(this,arguments)}return t=p,(n=[{key:"_scrollIntoView",value:function(e){var t=e.pageDiv,n=e.pageSpot,a=void 0===n?null:n;if(!a&&!this.isInPresentationMode){var o=t.offsetLeft+t.clientLeft,s=o+t.clientWidth,u=this.container,c=u.scrollLeft,l=u.clientWidth;(this._scrollMode===r.ScrollMode.HORIZONTAL||o<c||s>c+l)&&(a={left:0,top:0})}(0,i.scrollIntoView)(t,a)}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():(0,i.getVisibleElements)(this.container,this._pages,!0,this._scrollMode===r.ScrollMode.HORIZONTAL)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._getVisiblePages(),n=t.views,r=n.length;if(0!==r){this._resizeBuffer(r,n),this.renderingQueue.renderHighestPriority(t);for(var i=this._currentPageNumber,a=!1,u=0;u<r;++u){var c=n[u];if(c.percent<100)break;if(c.id===i){a=!0;break}}a||(i=n[0].id),this.isInPresentationMode||(this._setCurrentPageNumber(i),(0,s.sendMessage)(s.IFRAME_EVENT.PAGE_SCROLL_POSITION,{firstPage:t.first.id,isFull:1===r,firstPagePercent:t.first.percent,page:i})),this._updateLocation(t.first),e?o.postFollowStateByThrottle.bind(this)():o.postFollowState.bind(this)()}}},{key:"_setDocumentViewerElement",get:function(){return(0,a.shadow)(this,"_setDocumentViewerElement",this.viewer)}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===r.ScrollMode.HORIZONTAL}}])&&l(t.prototype,n),u&&l(t,u),p}(r.BaseViewer);t.PDFViewer=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpreadMode=t.ScrollMode=t.BaseViewer=void 0;var r,i=(r=n(25))&&r.__esModule?r:{default:r},a=n(26),o=n(6),s=n(5),u=n(8),c=n(28),l=n(29),f=n(19),d=n(43),h=n(9),p=n(44),v=n(45);function g(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b={VERTICAL:0,HORIZONTAL:1,WRAPPED:2};t.ScrollMode=b;var _={NONE:0,ODD:1,EVEN:2};function w(e){var t=[];this.push=function(n){var r=t.indexOf(n);r>=0&&t.splice(r,1),t.push(n),t.length>e&&t.shift().destroy()},this.resize=function(n,r){if(e=n,r){for(var i=new Set,a=0,o=r.length;a<o;++a)i.add(r[a].id);(0,s.moveToEndOfArray)(t,(function(e){return i.has(e.id)}))}for(;t.length>e;)t.shift().destroy()}}function S(e,t){return t===e||Math.abs(t-e)<1e-15}t.SpreadMode=_;var A=function(){function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.constructor===e)throw new Error("Cannot initialize BaseViewer.");this._name=this.constructor.name,this.container=t.container,this.viewer=t.viewer||t.container.firstElementChild,this.eventBus=t.eventBus||(0,s.getGlobalEventBus)(),this.linkService=t.linkService||new f.SimpleLinkService,this.downloadManager=t.downloadManager||null,this.findController=t.findController||null,this.firstPageViewport={width:595.25,height:842,rotation:0},this.removePageBorders=!0,this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:s.TextLayerMode.ENABLE,this.imageResourcesPath=t.imageResourcesPath||"",this.renderInteractiveForms=t.renderInteractiveForms||!1,this.enablePrintAutoRotate=t.enablePrintAutoRotate||!1,this.renderer=t.renderer||s.RendererType.CANVAS,this.enableWebGL=t.enableWebGL||!1,this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels,this.defaultRenderingQueue=!t.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new u.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=t.renderingQueue,this.scroll=(0,s.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=s.PresentationModeState.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),(0,h.isEdge)()&&this.viewer.classList.add("is-edge"),this.currentSelectedText="",this.createRectStartOffsetPosition=null;var r=[{id:h.GLOBAL_CONSTANT.copyButtonId,type:h.POPUP_TYPE.COPY,iconHTML:h.COPY_SVG,clickHandle:this.execCopy.bind(this)},{id:h.GLOBAL_CONSTANT.commentButtonId,type:h.POPUP_TYPE.COMMENT,iconHTML:h.COMMENT_SVG,clickHandle:this.onTextCommentButtonClick.bind(this)}],i=this.drawTextPopupButton(r);this.textPopupElement=i,this.toggleTextCommentButtonVisible(),this.toggleCopyButtonVisible(),this.listenEvents(),this._bindEvents(),Promise.resolve().then((function(){n.eventBus.dispatch("baseviewerinit",{source:n})}))}var t,n,r;return t=e,(n=[{key:"listenEvents",value:function(){this.eventBus.on("initComments",this.initComments.bind(this)),this.eventBus.on("addComment",this.addComment.bind(this)),this.eventBus.on("deleteComment",this.deleteComment.bind(this)),this.eventBus.on("activateComment",this.activateComment.bind(this)),this.eventBus.on("deactivateComment",this.deactivateComment.bind(this)),this.eventBus.on("toggleCanCreateTextComment",this.toggleTextCommentButtonVisible.bind(this)),this.eventBus.on("toggleCopyable",this.toggleCopyButtonVisible.bind(this)),this.eventBus.on("initPdfPrompts",this.initPdfPrompts.bind(this)),p.handleReceiveFollowState.bind(this)()}},{key:"initPdfPrompts",value:function(e){if(e&&e.isPdfPromptInited){window.initialData.isPdfPromptInited=e.isPdfPromptInited,window.initialData.suggestPrompts=e.suggestPrompts,this.viewer.removeChild(this.textPopupElement);var t=[{id:h.GLOBAL_CONSTANT.copyButtonId,type:h.POPUP_TYPE.COPY,iconHTML:h.COPY_SVG,clickHandle:this.execCopy.bind(this)},{id:h.GLOBAL_CONSTANT.commentButtonId,type:h.POPUP_TYPE.COMMENT,iconHTML:h.COMMENT_SVG,clickHandle:this.onTextCommentButtonClick.bind(this)}],n=this.drawTextPopupButton(t);this.textPopupElement=n,this.toggleTextCommentButtonVisible(),this.toggleCopyButtonVisible()}}},{key:"initComments",value:function(e){var t=this;if(e&&e.comments){var n=Object.create(null);e.comments.forEach((function(e){var t=e.position.page;n[t]?n[t].push(e):n[t]=[e]})),Object.keys(n).forEach((function(e){var r=t.getPageView(e);r&&r.setInitialComments(n[e])}))}}},{key:"addComment",value:function(e){if(e&&e.comment){var t=e.comment,n=t.commentId,r=t.position;if(n&&r){var i=this.getPageView(r.page);i&&i.addComment(e.comment)}}}},{key:"deleteComment",value:function(e){if(e&&e.comment){var t=e.comment,n=t.commentId,r=t.position;if(n&&r){var i=this.getPageView(r.page);i&&i.deleteComment(e.comment),0===this.getAllTempCommentList().length&&this.toggleEditMode(!1)}}}},{key:"getAllTempCommentList",value:function(){return this._pages.reduce((function(e,t){return e.push.apply(e,g(t.tempComments)),e}),[])}},{key:"isTempComment",value:function(e){var t=this.getAllTempCommentList().find((function(t){return t.commentId===e}));return Boolean(t)}},{key:"activateComment",value:function(e){if(e&&e.comment){var t=e.comment,n=t.commentId,r=t.position,i=t.type;this.deactivateComment(),h.GLOBAL_STATE.activeCommentId=n;var a=r.page+1,o=this.getPageView(a-1);if(o&&o.div){if(h.GLOBAL_STATE.isCommentMode){var u=[];if((u=this.isTempComment(n)?o.div.querySelectorAll('[data-temp-id="'.concat(n,'"]')):(0,h.isFullCommentType)(i)?o.div.querySelectorAll(".".concat(h.GLOBAL_CONSTANT.fullCommentCLass)):o.div.querySelectorAll('[data-id="'.concat(n,'"]'))).length>0){var c=u[0].getBoundingClientRect().top,l=u[u.length-1].getBoundingClientRect().bottom;if(c>=window.innerHeight-10||l<=10){var f=u[0].offsetTop,d=u[u.length-1],p=d.offsetTop,v=d.offsetHeight;(0,s.scrollIntoView)(o.div,{top:f+(p+v-f)/2-window.innerHeight/2})}}else(0,s.scrollIntoView)(o.div)}o.activateComment(n)}}}},{key:"deactivateComment",value:function(){h.GLOBAL_STATE.activeCommentId="";for(var e=this.viewer.querySelectorAll(".".concat(h.GLOBAL_CONSTANT.activeClass)),t=0;t<e.length;t++)e[t].classList.remove("".concat(h.GLOBAL_CONSTANT.activeClass))}},{key:"toggleTextCommentButtonVisible",value:function(){var e=this.textPopupElement.querySelector("#".concat(h.GLOBAL_CONSTANT.commentButtonId));e&&(h.GLOBAL_STATE.canCreateTextComment?e.classList.remove(h.GLOBAL_CONSTANT.hiddenTextPopupButtonClass):e.classList.add(h.GLOBAL_CONSTANT.hiddenTextPopupButtonClass))}},{key:"toggleCopyButtonVisible",value:function(){var e=this.textPopupElement.querySelector("#".concat(h.GLOBAL_CONSTANT.copyButtonId));e&&(h.GLOBAL_STATE.copyable?e.classList.remove(h.GLOBAL_CONSTANT.hiddenTextPopupButtonClass):e.classList.add(h.GLOBAL_CONSTANT.hiddenTextPopupButtonClass))}},{key:"createElementWith",value:function(e,t,n,r){var a=document.createElement(e),o=n.className,s=n.style,u=n.innerHTML,c=r.click,l=r.mouseenter,f=r.mouseleave;return o&&(a.className=o),s&&(a.style=Object.assign(a.style,s)),u&&(a.innerHTML=i.default.sanitize(u)),c&&a.addEventListener("click",c),l&&a.addEventListener("mouseenter",l),f&&a.addEventListener("mouseleave",f),t.appendChild(a),a}},{key:"drawtextPopupSubMenu",value:function(e,t){var n=this,r=this.createElementWith("div",e,{className:h.GLOBAL_CONSTANT.textPopupAiItemClass},{mouseleave:function(){r.className=h.GLOBAL_CONSTANT.textPopupAiItemClass}});r.style.position="relative";var i=this.createElementWith("div",r,{className:h.GLOBAL_CONSTANT.aiHoverBlockClass},{mouseenter:function(e){e.preventDefault(),e.stopPropagation(),r.className="".concat(h.GLOBAL_CONSTANT.textPopupAiItemClass," active")}});this.createElementWith("span",i,{className:h.GLOBAL_CONSTANT.aiIconClass,innerHTML:(0,h.getSvgWithType)("translate")},{}),this.createElementWith("span",i,{className:h.GLOBAL_CONSTANT.aiTitleClass,innerHTML:t.title},{}),this.createElementWith("span",i,{className:h.GLOBAL_CONSTANT.aiIconSubClass,innerHTML:h.SUB_SVG},{});var a=this.createElementWith("div",r,{className:h.GLOBAL_CONSTANT.textPopupAiSubMenuClass},{});this.createElementWith("div",a,{className:h.GLOBAL_CONSTANT.aiHolderClass},{}),t.children.forEach((function(e){n.createElementWith("div",a,{className:h.GLOBAL_CONSTANT.subMenuItemClass,innerHTML:e.title},{click:function(){n.onTextConfirmPromptButtonClick(e)}})}))}},{key:"drawTextPopupButton",value:function(e){var t=this,n=document.createElement("div");n.className="".concat(h.GLOBAL_CONSTANT.textPopupClass," ").concat(h.GLOBAL_CONSTANT.hiddenTextPopupClass);var r=window.initialData,i=r.isAiUsable,a=r.suggestPrompts,o=r.isPdfPromptInited;if(i){var s=this.createElementWith("div",n,{className:h.GLOBAL_CONSTANT.textPopupAiPopupClass},{}),u=this.createElementWith("div",s,{className:h.GLOBAL_CONSTANT.textPopupAiItemClass},{}),c=this.createElementWith("div",u,{className:h.GLOBAL_CONSTANT.aiHoverBlockClass},{click:function(){t.onTextShowCopilotButtonClick()}});this.createElementWith("span",c,{className:h.GLOBAL_CONSTANT.aiIconClass,innerHTML:h.COPILOT_SVG},{}),o&&a.forEach((function(e){if(e.children)t.drawtextPopupSubMenu(s,e);else{var n=t.createElementWith("div",s,{className:h.GLOBAL_CONSTANT.textPopupAiItemClass},{}),r=t.createElementWith("div",n,{className:h.GLOBAL_CONSTANT.aiHoverBlockClass},{click:function(){t.onTextConfirmPromptButtonClick(e)}});t.createElementWith("span",r,{className:h.GLOBAL_CONSTANT.aiIconClass,innerHTML:(0,h.getSvgWithType)(e.type)},{}),t.createElementWith("span",r,{className:h.GLOBAL_CONSTANT.aiTitleClass,innerHTML:e.title},{})}}))}return e.forEach((function(e){var r=document.createElement("div");r.className=h.GLOBAL_CONSTANT.textPopupButtonClass,r.id=e.id,r.style.height="".concat(h.GLOBAL_CONSTANT.TEXT_POPUP_HEIGHT,"px"),r.style.width="".concat(h.GLOBAL_CONSTANT.TEXT_POPUP_SINGLE_BUTTON_WIDTH,"px"),r.setAttribute("data-type",e.type),r.addEventListener("mouseenter",t.showPopupTooltip.bind(t)),r.addEventListener("mouseleave",t.hidePopupTooltip.bind(t)),r.addEventListener("click",e.clickHandle);var i=document.createElement("div");i.className=h.GLOBAL_CONSTANT.textPopupInnerButtonClass,i.innerHTML=e.iconHTML,r.appendChild(i),n.appendChild(r)})),n.addEventListener("click",this.toggleTextPopupVisible.bind(this,!1),!1),this.viewer.appendChild(n),n}},{key:"_bindEvents",value:function(){window.addEventListener("resize",this.handleWindowResize.bind(this)),window.addEventListener("blur",this.handleWindowBlur.bind(this)),window.addEventListener("mouseup",this.tryCompleteCreatingTempRect.bind(this)),(0,a.seclinkReportInit)(),this.container&&this.container.addEventListener("scroll",this.hidePopupTooltip.bind(this)),this.viewer&&(this.viewer.addEventListener("mousedown",this.handleViewerMouseDown.bind(this)),this.viewer.addEventListener("mousemove",this.handleViewerMouseMove.bind(this))),(0,v.initAsyncActionListeners)(this.eventBus)}},{key:"handleViewerMouseMove",value:function(e){if(this.createRectStartOffsetPosition){if("string"==typeof e.target.className&&e.target.className.includes("textLayer")&&Math.abs(e.offsetX-this.createRectStartOffsetPosition.x)<10&&Math.abs(e.offsetY-this.createRectStartOffsetPosition.y)<10)return;var t=this.getPageView(this.createRectStartOffsetPosition.pageNumber-1);t&&(e.preventDefault(),t.setTempRectStyle({mouseClientX:e.clientX,mouseClientY:e.clientY,createRectStartOffsetPosition:JSON.parse(JSON.stringify(this.createRectStartOffsetPosition))}))}}},{key:"handleViewerMouseDown",value:function(e){!this.createRectStartOffsetPosition&&0===e.button&&h.GLOBAL_STATE.canCreateRectComment&&"string"==typeof e.target.className&&e.target.className.includes("textLayer")&&(this.createRectStartOffsetPosition={pageNumber:Number(e.target.getAttribute("data-page-number")),x:e.offsetX,y:e.offsetY}),this.textPopupElement&&!this.textPopupElement.contains(e.target)&&this.toggleTextPopupVisible(!1),e.target===this.viewer&&(0,h.sendMessage)(h.IFRAME_EVENT.SET_ACTIVE_COMMENT,{commentId:null})}},{key:"handleDocumentRightClick",value:function(e){h.GLOBAL_STATE.copyable&&h.GLOBAL_STATE.printable||e.preventDefault()}},{key:"handleDocumentCopy",value:function(e){h.GLOBAL_STATE.copyable?(0,h.sendMessage)(h.IFRAME_EVENT.ON_COPY,{type:"text"}):(e.preventDefault(),(0,h.sendMessage)(h.IFRAME_EVENT.COPY_WITHOUT_PERMISSION))}},{key:"handleKeyDown",value:function(e){if("KeyF"===e.code&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),h.GLOBAL_STATE.copyable)){var t=window.getSelection();(0,h.sendMessage)(h.IFRAME_EVENT.ON_SEARCH,{content:t?t.toString():""})}}},{key:"handleWindowBlur",value:function(){this.toggleTextPopupVisible(!1),this.clearSelection(),this.tryCompleteCreatingTempRect()}},{key:"handleWindowResize",value:function(){if(this.isTextpopupVisible){var e=window.getSelection().getRangeAt(0);if(e){var t=e.getBoundingClientRect(),n=(0,h.genTextPopupPosition)(t,this.container),r=n.textPopupLeft,i=n.textPopupTop;this.setTextPopupPosition(r,i)}}}},{key:"tryCompleteCreatingTempRect",value:function(){if(this.createRectStartOffsetPosition){var e=this.getPageView(this.createRectStartOffsetPosition.pageNumber-1);e&&e.setMoveableRect(),this.createRectStartOffsetPosition=null}}},{key:"toggleEditMode",value:function(e){h.GLOBAL_STATE.isEditMode!==e&&(h.GLOBAL_STATE.isEditMode=e,this.eventBus.dispatch("toggleEditMode",e))}},{key:"setTextPopupPageNumberData",value:function(e){var t=e.pageNumber,n=e.selectedText;this.textPopupElement&&(this.textPopupElement.setAttribute("data-page-number",t),this.currentSelectedText=n)}},{key:"handlePageCleaned",value:function(e){this.isTextpopupVisible&&this.textPopupElement.getAttribute("data-page-number")===String(e)&&this.toggleTextPopupVisible(!1)}},{key:"execCopy",value:function(){parent.postMessage({key:"asyncAction",value:{actionName:"copy",data:{content:this.currentSelectedText}}},"*")}},{key:"onTextCommentButtonClick",value:function(){var e=Number(this.textPopupElement.getAttribute("data-page-number")),t=this.getPageView(e-1);t&&t.currentSelectedTextPosition&&t.currentSelectedTextPosition.quads&&(t.currentSelectedTextPosition.quads.length<=h.GLOBAL_CONSTANT.MAX_QUADS_LENGTH?t.setTempTextComment():(0,h.sendMessage)(h.IFRAME_EVENT.COMMENT_QUADS_EXCEED))}},{key:"onTextShowCopilotButtonClick",value:function(){var e=Number(this.textPopupElement.getAttribute("data-page-number")),t=this.getPageView(e-1);t&&t.currentSelectedTextPosition&&t.currentSelectedTextPosition.quads&&(t.currentSelectedTextPosition.quads.length<=h.GLOBAL_CONSTANT.MAX_QUADS_LENGTH?t.showCopilot():(0,h.sendMessage)(h.IFRAME_EVENT.COMMENT_QUADS_EXCEED))}},{key:"onTextConfirmPromptButtonClick",value:function(e){var t=Number(this.textPopupElement.getAttribute("data-page-number")),n=this.getPageView(t-1);n&&n.currentSelectedTextPosition&&n.currentSelectedTextPosition.quads&&(n.currentSelectedTextPosition.quads.length<=h.GLOBAL_CONSTANT.MAX_QUADS_LENGTH?n.confirmPrompt(e):(0,h.sendMessage)(h.IFRAME_EVENT.COMMENT_QUADS_EXCEED))}},{key:"toggleTextPopupVisible",value:function(e){this.textPopupElement&&(e?this.textPopupElement.classList.remove(h.GLOBAL_CONSTANT.hiddenTextPopupClass):(this.textPopupElement.classList.add(h.GLOBAL_CONSTANT.hiddenTextPopupClass),this.hidePopupTooltip()))}},{key:"setTextPopupPosition",value:function(e,t){this.textPopupElement&&(this.textPopupElement.style.left="".concat(e,"px"),this.textPopupElement.style.top="".concat(t,"px"))}},{key:"clearSelection",value:function(){var e=window.getSelection();e.empty?e.empty():e.removeAllRanges&&e.removeAllRanges()}},{key:"showPopupTooltip",value:function(e){if(e.currentTarget&&!h.GLOBAL_STATE.popupTooltipVisible){h.GLOBAL_STATE.popupTooltipVisible=!0;var t=e.currentTarget.getBoundingClientRect(),n=e.currentTarget.getAttribute("data-type")||"";(0,h.sendMessage)(h.IFRAME_EVENT.POPUP_TOOLTIP_STATE,{visible:h.GLOBAL_STATE.popupTooltipVisible,position:{x:t.left+t.width/2,y:t.top},type:n})}}},{key:"hidePopupTooltip",value:function(){h.GLOBAL_STATE.popupTooltipVisible&&(h.GLOBAL_STATE.popupTooltipVisible=!1,(0,h.sendMessage)(h.IFRAME_EVENT.POPUP_TOOLTIP_STATE,{visible:h.GLOBAL_STATE.popupTooltipVisible,position:null,type:""}))}},{key:"getPageView",value:function(e){return this._pages[e]}},{key:"_setCurrentPageNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._currentPageNumber===e?(t&&this._resetCurrentPageView(),!0):0<e&&e<=this.pagesCount&&(this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:this._pageLabels&&this._pageLabels[e-1]}),t&&this._resetCurrentPageView(),!0)}},{key:"setDocument",value:function(e){var t=this;if(this.pdfDocument&&(this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null)),this.pdfDocument=e,e){var n=e.numPages,r=(0,o.createPromiseCapability)();this.pagesPromise=r.promise,r.promise.then((function(){t._pageViewsReady=!0,t.eventBus.dispatch("pagesloaded",{source:t,pagesCount:n})}));var i=!1,a=(0,o.createPromiseCapability)();this.onePageRendered=a.promise;var u=function(e){e.onBeforeDraw=function(){t._buffer.push(e)},e.onAfterDraw=function(){i||(i=!0,a.resolve())}},c=e.getPage(1);this.tempFirstPagePromise=c,c.then((function(i){for(var o=t.currentScale,c=i.getViewport({scale:o*s.CSS_UNITS}),f=1;f<=n;++f){var d=null;t.textLayerMode!==s.TextLayerMode.DISABLE&&(d=t);var h=new l.PDFPageView({container:t._setDocumentViewerElement,eventBus:t.eventBus,id:f,scale:o,defaultViewport:c.clone(),renderingQueue:t.renderingQueue,textLayerFactory:d,textLayerMode:t.textLayerMode,annotationLayerFactory:t,imageResourcesPath:t.imageResourcesPath,renderInteractiveForms:t.renderInteractiveForms,renderer:t.renderer,enableWebGL:t.enableWebGL,useOnlyCssZoom:t.useOnlyCssZoom,maxCanvasPixels:t.maxCanvasPixels,viewerContainer:t.container,toggleTextPopupVisible:t.toggleTextPopupVisible.bind(t),setTextPopupPosition:t.setTextPopupPosition.bind(t),setTextPopupPageNumberData:t.setTextPopupPageNumberData.bind(t),announcePageHasBeenCleaned:t.handlePageCleaned.bind(t),toggleEditMode:t.toggleEditMode.bind(t)});u(h),t._pages.push(h)}t._spreadMode!==_.NONE&&t._updateSpreadMode(),a.promise.then((function(){if(e.loadingParams.disableAutoFetch)r.resolve();else for(var i=n,a=function(n){e.getPage(n).then((function(e){var a=t._pages[n-1];a.pdfPage||a.setPdfPage(e),t.linkService.cachePageRef(n,e.ref),0==--i&&r.resolve()}),(function(e){console.error("Unable to get page ".concat(n," to initialize viewer"),e),0==--i&&r.resolve()}))},o=1;o<=n;++o)a(o)})),t.eventBus.dispatch("pagesinit",{source:t}),t.findController&&t.findController.setDocument(e),t.defaultRenderingQueue&&t.update()})).catch((function(e){console.error("Unable to initialize viewer",e)}))}}},{key:"setPageLabels",value:function(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("".concat(this._name,".setPageLabels: Invalid page labels."))):this._pageLabels=null;for(var t=0,n=this._pages.length;t<n;t++){var r=this._pages[t],i=this._pageLabels&&this._pageLabels[t];r.setPageLabel(i)}}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=s.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new w(10),this._location=null,this._pagesRotation=0,this._pagesRequests=[],this._pageViewsReady=!1,this._scrollMode=b.VERTICAL,this._spreadMode=_.NONE,this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update(!0)}},{key:"_scrollIntoView",value:function(e){throw e.pageDiv,e.pageSpot,e.pageNumber,new Error("Not implemented: _scrollIntoView")}},{key:"_setScaleUpdatePages",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=t.toString(),S(this._currentScale,e))r&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});else{(0,h.sendMessage)(h.IFRAME_EVENT.UPDATE_POSITION);for(var i=0,a=this._pages.length;i<a;i++)this._pages[i].update(e);if(this._currentScale=e,!n){var o,s=this._currentPageNumber;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(s=this._location.pageNumber,o=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:s,destArray:o,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:r?t:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=parseFloat(e);if(n>0)this._setScaleUpdatePages(n,e,t,!1);else{var r=this._pages[this._currentPageNumber-1];if(!r)return;var i=this.isInPresentationMode||this.removePageBorders,a=i?0:s.SCROLLBAR_PADDING,o=i?0:s.VERTICAL_PADDING;if(!i&&this._isScrollModeHorizontal){var u=[o,a];a=u[0],o=u[1]}var c=(this.container.clientWidth-a)/r.width*r.scale,l=(this.container.clientHeight-o)/r.height*r.scale;switch(e){case"page-actual":n=1;break;case"page-width":n=c;break;case"page-full":n=c,this.container&&this.container.classList.add("has-no-horizon-scrollbar");break;case"page-height":n=l;break;case"page-fit":n=Math.min(c,l);break;case"page-presentation":var f=(h.GLOBAL_STATE.parentSize.width||this.container.clientWidth)/r.width*r.scale,d=(h.GLOBAL_STATE.parentSize.height||this.container.clientHeight)/r.height*r.scale;n=Math.min(f,d);break;case"auto":var p=(0,s.isPortraitOrientation)(r)?c:Math.min(l,c);n=Math.min(s.MAX_AUTO_SCALE,p);break;default:return void console.error("".concat(this._name,'._setScale: "').concat(e,'" is an unknown zoom value.'))}this._setScaleUpdatePages(n,e,t,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);var e=this._pages[this._currentPageNumber-1];this._scrollIntoView({pageDiv:e.div})}},{key:"scrollPageIntoView",value:function(e){var t=e.pageNumber,n=e.destArray,r=void 0===n?null:n,i=e.allowNegativeOffset,a=void 0!==i&&i;if(this.pdfDocument){var o=Number.isInteger(t)&&this._pages[t-1];if(o)if(!this.isInPresentationMode&&r){var u,c,l=0,f=0,d=0,h=0,p=o.rotation%180!=0,v=(p?o.height:o.width)/o.scale/s.CSS_UNITS,g=(p?o.width:o.height)/o.scale/s.CSS_UNITS,m=0;switch(r[1].name){case"XYZ":l=r[2],f=r[3],m=r[4],l=null!==l?l:0,f=null!==f?f:g;break;case"Fit":case"FitB":m="page-fit";break;case"FitH":case"FitBH":m="page-width",null===(f=r[2])&&this._location&&(l=this._location.left,f=this._location.top);break;case"FitV":case"FitBV":l=r[2],d=v,h=g,m="page-height";break;case"FitR":l=r[2],f=r[3],d=r[4]-l,h=r[5]-f;var y=this.removePageBorders?0:s.SCROLLBAR_PADDING,b=this.removePageBorders?0:s.VERTICAL_PADDING;u=(this.container.clientWidth-y)/d/s.CSS_UNITS,c=(this.container.clientHeight-b)/h/s.CSS_UNITS,m=Math.min(Math.abs(u),Math.abs(c));break;default:return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(r[1].name,'" is not a valid destination type.'))}if(m&&m!==this._currentScale?this.currentScaleValue=m:this._currentScale===s.UNKNOWN_SCALE&&(this.currentScaleValue=s.DEFAULT_SCALE_VALUE),"page-fit"!==m||r[4]){var _=[o.viewport.convertToViewportPoint(l,f),o.viewport.convertToViewportPoint(l+d,f+h)],w=Math.min(_[0][0],_[1][0]),S=Math.min(_[0][1],_[1][1]);a||(w=Math.max(w,0),S=Math.max(S,0)),this._scrollIntoView({pageDiv:o.div,pageSpot:{left:w,top:S},pageNumber:t})}else this._scrollIntoView({pageDiv:o.div,pageNumber:t})}else this._setCurrentPageNumber(t,!0);else console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(t,'" is not a valid pageNumber parameter.'))}}},{key:"_resizeBuffer",value:function(e,t){var n=Math.max(10,2*e+1);this._buffer.resize(n,t)}},{key:"_updateLocation",value:function(e){var t=this._currentScale,n=this._currentScaleValue,r=parseFloat(n)===t?Math.round(1e4*t)/100:n,i=e.id,a="#page=".concat(i);a+="&zoom=".concat(r);var o=this._pages[i-1],s=this.container,u=o.getPagePoint(s.scrollLeft-e.x,s.scrollTop-e.y),c=Math.round(u[0]),l=Math.round(u[1]);a+=",".concat(c,",").concat(l),this._location={pageNumber:i,scale:r,top:l,left:c,rotation:this._pagesRotation,pdfOpenParams:a}}},{key:"update",value:function(){throw new Error("Not implemented: update")}},{key:"containsElement",value:function(e){return this.container.contains(e)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var e=this._pages[this._currentPageNumber-1],t=e.div,n={id:e.id,x:t.offsetLeft+t.clientLeft,y:t.offsetTop+t.clientTop,view:e};return{first:n,last:n,views:[n]}}},{key:"_getVisiblePages",value:function(){throw new Error("Not implemented: _getVisiblePages")}},{key:"isPageVisible",value:function(e){return!!this.pdfDocument&&(this.pageNumber<1||e>this.pagesCount?(console.error("".concat(this._name,'.isPageVisible: "').concat(e,'" is out of bounds.')),!1):this._getVisiblePages().views.some((function(t){return t.id===e})))}},{key:"cleanup",value:function(){for(var e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].renderingState!==u.RenderingStates.FINISHED&&this._pages[e].reset()}},{key:"_cancelRendering",value:function(){for(var e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(e){var t=this;if(e.pdfPage)return Promise.resolve(e.pdfPage);var n=e.id;if(this._pagesRequests[n])return this._pagesRequests[n];var r=this.pdfDocument.getPage(n).then((function(r){return e.pdfPage||e.setPdfPage(r),t._pagesRequests[n]=null,r})).catch((function(e){console.error("Unable to get page for page view",e),t._pagesRequests[n]=null}));return this._pagesRequests[n]=r,r}},{key:"forceRendering",value:function(e){var t=this,n=e||this._getVisiblePages(),r=this._isScrollModeHorizontal?this.scroll.right:this.scroll.down,i=this.renderingQueue.getHighestPriority(n,this._pages,r);return!!i&&(this._ensurePdfPageLoaded(i).then((function(){t.renderingQueue.renderView(i)})),!0)}},{key:"createTextLayerBuilder",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new d.TextLayerBuilder({textLayerDiv:e,eventBus:this.eventBus,pageIndex:t,viewport:n,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&r})}},{key:"createAnnotationLayerBuilder",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new c.AnnotationLayerBuilder({pageDiv:e,pdfPage:t,imageResourcesPath:n,renderInteractiveForms:r,linkService:this.linkService,downloadManager:this.downloadManager})}},{key:"getPagesOverview",value:function(){var e=this,t=this._pages.map((function(t,n){0===n&&t.pdfPage&&(e.firstPageViewport=t.pdfPage.getViewport({scale:1}));var r=t.pdfPage?t.pdfPage.getViewport({scale:1}):e.firstPageViewport;return{width:r.width,height:r.height,rotation:r.rotation}}));if(!this.enablePrintAutoRotate)return t;var n=(0,s.isPortraitOrientation)(t[0]);return t.map((function(e){return n===(0,s.isPortraitOrientation)(e)?e:{width:e.height,height:e.width,rotation:(e.rotation+90)%360}}))}},{key:"_updateScrollMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this._scrollMode,n=this.viewer;n.classList.toggle("scrollHorizontal",t===b.HORIZONTAL),n.classList.toggle("scrollWrapped",t===b.WRAPPED),this.pdfDocument&&e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(e,!0),this.update())}},{key:"_updateSpreadMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var t=this.viewer,n=this._pages;if(t.textContent="",this._spreadMode===_.NONE)for(var r=0,i=n.length;r<i;++r)t.appendChild(n[r].div);else for(var a=this._spreadMode-1,o=null,s=0,u=n.length;s<u;++s)null===o?((o=document.createElement("div")).className="spread",t.appendChild(o)):s%2===a&&(o=o.cloneNode(!1),t.appendChild(o)),o.appendChild(n[s].div);e&&(this._setCurrentPageNumber(e,!0),this.update())}}},{key:"isTextpopupVisible",get:function(){return Boolean(this.textPopupElement&&!this.textPopupElement.className.includes(h.GLOBAL_CONSTANT.hiddenTextPopupClass))}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return this._pageViewsReady}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error("".concat(this._name,'.currentPageNumber: "').concat(e,'" is not a valid page.')))}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(e){if(this.pdfDocument){var t=0|e;if(this._pageLabels){var n=this._pageLabels.indexOf(e);n>=0&&(t=n+1)}this._setCurrentPageNumber(t,!0)||console.error("".concat(this._name,'.currentPageLabel: "').concat(e,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return this._currentScale!==s.UNKNOWN_SCALE?this._currentScale:s.DEFAULT_SCALE},set:function(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(e,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(e){this.pdfDocument&&this._setScale(e,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(e){if(!(0,s.isValidRotation)(e))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==e){this._pagesRotation=e;for(var t=this._currentPageNumber,n=0,r=this._pages.length;n<r;n++){var i=this._pages[n];i.update(i.scale,e)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}}},{key:"_setDocumentViewerElement",get:function(){throw new Error("Not implemented: _setDocumentViewerElement")}},{key:"_isScrollModeHorizontal",get:function(){throw new Error("Not implemented: _isScrollModeHorizontal")}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===s.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===s.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"firstPagePromise",get:function(){return this.pdfDocument?this.tempFirstPagePromise:null}},{key:"hasEqualPageSizes",get:function(){for(var e=this._pages[0],t=1,n=this._pages.length;t<n;++t){var r=this._pages[t];if(r.width!==e.width||r.height!==e.height)return!1}return!0}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(e){if(this._scrollMode!==e){if(!Number.isInteger(e)||!Object.values(b).includes(e))throw new Error("Invalid scroll mode: ".concat(e));this._scrollMode=e,this._updateScrollMode(this._currentPageNumber)}}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(e){if(this._spreadMode!==e){if(!Number.isInteger(e)||!Object.values(_).includes(e))throw new Error("Invalid spread mode: ".concat(e));this._spreadMode=e,this._updateSpreadMode(this._currentPageNumber)}}}])&&y(t.prototype,n),r&&y(t,r),e}();t.BaseViewer=A},function(e,t,n){"use strict";var r,i,a;function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t,n){return(s=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(){var e=Object.entries,t=Object.setPrototypeOf,n=Object.isFrozen,r=Object.getPrototypeOf,i=Object.getOwnPropertyDescriptor,a=Object.freeze,u=Object.seal,c=Object.create,d="undefined"!=typeof Reflect&&Reflect,p=d.apply,v=d.construct;a||(a=function(e){return e}),u||(u=function(e){return e}),p||(p=function(e,t,n){return e.apply(t,n)}),v||(v=function(e,t){return s(e,l(t))});var g,m=k(Array.prototype.forEach),y=k(Array.prototype.pop),b=k(Array.prototype.push),_=k(String.prototype.toLowerCase),w=k(String.prototype.toString),S=k(String.prototype.match),A=k(String.prototype.replace),C=k(String.prototype.indexOf),P=k(String.prototype.trim),E=k(Object.prototype.hasOwnProperty),T=k(RegExp.prototype.test),x=(g=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v(g,t)});function k(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return p(e,t,r)}}function O(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;t&&t(e,null);for(var a=r.length;a--;){var o=r[a];if("string"==typeof o){var s=i(o);s!==o&&(n(r)||(r[a]=s),o=s)}e[o]=!0}return e}function R(e){for(var t=0;t<e.length;t++)E(e,t)||(e[t]=null);return e}function M(t){var n,r=c(null),i=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(e(t));try{for(i.s();!(n=i.n()).done;){var a=o(n.value,2),s=a[0],u=a[1];E(t,s)&&(Array.isArray(u)?r[s]=R(u):u&&"object"===h(u)&&u.constructor===Object?r[s]=M(u):r[s]=u)}}catch(e){i.e(e)}finally{i.f()}return r}function L(e,t){for(;null!==e;){var n=i(e,t);if(n){if(n.get)return k(n.get);if("function"==typeof n.value)return k(n.value)}e=r(e)}return function(){return null}}var I=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),N=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),D=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),F=a(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),B=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),j=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),U=a(["#text"]),V=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),W=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),H=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),z=u(/\{\{[\w\W]*|[\w\W]*\}\}/gm),q=u(/<%[\w\W]*|[\w\W]*%>/gm),Y=u(/\${[\w\W]*}/gm),X=u(/^data-[\-\w.\u00B7-\uFFFF]/),K=u(/^aria-[\-\w]+$/),Q=u(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Z=u(/^(?:\w+script|data):/i),J=u(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$=u(/^html$/i),ee=u(/^[a-z][.\w]*(-[.\w]+)+$/i),te=Object.freeze({__proto__:null,MUSTACHE_EXPR:z,ERB_EXPR:q,TMPLIT_EXPR:Y,DATA_ATTR:X,ARIA_ATTR:K,IS_ALLOWED_URI:Q,IS_SCRIPT_OR_DATA:Z,ATTR_WHITESPACE:J,DOCTYPE_NAME:$,CUSTOM_ELEMENT:ee}),ne=1,re=3,ie=7,ae=8,oe=9,se=function(){return"undefined"==typeof window?null:window},ue=function(e,t){if("object"!==h(e)||"function"!=typeof e.createPolicy)return null;var n=null;t&&t.hasAttribute("data-tt-policy-suffix")&&(n=t.getAttribute("data-tt-policy-suffix"));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se(),r=function(e){return t(e)};if(r.version="3.1.6",r.removed=[],!n||!n.document||n.document.nodeType!==oe)return r.isSupported=!1,r;var i,o=n.document,s=o,u=s.currentScript,f=n.DocumentFragment,d=n.HTMLTemplateElement,p=n.Node,v=n.Element,g=n.NodeFilter,k=n.NamedNodeMap,R=void 0===k?n.NamedNodeMap||n.MozNamedAttrMap:k,z=n.HTMLFormElement,q=n.DOMParser,Y=n.trustedTypes,X=v.prototype,K=L(X,"cloneNode"),Z=L(X,"remove"),J=L(X,"nextSibling"),ee=L(X,"childNodes"),ce=L(X,"parentNode");if("function"==typeof d){var le=o.createElement("template");le.content&&le.content.ownerDocument&&(o=le.content.ownerDocument)}var fe="",de=o,he=de.implementation,pe=de.createNodeIterator,ve=de.createDocumentFragment,ge=de.getElementsByTagName,me=s.importNode,ye={};r.isSupported="function"==typeof e&&"function"==typeof ce&&he&&void 0!==he.createHTMLDocument;var be=te.MUSTACHE_EXPR,_e=te.ERB_EXPR,we=te.TMPLIT_EXPR,Se=te.DATA_ATTR,Ae=te.ARIA_ATTR,Ce=te.IS_SCRIPT_OR_DATA,Pe=te.ATTR_WHITESPACE,Ee=te.CUSTOM_ELEMENT,Te=te.IS_ALLOWED_URI,xe=null,ke=O({},[].concat(l(I),l(N),l(D),l(B),l(U))),Oe=null,Re=O({},[].concat(l(V),l(W),l(G),l(H))),Me=Object.seal(c(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Le=null,Ie=null,Ne=!0,De=!0,Fe=!1,Be=!0,je=!1,Ue=!0,Ve=!1,We=!1,Ge=!1,He=!1,ze=!1,qe=!1,Ye=!0,Xe=!1,Ke="user-content-",Qe=!0,Ze=!1,Je={},$e=null,et=O({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),tt=null,nt=O({},["audio","video","img","source","image","track"]),rt=null,it=O({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),at="http://www.w3.org/1998/Math/MathML",ot="http://www.w3.org/2000/svg",st="http://www.w3.org/1999/xhtml",ut=st,ct=!1,lt=null,ft=O({},[at,ot,st],w),dt=null,ht=["application/xhtml+xml","text/html"],pt="text/html",vt=null,gt=null,mt=o.createElement("form"),yt=function(e){return e instanceof RegExp||e instanceof Function},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!gt||gt!==e){if(e&&"object"===h(e)||(e={}),e=M(e),dt=-1===ht.indexOf(e.PARSER_MEDIA_TYPE)?pt:e.PARSER_MEDIA_TYPE,vt="application/xhtml+xml"===dt?w:_,xe=E(e,"ALLOWED_TAGS")?O({},e.ALLOWED_TAGS,vt):ke,Oe=E(e,"ALLOWED_ATTR")?O({},e.ALLOWED_ATTR,vt):Re,lt=E(e,"ALLOWED_NAMESPACES")?O({},e.ALLOWED_NAMESPACES,w):ft,rt=E(e,"ADD_URI_SAFE_ATTR")?O(M(it),e.ADD_URI_SAFE_ATTR,vt):it,tt=E(e,"ADD_DATA_URI_TAGS")?O(M(nt),e.ADD_DATA_URI_TAGS,vt):nt,$e=E(e,"FORBID_CONTENTS")?O({},e.FORBID_CONTENTS,vt):et,Le=E(e,"FORBID_TAGS")?O({},e.FORBID_TAGS,vt):{},Ie=E(e,"FORBID_ATTR")?O({},e.FORBID_ATTR,vt):{},Je=!!E(e,"USE_PROFILES")&&e.USE_PROFILES,Ne=!1!==e.ALLOW_ARIA_ATTR,De=!1!==e.ALLOW_DATA_ATTR,Fe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Be=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,je=e.SAFE_FOR_TEMPLATES||!1,Ue=!1!==e.SAFE_FOR_XML,Ve=e.WHOLE_DOCUMENT||!1,He=e.RETURN_DOM||!1,ze=e.RETURN_DOM_FRAGMENT||!1,qe=e.RETURN_TRUSTED_TYPE||!1,Ge=e.FORCE_BODY||!1,Ye=!1!==e.SANITIZE_DOM,Xe=e.SANITIZE_NAMED_PROPS||!1,Qe=!1!==e.KEEP_CONTENT,Ze=e.IN_PLACE||!1,Te=e.ALLOWED_URI_REGEXP||Q,ut=e.NAMESPACE||st,Me=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&yt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Me.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&yt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Me.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Me.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),je&&(De=!1),ze&&(He=!0),Je&&(xe=O({},U),Oe=[],!0===Je.html&&(O(xe,I),O(Oe,V)),!0===Je.svg&&(O(xe,N),O(Oe,W),O(Oe,H)),!0===Je.svgFilters&&(O(xe,D),O(Oe,W),O(Oe,H)),!0===Je.mathMl&&(O(xe,B),O(Oe,G),O(Oe,H))),e.ADD_TAGS&&(xe===ke&&(xe=M(xe)),O(xe,e.ADD_TAGS,vt)),e.ADD_ATTR&&(Oe===Re&&(Oe=M(Oe)),O(Oe,e.ADD_ATTR,vt)),e.ADD_URI_SAFE_ATTR&&O(rt,e.ADD_URI_SAFE_ATTR,vt),e.FORBID_CONTENTS&&($e===et&&($e=M($e)),O($e,e.FORBID_CONTENTS,vt)),Qe&&(xe["#text"]=!0),Ve&&O(xe,["html","head","body"]),xe.table&&(O(xe,["tbody"]),delete Le.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');i=e.TRUSTED_TYPES_POLICY,fe=i.createHTML("")}else void 0===i&&(i=ue(Y,u)),null!==i&&"string"==typeof fe&&(fe=i.createHTML(""));a&&a(e),gt=e}},_t=O({},["mi","mo","mn","ms","mtext"]),wt=O({},["foreignobject","annotation-xml"]),St=O({},["title","style","font","a","script"]),At=O({},[].concat(l(N),l(D),l(F))),Ct=O({},[].concat(l(B),l(j))),Pt=function(e){var t=ce(e);t&&t.tagName||(t={namespaceURI:ut,tagName:"template"});var n=_(e.tagName),r=_(t.tagName);return!!lt[e.namespaceURI]&&(e.namespaceURI===ot?t.namespaceURI===st?"svg"===n:t.namespaceURI===at?"svg"===n&&("annotation-xml"===r||_t[r]):Boolean(At[n]):e.namespaceURI===at?t.namespaceURI===st?"math"===n:t.namespaceURI===ot?"math"===n&&wt[r]:Boolean(Ct[n]):e.namespaceURI===st?!(t.namespaceURI===ot&&!wt[r])&&!(t.namespaceURI===at&&!_t[r])&&!Ct[n]&&(St[n]||!At[n]):!("application/xhtml+xml"!==dt||!lt[e.namespaceURI]))},Et=function(e){b(r.removed,{element:e});try{ce(e).removeChild(e)}catch(t){Z(e)}},Tt=function(e,t){try{b(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){b(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Oe[e])if(He||ze)try{Et(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},xt=function(e){var t=null,n=null;if(Ge)e="<remove></remove>"+e;else{var r=S(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===dt&&ut===st&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var a=i?i.createHTML(e):e;if(ut===st)try{t=(new q).parseFromString(a,dt)}catch(e){}if(!t||!t.documentElement){t=he.createDocument(ut,"template",null);try{t.documentElement.innerHTML=ct?fe:a}catch(e){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(o.createTextNode(n),s.childNodes[0]||null),ut===st?ge.call(t,Ve?"html":"body")[0]:Ve?t.documentElement:s},kt=function(e){return pe.call(e.ownerDocument||e,e,g.SHOW_ELEMENT|g.SHOW_COMMENT|g.SHOW_TEXT|g.SHOW_PROCESSING_INSTRUCTION|g.SHOW_CDATA_SECTION,null)},Ot=function(e){return e instanceof z&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof R)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Rt=function(e){return"function"==typeof p&&e instanceof p},Mt=function(e,t,n){ye[e]&&m(ye[e],(function(e){e.call(r,t,n,gt)}))},Lt=function(e){var t=null;if(Mt("beforeSanitizeElements",e,null),Ot(e))return Et(e),!0;var n=vt(e.nodeName);if(Mt("uponSanitizeElement",e,{tagName:n,allowedTags:xe}),e.hasChildNodes()&&!Rt(e.firstElementChild)&&T(/<[/\w]/g,e.innerHTML)&&T(/<[/\w]/g,e.textContent))return Et(e),!0;if(e.nodeType===ie)return Et(e),!0;if(Ue&&e.nodeType===ae&&T(/<[/\w]/g,e.data))return Et(e),!0;if(!xe[n]||Le[n]){if(!Le[n]&&Nt(n)){if(Me.tagNameCheck instanceof RegExp&&T(Me.tagNameCheck,n))return!1;if(Me.tagNameCheck instanceof Function&&Me.tagNameCheck(n))return!1}if(Qe&&!$e[n]){var i=ce(e)||e.parentNode,a=ee(e)||e.childNodes;if(a&&i)for(var o=a.length-1;o>=0;--o){var s=K(a[o],!0);s.__removalCount=(e.__removalCount||0)+1,i.insertBefore(s,J(e))}}return Et(e),!0}return e instanceof v&&!Pt(e)?(Et(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!T(/<\/no(script|embed|frames)/i,e.innerHTML)?(je&&e.nodeType===re&&(t=e.textContent,m([be,_e,we],(function(e){t=A(t,e," ")})),e.textContent!==t&&(b(r.removed,{element:e.cloneNode()}),e.textContent=t)),Mt("afterSanitizeElements",e,null),!1):(Et(e),!0)},It=function(e,t,n){if(Ye&&("id"===t||"name"===t)&&(n in o||n in mt))return!1;if(De&&!Ie[t]&&T(Se,t));else if(Ne&&T(Ae,t));else if(!Oe[t]||Ie[t]){if(!(Nt(e)&&(Me.tagNameCheck instanceof RegExp&&T(Me.tagNameCheck,e)||Me.tagNameCheck instanceof Function&&Me.tagNameCheck(e))&&(Me.attributeNameCheck instanceof RegExp&&T(Me.attributeNameCheck,t)||Me.attributeNameCheck instanceof Function&&Me.attributeNameCheck(t))||"is"===t&&Me.allowCustomizedBuiltInElements&&(Me.tagNameCheck instanceof RegExp&&T(Me.tagNameCheck,n)||Me.tagNameCheck instanceof Function&&Me.tagNameCheck(n))))return!1}else if(rt[t]);else if(T(Te,A(n,Pe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==C(n,"data:")||!tt[e])if(Fe&&!T(Ce,A(n,Pe,"")));else if(n)return!1;return!0},Nt=function(e){return"annotation-xml"!==e&&S(e,Ee)},Dt=function(e){Mt("beforeSanitizeAttributes",e,null);var t=e.attributes;if(t){for(var n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Oe},a=t.length,o=function(){var o=t[a],s=o.name,u=o.namespaceURI,c=o.value,l=vt(s),f="value"===s?c:P(c);if(n.attrName=l,n.attrValue=f,n.keepAttr=!0,n.forceKeepAttr=void 0,Mt("uponSanitizeAttribute",e,n),f=n.attrValue,Ue&&T(/((--!?|])>)|<\/(style|title)/i,f))return Tt(s,e),"continue";if(n.forceKeepAttr)return"continue";if(Tt(s,e),!n.keepAttr)return"continue";if(!Be&&T(/\/>/i,f))return Tt(s,e),"continue";je&&m([be,_e,we],(function(e){f=A(f,e," ")}));var d=vt(e.nodeName);if(!It(d,l,f))return"continue";if(!Xe||"id"!==l&&"name"!==l||(Tt(s,e),f=Ke+f),i&&"object"===h(Y)&&"function"==typeof Y.getAttributeType)if(u);else switch(Y.getAttributeType(d,l)){case"TrustedHTML":f=i.createHTML(f);break;case"TrustedScriptURL":f=i.createScriptURL(f)}try{u?e.setAttributeNS(u,s,f):e.setAttribute(s,f),Ot(e)?Et(e):y(r.removed)}catch(e){}};a--;)o();Mt("afterSanitizeAttributes",e,null)}},Ft=function e(t){var n=null,r=kt(t);for(Mt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Mt("uponSanitizeShadowNode",n,null),Lt(n)||(n.content instanceof f&&e(n.content),Dt(n));Mt("afterSanitizeShadowDOM",t,null)};return r.sanitize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,a=null,o=null,u=null;if((ct=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Rt(e)){if("function"!=typeof e.toString)throw x("toString is not a function");if("string"!=typeof(e=e.toString()))throw x("dirty is not a string, aborting")}if(!r.isSupported)return e;if(We||bt(t),r.removed=[],"string"==typeof e&&(Ze=!1),Ze){if(e.nodeName){var c=vt(e.nodeName);if(!xe[c]||Le[c])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof p)(a=(n=xt("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType===ne&&"BODY"===a.nodeName||"HTML"===a.nodeName?n=a:n.appendChild(a);else{if(!He&&!je&&!Ve&&-1===e.indexOf("<"))return i&&qe?i.createHTML(e):e;if(!(n=xt(e)))return He?null:qe?fe:""}n&&Ge&&Et(n.firstChild);for(var l=kt(Ze?e:n);o=l.nextNode();)Lt(o)||(o.content instanceof f&&Ft(o.content),Dt(o));if(Ze)return e;if(He){if(ze)for(u=ve.call(n.ownerDocument);n.firstChild;)u.appendChild(n.firstChild);else u=n;return(Oe.shadowroot||Oe.shadowrootmode)&&(u=me.call(s,u,!0)),u}var d=Ve?n.outerHTML:n.innerHTML;return Ve&&xe["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&T($,n.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+d),je&&m([be,_e,we],(function(e){d=A(d,e," ")})),i&&qe?i.createHTML(d):d},r.setConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};bt(e),We=!0},r.clearConfig=function(){gt=null,We=!1},r.isValidAttribute=function(e,t,n){gt||bt({});var r=vt(e),i=vt(t);return It(r,i,n)},r.addHook=function(e,t){"function"==typeof t&&(ye[e]=ye[e]||[],b(ye[e],t))},r.removeHook=function(e){if(ye[e])return y(ye[e])},r.removeHooks=function(e){ye[e]&&(ye[e]=[])},r.removeAllHooks=function(){ye={}},r}()},"object"===h(t)&&void 0!==e?e.exports=a():void 0===(i="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomSecureLink=function(e,t){var n=e.getAttribute("href");if(!n||!c(e))return n;var i=Object.assign({},{baseUrl:a,logParams:s()},t);/^https:\/\/security\..*\/link\/safety$/.test(i.baseUrl)||(i.baseUrl="https://security.feishu.cn/link/safety",window.location.hostname.includes("larksuite")&&(i.baseUrl="https://security.larksuite.com/link/safety"));return(0,r.getSecureLink)(n,i)},t.getSearchParam=o,t.getSceneOption=s,t.isAnchorUrl=u,t.seclinkEnabled=c,t.seclinkReportInit=function(){document.addEventListener("click",(function(e){"A"===e.target.tagName&&c(e.target)&&parent.postMessage({key:"seclinkClicked"},"*")}))},t.locationTypes=void 0;var r=n(27),i={doc:"drivesdk_creation",doc_file:"drivesdk_creation",bitable:"drivesdk_creation",default:"ccm_drive"};t.locationTypes=i;var a=decodeURIComponent(o("secbase"));function o(e){try{for(var t=window.location.search.substr(1).split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if(2===r.length&&r[0]===e)return r[1]}}catch(e){return console.error(e),""}return""}function s(){var e=o("source");return{location:i[e]||i.default}}function u(e){var t=e.getAttribute("href");return t&&0===t.indexOf("#")}function c(e){var t=o("source"),n="calendar"===t||"email"===t;return"1"===o("sl")&&!n&&!u(e)}},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.config=function(e){a=Object.assign({},a,e)},t.getSecureLink=function(e,t){void 0===t&&(t={});return s(e,t).targetUrl},t.getWhiteList=function(){return a.whiteList},t.processSecureLink=s,t.updateWhiteList=function(e){a.whiteList=e},t.verify=o,t.SECURE_LINK_SCENE=t.SECURE_LINK_LOG=void 0,t.SECURE_LINK_SCENE=r,function(e){e.MESSENGER="messager",e.CCM="ccm",e.CALENDAR="calendar",e.EMAIL="email",e.OPENPLATFORM="openPlatform",e.VC="vc"}(r||(t.SECURE_LINK_SCENE=r={})),t.SECURE_LINK_LOG=i,function(e){e.MESSENGER_CHAT="messenger_chat",e.MESSENGER_CHAT_SHARED_LINK_CARD="messenger_chat_shared_link_card",e.MESSENGER_SEARCH_LINK="messenger_search_link",e.MESSENGER_INCHAT_SEARCH_LINK="messenger_inchat_search_link",e.MESSENGER_PROFILE="messenger_profile",e.MESSENGER_SITE="messenger_site",e.MESSENGER_FAVORITE="messenger_favorite",e.MESSENGER_PIN="messenger_pin",e.MESSENGER_FILE="messenger_file",e.EVENT_DESCRIPTION="event_description",e.EVENT_ATTACHMENT_PREVIEW="event_attachment_preview",e.EMAIL_BODY="email_body",e.EMAIL_ATTACHMENT_PREVIEW="email_attachment_preview",e.CCM_DOCS="ccm_docs",e.CCM_SHEET="ccm_sheet",e.CCM_BITABLE="ccm_bitable",e.CCM_MINDNOTE="ccm_mindnote",e.CCM_DRIVE="ccm_drive",e.DRIVESDK_CREATION="drivesdk_creation",e.DOCS_SDK_COMMENT="docs_sdk_comment",e.BITABLE_SDK_APPBUILDER="bitable_sdk_appbuilder",e.MESSENGER_GROUP_ANNOUNCEMENT="messenger_group_announcement",e.OPENDOC_CONFERENCE_RECORDS="opendoc_conference_records",e.OP_GADGET="op_gadget",e.OP_MESSAGE_CARD="op_message_card",e.OP_H5="op_H5"}(i||(t.SECURE_LINK_LOG=i={}));var a={enable:!0,whiteList:[],baseUrl:"",interceptors:[]};function o(e){return!a.enable||!("string"!=typeof e||!e)&&(!!/^(mailto|tel):/.test(e)||(/^(?:(\w+)\:)?\/\//.test(e)||(e="http://"+e),function(e){return a.whiteList.some((function(t){return t instanceof RegExp?t.test(e):"string"==typeof t?new RegExp(t).test(e):"function"!=typeof t||t(e)}))}(function(e){try{return new URL(e).hostname}catch(n){var t=/^((\w+):)?(\/\/((\w+)?(:(\w+))?@)?([^\/\?:]+)(:(\d+))?)?(\/?([^\/\?#][^\?#]*)?)?(\?([^#]+))?(#(\w*))?/.exec(e);return t&&t[8]||""}}(e))))}function s(e,t){void 0===t&&(t={});var n=(a.interceptors||[]).reduce((function(t,n){return t||n(e)}),"");if(n)return{secure:!0,targetUrl:n};var i=o(e);return{secure:i,targetUrl:i?e:function(e,t){var n=t.baseUrl||a.baseUrl;if(!n)return e;var i=t.scene||r.CCM,o=function(e){if(e.lang)return e.lang;try{return navigator.language||""}catch(e){return""}}(t),s=encodeURIComponent(e),u=encodeURIComponent(JSON.stringify(t.logParams||{}));return n+"?target="+s+"&scene="+i+"&logParams="+u+"&lang="+o}(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAnnotationLayerFactory=t.AnnotationLayerBuilder=void 0;var r=n(6),i=n(19),a=n(9);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var c=function(){function e(t){var n=t.pageDiv,r=t.pdfPage,i=t.linkService,a=t.downloadManager,s=t.imageResourcesPath,u=void 0===s?"":s,c=t.renderInteractiveForms,l=void 0!==c&&c;o(this,e),this.pageDiv=n,this.pdfPage=r,this.linkService=i,this.downloadManager=a,this.imageResourcesPath=u,this.renderInteractiveForms=l,this.div=null,this._cancelled=!1}return u(e,[{key:"render",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";this.pdfPage.getAnnotations({intent:n}).then((function(n){if(!t._cancelled){var i={viewport:e.clone({dontFlip:!0}),div:t.div,annotations:n,page:t.pdfPage,imageResourcesPath:t.imageResourcesPath,renderInteractiveForms:t.renderInteractiveForms,linkService:t.linkService,downloadManager:t.downloadManager};if(t.div)r.AnnotationLayer.update(i);else{if(0===n.length)return;t.div=document.createElement("div"),t.div.className="annotationLayer";var o=t.pageDiv.querySelector(".".concat(a.GLOBAL_CONSTANT.createCommentLayerClassName));o?t.pageDiv.insertBefore(t.div,o):t.pageDiv.appendChild(t.div),i.div=t.div,r.AnnotationLayer.render(i)}}}))}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]),e}();t.AnnotationLayerBuilder=c;var l=function(){function e(){o(this,e)}return u(e,[{key:"createAnnotationLayerBuilder",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new c({pageDiv:e,pdfPage:t,imageResourcesPath:n,renderInteractiveForms:r,linkService:new i.SimpleLinkService})}}]),e}();t.DefaultAnnotationLayerFactory=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPageView=void 0;var r,i=n(5),a=n(6),o=n(8),s=n(12),u=n(9),c=(r=n(30))&&r.__esModule?r:{default:r};function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=s.viewerCompatibilityParams.maxCanvasPixels||16777216,d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.container,r=t.defaultViewport;this.id=t.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||i.DEFAULT_SCALE,this.viewport=r,this.pdfPageRotate=r.rotation,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:i.TextLayerMode.ENABLE,this.imageResourcesPath=t.imageResourcesPath||"",this.renderInteractiveForms=t.renderInteractiveForms||!1,this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels||f,this.eventBus=t.eventBus||(0,i.getGlobalEventBus)(),this.renderingQueue=t.renderingQueue,this.textLayerFactory=t.textLayerFactory,this.annotationLayerFactory=t.annotationLayerFactory,this.renderer=t.renderer||i.RendererType.CANVAS,this.enableWebGL=t.enableWebGL||!1,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=o.RenderingStates.INITIAL,this.resume=null,this.error=null,this.onBeforeDraw=null,this.onAfterDraw=null,this.annotationLayer=null,this.textLayer=null,this.clickLayer=null,this.zoomLayer=null,this.viewerContainer=t.viewerContainer,this.toggleTextPopupVisible=t.toggleTextPopupVisible,this.setTextPopupPosition=t.setTextPopupPosition,this.setTextPopupPageNumberData=t.setTextPopupPageNumberData,this.announcePageHasBeenCleaned=t.announcePageHasBeenCleaned,this.toggleEditMode=t.toggleEditMode,this.tempRect=null,this.tempPageViewDivClientRect=null,this.currentSelectedTextPosition=null,this.commentLayerDiv=null,this.createCommentLayerDiv=null,this.tempComments=[],this.comments=[];var a=window.navigator.userAgent.toLowerCase();this._isSafari=a.includes("safari")&&!/chrome|android/.test(a);var s=document.createElement("div");s.className="page",s.style.width=Math.floor(this.viewport.width)+"px",s.style.height=Math.floor(this.viewport.height)+"px",s.setAttribute("data-page-number",this.id),this.div=s,n.appendChild(s),this._bindMouse(),this.listenEvents()}var t,n,r;return t=e,(n=[{key:"setPdfPage",value:function(e){this.pdfPage=e,this.pdfPageRotate=e.rotate;var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*i.CSS_UNITS,rotation:t}),this.stats=e.stats,this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"listenEvents",value:function(){window.initialData.isCommentAlawaysShow||this.eventBus.on("toggleCommentMode",this.handleCommentModeChanged.bind(this)),this.eventBus.on("toggleCanCreateRectComment",this.handleCanCreateRectCommentChanged.bind(this)),this.eventBus.on("toggleEditMode",this.handleEditModeChanged.bind(this))}},{key:"handleCommentModeChanged",value:function(e){this.toggleCommentLayerDisplay(e),this.toggleCreateCommentLayerDisplay(e)}},{key:"toggleCommentLayerDisplay",value:function(e){this.commentLayerDiv&&(this.commentLayerDiv.style.display=e?"block":"none")}},{key:"toggleCommentLayerVisibility",value:function(e){this.commentLayerDiv&&(this.commentLayerDiv.style.visibility=e?"visible":"hidden")}},{key:"toggleCreateCommentLayerDisplay",value:function(e){this.createCommentLayerDiv&&(this.createCommentLayerDiv.style.display=e?"block":"none")}},{key:"handleCanCreateRectCommentChanged",value:function(e){this.div&&(e?this.div.classList.add(u.GLOBAL_CONSTANT.pageEditClassName):this.div.classList.remove(u.GLOBAL_CONSTANT.pageEditClassName))}},{key:"handleEditModeChanged",value:function(e){this.toggleCommentLayerVisibility(!e)}},{key:"setInitialComments",value:function(e){this.comments=e,this.commentLayerDiv&&this.drawComments(e)}},{key:"addComment",value:function(e){this.getTempCommentIndex(e.commentId)>-1||(this.commentLayerDiv&&this.drawComments([e]),this.comments.push(e))}},{key:"deleteComment",value:function(e){var t=this.getTempCommentIndex(e.commentId);if(t>-1)this.removeTempCommentByIndex(t);else{var n=this.getCommentIndex(e.commentId);n>-1&&this.removeCommentByIndex(n)}}},{key:"getTempCommentIndex",value:function(e){return this.tempComments.findIndex((function(t){return t.commentId===e}))}},{key:"getCommentIndex",value:function(e){return this.comments.findIndex((function(t){return t.commentId===e}))}},{key:"removeTempCommentByIndex",value:function(e){var t=this.tempComments.splice(e,1)[0];if(this.createCommentLayerDiv&&t){for(var n=this.createCommentLayerDiv.querySelectorAll('[data-temp-id="'.concat(t.commentId,'"]')),r=this.createCommentLayerDiv.querySelectorAll(".".concat(u.GLOBAL_CONSTANT.rectangleControllerClass,"-").concat(t.commentId)),i=0;i<n.length;i++){var a=n[i];a.parentNode.removeChild(a)}for(var o=0;o<r.length;o++){var s=r[o];s.parentNode.removeChild(s)}}}},{key:"removeCommentByIndex",value:function(e){var t=this.comments.splice(e,1)[0];if(this.commentLayerDiv&&t){var n=[];(0,u.isFullCommentType)(t.type)?this.comments.find((function(e){return(0,u.isFullCommentType)(e.type)}))||(n=this.commentLayerDiv.querySelectorAll(".".concat(u.GLOBAL_CONSTANT.fullCommentCLass))):n=this.commentLayerDiv.querySelectorAll('[data-id="'.concat(t.commentId,'"]'));for(var r=0;r<n.length;r++){var i=n[r];i.parentNode.removeChild(i)}}}},{key:"transformClientRectToQuads",value:function(e,t){var n=e.left-t.left,r=n+e.width,i=e.top-t.top,a=i+e.height;return{x1:(0,u.limitNumberDigit)((0,u.limitNumberSize)(n/t.width,1,0)),x2:(0,u.limitNumberDigit)((0,u.limitNumberSize)(n/t.width,1,0)),x3:(0,u.limitNumberDigit)((0,u.limitNumberSize)(r/t.width,1,0)),x4:(0,u.limitNumberDigit)((0,u.limitNumberSize)(r/t.width,1,0)),y1:(0,u.limitNumberDigit)((0,u.limitNumberSize)(i/t.height,1,0)),y2:(0,u.limitNumberDigit)((0,u.limitNumberSize)(a/t.height,1,0)),y3:(0,u.limitNumberDigit)((0,u.limitNumberSize)(a/t.height,1,0)),y4:(0,u.limitNumberDigit)((0,u.limitNumberSize)(i/t.height,1,0))}}},{key:"_bindMouse",value:function(){this.div&&(this.div.addEventListener("mouseleave",this.removeCommentsHighLight.bind(this)),this.div.addEventListener("mousedown",this.handlePageviewMouseDown.bind(this),!1),this.div.addEventListener("mousemove",(0,u.throttle)(this.handlePageviewMouseMove.bind(this),300,{leading:!0,trailing:!0})),this.div.addEventListener("mouseup",this.handlePageviewMouseUp.bind(this)))}},{key:"handlePageviewMouseUp",value:function(e){var t=this;setTimeout((function(){if(!window.getSelection().isCollapsed){var n=window.getSelection().getRangeAt(0);if(n&&t.textLayer.textLayerDiv.contains(n.commonAncestorContainer)){var r=Array.from(n.getClientRects());t._isSafari&&2===r.length&&e.detail>=2&&(r=[r[0]]);var i=t.div.getBoundingClientRect(),a=n.getBoundingClientRect(),o=window.getSelection().toString(),s=o.trim().substr(0,50),c=r.map((function(e){return t.transformClientRectToQuads(e,i)})),l=t.transformClientRectToQuads(a,i),f={page:t.id-1,top:l.y1,bottom:l.y2,left:l.x1,right:l.x4,text:s,quads:c};t.currentSelectedTextPosition=f;var d=(0,u.genTextPopupPosition)(a,t.viewerContainer),h=d.textPopupLeft,p=d.textPopupTop;t.setTextPopupPosition(h,p),t.setTextPopupPageNumberData({pageNumber:t.id,selectedText:o}),t.toggleTextPopupVisible(!0)}}}),0)}},{key:"handlePageviewMouseMove",value:function(e){!u.GLOBAL_STATE.isEditMode&&u.GLOBAL_STATE.isCommentMode&&this.manageMousePositionAndCommentPosition({mouseClientX:e.clientX,mouseClientY:e.clientY,onCommentMatch:this.onMouseMoveMatchComment.bind(this),onNoCommentMatch:this.removeCommentsHighLight.bind(this)})}},{key:"handlePageviewMouseDown",value:function(e){(window.initialData.isCommentAlawaysShow||u.GLOBAL_STATE.isCommentMode)&&this.textLayer&&this.textLayer.textLayerDiv&&this.textLayer.textLayerDiv.contains(e.target)&&(u.GLOBAL_STATE.isEditMode?this.manageMousePositionAndCommentPosition({mouseClientX:e.clientX,mouseClientY:e.clientY,onCommentMatch:this.removeOutsideActiveCommentId.bind(this),onNoCommentMatch:this.removeOutsideActiveCommentId.bind(this)}):this.manageMousePositionAndCommentPosition({mouseClientX:e.clientX,mouseClientY:e.clientY,onCommentMatch:this.setOutsideActiveCommentId.bind(this),onNoCommentMatch:this.removeOutsideActiveCommentId.bind(this)}))}},{key:"handleScaleClick",value:function(){(0,u.sendMessage)(u.IFRAME_EVENT.ON_SCALE_CLICK,{});var e=this.clickLayer;e.className="clickLayer default-cursor",e.addEventListener("mousemove",(function t(){e.className="clickLayer",e.removeEventListener("mousemove",t)}))}},{key:"removeOutsideActiveCommentId",value:function(){(0,u.sendMessage)(u.IFRAME_EVENT.SET_ACTIVE_COMMENT,{commentId:null})}},{key:"setOutsideActiveCommentId",value:function(e){(0,u.sendMessage)(u.IFRAME_EVENT.SET_ACTIVE_COMMENT,{commentId:e})}},{key:"onMouseMoveMatchComment",value:function(e){var t=this.commentLayerDiv.querySelectorAll('[data-id="'.concat(e,'"]'));this.removeCommentsHighLight(),this.highlightComments(t)}},{key:"manageMousePositionAndCommentPosition",value:function(e){var t=e.mouseClientX,n=e.mouseClientY,r=e.onCommentMatch,i=e.onNoCommentMatch,a=this.div.getBoundingClientRect(),o=a.width,s=a.height,c=(t-a.left)/o,l=(n-a.top)/s;if(!(!this.commentLayerDiv||c<0||l<0||c>1||l>1)){for(var f=0;f<this.comments.length;f++){var d=this.comments[f],h=d.type,p=d.position,v=d.commentId;if(p)if(h===u.COMMENT_TYPE.TEXT){if(!p.quads)continue;for(var g=0;g<p.quads.length;g++){var m=p.quads[g],y=Math.min(m.y1,m.y2,m.y3,m.y4),b=Math.max(m.y1,m.y2,m.y3,m.y4),_=Math.min(m.x1,m.x2,m.x3,m.x4);if(c<Math.max(m.x1,m.x2,m.x3,m.x4)&&c>_&&l>y&&l<b)return void(r&&r(v))}}else if(h===u.COMMENT_TYPE.RECT){var w=u.GLOBAL_CONSTANT.MATCH_RECT_BORDER_RANGE,S=p.top-w,A=p.bottom+w,C=p.left-w,P=p.right+w;if(c>C&&c<P&&l>S&&l<A&&(l<p.top+w||l>p.bottom-w||c<p.left+w||c>p.right-w))return void(r&&r(v))}}i&&i()}}},{key:"setTempRectStyle",value:function(e){var t=e.mouseClientX,n=e.mouseClientY,r=e.createRectStartOffsetPosition;if(this.createCommentLayerDiv){if(!this.tempRect){var i=document.createElement("div");return this.tempRect=i,this.tempRect.setAttribute("data-temp-id",(0,u.genUUID)()),this.tempRect.className="".concat(u.GLOBAL_CONSTANT.createCommentClass," ").concat(u.GLOBAL_CONSTANT.createCommentRectClass),this.createCommentLayerDiv.appendChild(i),this.tempPageViewDivClientRect=this.div.getBoundingClientRect(),this.viewerContainer&&this.viewerContainer.classList.add("unselectable"),this.textLayer&&this.textLayer.textLayerDiv&&this.textLayer.textLayerDiv.classList.add("unresponsive"),void this.toggleEditMode(!0)}if(this.tempPageViewDivClientRect){var a=t-this.tempPageViewDivClientRect.left,o=n-this.tempPageViewDivClientRect.top,s=a>r.x,c=o>r.y;if(s){var l=this.tempPageViewDivClientRect.width-r.x;if(this.tempRect.style.width="".concat(Math.min(l,Math.abs(a-r.x)),"px"),this.tempRect.style.left="".concat(r.x,"px"),c){var f=this.tempPageViewDivClientRect.height-r.y;this.tempRect.style.height="".concat(Math.min(f,Math.abs(o-r.y)),"px"),this.tempRect.style.top="".concat(r.y,"px")}else{var d=r.y;this.tempRect.style.height="".concat(Math.min(d,Math.abs(r.y-o)),"px"),this.tempRect.style.top="".concat(Math.max(0,o),"px")}}else{var h=r.x;if(this.tempRect.style.width="".concat(Math.min(h,Math.abs(r.x-a)),"px"),this.tempRect.style.left="".concat(Math.max(0,a),"px"),c){var p=this.tempPageViewDivClientRect.height-r.y;this.tempRect.style.height="".concat(Math.min(p,Math.abs(o-r.y)),"px"),this.tempRect.style.top="".concat(r.y,"px")}else{var v=r.y;this.tempRect.style.height="".concat(Math.min(v,Math.abs(r.y-o)),"px"),this.tempRect.style.top="".concat(Math.max(0,o),"px")}}}}}},{key:"setMoveableRect",value:function(){if(this.createCommentLayerDiv&&this.tempRect){this.viewerContainer&&this.viewerContainer.classList.remove("unselectable"),this.textLayer&&this.textLayer.textLayerDiv&&this.textLayer.textLayerDiv.classList.remove("unresponsive");var e=this.tempRect.getAttribute("data-temp-id"),t=this.div.getBoundingClientRect();this.createMoveableRect(this.tempRect,t.width,t.height);var n={commentId:e,position:{page:this.id-1,left:(0,u.limitNumberDigit)((0,u.limitNumberSize)(this.tempRect.offsetLeft/t.width,1,0)),right:(0,u.limitNumberDigit)((0,u.limitNumberSize)((this.tempRect.offsetLeft+this.tempRect.offsetWidth)/t.width,1,0)),top:(0,u.limitNumberDigit)((0,u.limitNumberSize)(this.tempRect.offsetTop/t.height,1,0)),bottom:(0,u.limitNumberDigit)((0,u.limitNumberSize)((this.tempRect.offsetTop+this.tempRect.offsetHeight)/t.height,1,0))},type:u.COMMENT_TYPE.RECT};this.tempComments.push(n),this.createNewComment(n),this.tempRect=null}}},{key:"createMoveableRect",value:function(e,t,n){var r={translate:[0,0]},i=e.getAttribute("data-temp-id");e.addEventListener("click",this.setOutsideActiveCommentId.bind(this,i),!1);var a=new c.default(this.createCommentLayerDiv,{target:e,draggable:!0,edge:!0,resizable:!0,origin:!1,snappable:!0,throttleResize:0,throttleDrag:0,bounds:{left:0,top:0,right:t,bottom:n},className:"".concat(u.GLOBAL_CONSTANT.rectangleControllerClass," ").concat(u.GLOBAL_CONSTANT.rectangleControllerClass,"-").concat(i)});return a.on("dragStart",(function(e){(0,e.set)(r.translate)})).on("drag",(function(e){var t=e.target,n=e.beforeTranslate;r.translate=n,t.style.transform="translate(".concat(n[0],"px, ").concat(n[1],"px)")})).on("dragEnd",this.updateTempRectCommentPosition.bind(this)).on("resizeStart",(function(e){var t=e.setOrigin,n=e.dragStart;t(["%","%"]),n&&n.set(r.translate)})).on("resize",(function(e){var t=e.target,n=e.width,i=e.height,a=e.drag;t.style.width="".concat(n,"px"),t.style.height="".concat(i,"px"),r.translate=a.beforeTranslate,t.style.transform="translate(".concat(a.beforeTranslate[0],"px, ").concat(a.beforeTranslate[1],"px)")})).on("resizeEnd",this.updateTempRectCommentPosition.bind(this)),a}},{key:"updateTempRectCommentPosition",value:function(e){var t=e.target,n=this.tempComments.find((function(e){return e.commentId===t.getAttribute("data-temp-id")}));if(n){var r=this.div.getBoundingClientRect(),i=t.getBoundingClientRect(),a=i.left-r.left,o=i.top-r.top,s={commentId:n.commentId,position:{page:this.id-1,left:(0,u.limitNumberDigit)((0,u.limitNumberSize)(a/r.width,1,0)),right:(0,u.limitNumberDigit)((0,u.limitNumberSize)((a+i.width)/r.width,1,0)),top:(0,u.limitNumberDigit)((0,u.limitNumberSize)(o/r.height,1,0)),bottom:(0,u.limitNumberDigit)((0,u.limitNumberSize)((o+i.height)/r.height,1,0))}};n.position=s.position,this.updateNewComment(s)}}},{key:"createTempTextCommentFragment",value:function(e,t){for(var n=document.createDocumentFragment(),r=0;r<e.length;r++){var i=document.createElement("div");i.className="".concat(u.GLOBAL_CONSTANT.createCommentClass," ").concat(u.GLOBAL_CONSTANT.createCommentTextClass),i.style.top=100*e[r].y1+"%",i.style.left=100*e[r].x1+"%",i.style.width=100*(e[r].x4-e[r].x1)+"%",i.style.height=100*(e[r].y2-e[r].y1)+"%",i.setAttribute("data-temp-id",t),i.addEventListener("click",this.setOutsideActiveCommentId.bind(this,t),!1),n.appendChild(i)}return n}},{key:"setTempTextComment",value:function(){if(this.currentSelectedTextPosition&&this.currentSelectedTextPosition.quads){var e=(0,u.genUUID)(),t=this.currentSelectedTextPosition.quads,n=this.createTempTextCommentFragment(t,e);this.createCommentLayerDiv.appendChild(n);var r={commentId:e,position:JSON.parse(JSON.stringify(this.currentSelectedTextPosition)),type:u.COMMENT_TYPE.TEXT};this.tempComments.push(r),this.toggleEditMode(!0),this.createNewComment(r)}}},{key:"showCopilot",value:function(){if(this.currentSelectedTextPosition&&this.currentSelectedTextPosition.quads){var e={position:JSON.parse(JSON.stringify(this.currentSelectedTextPosition))};(0,u.sendMessage)(u.IFRAME_EVENT.SHOW_COPILOT,e)}}},{key:"confirmPrompt",value:function(e){if(this.currentSelectedTextPosition&&this.currentSelectedTextPosition.quads){var t={prompt:e,position:JSON.parse(JSON.stringify(this.currentSelectedTextPosition))};(0,u.sendMessage)(u.IFRAME_EVENT.CONFIRM_PROMPT,t)}}},{key:"createNewComment",value:function(e){(0,u.sendMessage)(u.IFRAME_EVENT.CREATE_NEW_COMMENT,{commentId:e.commentId,position:e.position,type:e.type})}},{key:"updateNewComment",value:function(e){(0,u.sendMessage)(u.IFRAME_EVENT.UPDATE_NEW_COMMENT,{commentId:e.commentId,position:e.position})}},{key:"removeCommentsHighLight",value:function(){for(var e=document.querySelectorAll(".".concat(u.GLOBAL_CONSTANT.highLightClass)),t=0;t<e.length;t++)e[t].classList.remove("".concat(u.GLOBAL_CONSTANT.highLightClass))}},{key:"highlightComments",value:function(e){for(var t=0;t<e.length;t++)e[t].classList.add("".concat(u.GLOBAL_CONSTANT.highLightClass))}},{key:"activateComment",value:function(e){if(this.commentLayerDiv){var t=this.comments.find((function(t){return t.commentId===e}));if(t)if((0,u.isFullCommentType)(t.type))this.commentLayerDiv.querySelector(".".concat(u.GLOBAL_CONSTANT.fullCommentCLass)).classList.add("".concat(u.GLOBAL_CONSTANT.activeClass));else for(var n=this.commentLayerDiv.querySelectorAll('[data-id="'.concat(e,'"]')),r=0;r<n.length;r++)n[r].classList.add("".concat(u.GLOBAL_CONSTANT.activeClass))}}},{key:"_resetZoomLayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var t=this.zoomLayer.firstChild;this.paintedViewportMap.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.cancelRendering(t);var n=this.div;n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px";for(var r=n.childNodes,i=e&&this.zoomLayer||null,a=t&&this.annotationLayer&&this.annotationLayer.div||null,o=r.length-1;o>=0;o--){var s=r[o];i!==s&&a!==s&&n.removeChild(s)}n.removeAttribute("data-loaded"),a?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),i||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",n.appendChild(this.loadingIconDiv),this.announcePageHasBeenCleaned(this.id),this.commentLayerDiv=null,this.createCommentLayerDiv=null}},{key:"update",value:function(e,t){this.scale=e||this.scale,void 0!==t&&(this.rotation=t);var n=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*i.CSS_UNITS,rotation:n}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});var r=!1;if(this.canvas&&this.maxCanvasPixels>0){var a=this.outputScale;(Math.floor(this.viewport.width)*a.sx|0)*(Math.floor(this.viewport.height)*a.sy|0)>this.maxCanvasPixels&&(r=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&r)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}},{key:"cancelRendering",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.renderingState;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.renderingState=o.RenderingStates.INITIAL,this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!e&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),t!==o.RenderingStates.INITIAL&&this.eventBus.dispatch("pagecancelled",{source:this,pageNumber:this.id,renderingState:t})}},{key:"cssTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.viewport.width,r=this.viewport.height,i=this.div;e.style.width=e.parentNode.style.width=i.style.width=Math.floor(n)+"px",e.style.height=e.parentNode.style.height=i.style.height=Math.floor(r)+"px";var a=this.viewport.rotation-this.paintedViewportMap.get(e).rotation,o=Math.abs(a),s=1,u=1;90!==o&&270!==o||(s=r/n,u=n/r);var c="rotate("+a+"deg) scale("+s+","+u+")";if(e.style.transform=c,this.textLayer){var l=this.textLayer.viewport,f=this.viewport.rotation-l.rotation,d=Math.abs(f),h=n/l.width;90!==d&&270!==d||(h=n/l.height);var p,v,g=this.textLayer.textLayerDiv;switch(d){case 0:p=v=0;break;case 90:p=0,v="-"+g.style.height;break;case 180:p="-"+g.style.width,v="-"+g.style.height;break;case 270:p="-"+g.style.width,v=0;break;default:console.error("Bad rotation value.")}g.style.transform="rotate("+d+"deg) scale("+h+", "+h+") translate("+p+", "+v+")",g.style.transformOrigin="0% 0%"}t&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(e,t){return this.viewport.convertToPdfPoint(e,t)}},{key:"renderTempRectComment",value:function(e){if(this.createCommentLayerDiv&&e.position){var t=this.div.getBoundingClientRect(),n=document.createElement("div");n.setAttribute("data-temp-id",e.commentId),n.className="".concat(u.GLOBAL_CONSTANT.createCommentClass," ").concat(u.GLOBAL_CONSTANT.createCommentRectClass),n.style.top="".concat(t.height*e.position.top,"px"),n.style.left="".concat(t.width*e.position.left,"px"),n.style.width="".concat(t.width*(e.position.right-e.position.left),"px"),n.style.height="".concat(t.height*(e.position.bottom-e.position.top),"px"),this.createCommentLayerDiv.appendChild(n),this.createMoveableRect(n,t.width,t.height)}}},{key:"renderRectComment",value:function(e){if(this.commentLayerDiv&&e.position&&!this.isCommentDrawn(e.commentId)){var t=document.createElement("div");t.style.top=100*e.position.top+"%",t.style.left=100*e.position.left+"%",t.style.width=100*(e.position.right-e.position.left)+"%",t.style.height=100*(e.position.bottom-e.position.top)+"%",t.className="".concat(u.GLOBAL_CONSTANT.commentClass," ").concat(u.GLOBAL_CONSTANT.rectangleCommentClass),t.setAttribute("data-id",e.commentId),this.commentLayerDiv.appendChild(t)}}},{key:"renderTempTextComment",value:function(e){if(this.createCommentLayerDiv&&e.position&&e.position.quads){var t=e.position.quads,n=e.commentId,r=this.createTempTextCommentFragment(t,n);this.createCommentLayerDiv.appendChild(r)}}},{key:"renderTextComment",value:function(e){if(this.commentLayerDiv&&e.position&&e.position.quads&&!this.isCommentDrawn(e.commentId)){for(var t=e.position.quads,n=document.createDocumentFragment(),r=0;r<t.length;r++){var i=document.createElement("div");i.className="".concat(u.GLOBAL_CONSTANT.commentClass," ").concat(u.GLOBAL_CONSTANT.textCommentClass);var a=Math.min(t[r].y1,t[r].y2,t[r].y3,t[r].y4),o=Math.max(t[r].y1,t[r].y2,t[r].y3,t[r].y4),s=Math.min(t[r].x1,t[r].x2,t[r].x3,t[r].x4),c=Math.max(t[r].x1,t[r].x2,t[r].x3,t[r].x4);i.style.top=100*a+"%",i.style.left=100*s+"%",i.style.width=100*(c-s)+"%",i.style.height=100*(o-a)+"%",i.setAttribute("data-id",e.commentId),n.appendChild(i)}this.commentLayerDiv.appendChild(n)}}},{key:"renderFullPageComment",value:function(){if(this.commentLayerDiv&&!this.commentLayerDiv.querySelector(".".concat(u.GLOBAL_CONSTANT.fullCommentCLass))){var e=document.createElement("div");e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.className="".concat(u.GLOBAL_CONSTANT.commentClass," ").concat(u.GLOBAL_CONSTANT.fullCommentCLass),this.commentLayerDiv.appendChild(e)}}},{key:"isCommentDrawn",value:function(e){return Boolean(this.commentLayerDiv&&this.commentLayerDiv.querySelector('[data-id="'.concat(e,'"]')))}},{key:"drawComments",value:function(e){var t=this;e&&e.forEach((function(e){e.type===u.COMMENT_TYPE.TEXT?t.renderTextComment(e):e.type===u.COMMENT_TYPE.RECT?t.renderRectComment(e):t.renderFullPageComment(),e.commentId===u.GLOBAL_STATE.activeCommentId&&t.activateComment(e.commentId)}))}},{key:"draw",value:function(){var e=this;if(this.renderingState!==o.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset()),!this.pdfPage)return this.renderingState=o.RenderingStates.FINISHED,Promise.reject(new Error("Page is not loaded"));this.renderingState=o.RenderingStates.RUNNING;var t=this.pdfPage,n=this.div,r=document.createElement("div");r.style.width=n.style.width,r.style.height=n.style.height,r.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?n.insertBefore(r,this.annotationLayer.div):n.appendChild(r);var s=document.createElement("div");this.commentLayerDiv=s,window.initialData.isCommentAlawaysShow||(s.style.display=u.GLOBAL_STATE.isCommentMode?"block":"none"),s.style.visibility=u.GLOBAL_STATE.isEditMode?"hidden":"visible",s.style.width=n.style.width,s.style.height=n.style.height,s.className="commentLayer",this.annotationLayer&&this.annotationLayer.div?n.insertBefore(s,this.annotationLayer.div):n.appendChild(s),this.drawComments(this.comments);var c=null;if(this.textLayerMode!==i.TextLayerMode.DISABLE&&this.textLayerFactory){var l=document.createElement("div");l.className="textLayer",l.setAttribute("data-page-number",this.id),l.style.width=r.style.width,l.style.height=r.style.height,this.annotationLayer&&this.annotationLayer.div?n.insertBefore(l,this.annotationLayer.div):n.appendChild(l),c=this.textLayerFactory.createTextLayerBuilder(l,this.id-1,this.viewport,this.textLayerMode===i.TextLayerMode.ENABLE_ENHANCE)}this.textLayer=c;var f=window.initialData.isClickLayerDisplay,d=document.createElement("div");d.style.display=f?"block":"none",d.className="clickLayer",d.style.width=r.style.width,d.style.height=r.style.height,d.addEventListener("click",(0,u.throttle)(this.handleScaleClick.bind(this),200,{leading:!0,trailing:!1}),!1),this.annotationLayer&&this.annotationLayer.div?n.insertBefore(d,this.annotationLayer.div):n.appendChild(d),this.clickLayer=d;var h=document.createElement("div");this.createCommentLayerDiv=h,h.className=u.GLOBAL_CONSTANT.createCommentLayerClassName,window.initialData.isCommentAlawaysShow||(h.style.display=u.GLOBAL_STATE.isCommentMode?"block":"none"),n.appendChild(h),this.tempComments.forEach((function(t){t.type===u.COMMENT_TYPE.TEXT?e.renderTempTextComment(t):t.type===u.COMMENT_TYPE.RECT&&e.renderTempRectComment(t)}));var p=null;this.renderingQueue&&(p=function(t){if(!e.renderingQueue.isHighestPriority(e))return e.renderingState=o.RenderingStates.PAUSED,void(e.resume=function(){e.renderingState=o.RenderingStates.RUNNING,t()});t()});var v=function(r){return g===e.paintTask&&(e.paintTask=null),r instanceof a.RenderingCancelledException?(e.error=null,Promise.resolve(void 0)):(e.renderingState=o.RenderingStates.FINISHED,e.loadingIconDiv&&(n.removeChild(e.loadingIconDiv),delete e.loadingIconDiv),e._resetZoomLayer(!0),e.error=r,e.stats=t.stats,e.onAfterDraw&&e.onAfterDraw(),e.eventBus.dispatch("pagerendered",{source:e,pageNumber:e.id,cssTransform:!1}),r?Promise.reject(r):Promise.resolve(void 0))},g=this.renderer===i.RendererType.SVG?this.paintOnSvg(r):this.paintOnCanvas(r);g.onRenderContinue=p,this.paintTask=g;var m=g.promise.then((function(){return v(null).then((function(){if(c){var e=t.streamTextContent({normalizeWhitespace:!0});c.setTextContentStream(e),c.render()}}))}),(function(e){return v(e)}));return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(n,t,this.imageResourcesPath,this.renderInteractiveForms)),this.annotationLayer.render(this.viewport,"display")),n.setAttribute("data-loaded",!0),this.onBeforeDraw&&this.onBeforeDraw(),m}},{key:"paintOnCanvas",value:function(e){var t=(0,a.createPromiseCapability)(),n={promise:t.promise,onRenderContinue:function(e){e()},cancel:function(){m.cancel()}},r=this.viewport,o=document.createElement("canvas");o.id=this.renderingId,o.setAttribute("hidden","hidden");var s=!0,u=function(){s&&(o.removeAttribute("hidden"),s=!1)};e.appendChild(o),this.canvas=o,o.mozOpaque=!0;var c=o.getContext("2d",{alpha:!1}),l=(0,i.getOutputScale)(c);if(this.outputScale=l,this.useOnlyCssZoom){var f=r.clone({scale:i.CSS_UNITS});l.sx*=f.width/r.width,l.sy*=f.height/r.height,l.scaled=!0}if(this.maxCanvasPixels>0){var d=r.width*r.height,h=Math.sqrt(this.maxCanvasPixels/d);l.sx>h||l.sy>h?(l.sx=h,l.sy=h,l.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var p=(0,i.approximateFraction)(l.sx),v=(0,i.approximateFraction)(l.sy);o.width=(0,i.roundToDivide)(r.width*l.sx,p[0]),o.height=(0,i.roundToDivide)(r.height*l.sy,v[0]),o.style.width=(0,i.roundToDivide)(r.width,p[1])+"px",o.style.height=(0,i.roundToDivide)(r.height,v[1])+"px",this.paintedViewportMap.set(o,r);var g={canvasContext:c,transform:l.scaled?[l.sx,0,0,l.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms},m=this.pdfPage.render(g);return m.onContinue=function(e){u(),n.onRenderContinue?n.onRenderContinue(e):e()},m.promise.then((function(){u(),t.resolve(void 0)}),(function(e){u(),t.reject(e)})),n}},{key:"paintOnSvg",value:function(e){var t=this,n=!1,r=function(){if(n)throw new a.RenderingCancelledException("Rendering cancelled, page "+t.id,"svg")},s=this.pdfPage,u=this.viewport.clone({scale:i.CSS_UNITS});return{promise:s.getOperatorList().then((function(n){return r(),new a.SVGGraphics(s.commonObjs,s.objs).getSVG(n,u).then((function(n){r(),t.svg=n,t.paintedViewportMap.set(n,u),n.style.width=e.style.width,n.style.height=e.style.height,t.renderingState=o.RenderingStates.FINISHED,e.appendChild(n)}))})),onRenderContinue:function(e){e()},cancel:function(){n=!0}}}},{key:"setPageLabel",value:function(e){this.pageLabel="string"==typeof e?e:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}])&&l(t.prototype,n),r&&l(t,r),e}();t.PDFPageView=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROPERTIES=t.EVENTS=t.default=void 0;var r=c(n(31)),i=n(32),a=n(33),o=n(34),s=c(n(36)),u=n(38);function c(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=function(e,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function d(e,t){function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n.state=n.props,n}return d(t,e),t.prototype.render=function(){return(0,o.createPortal)((0,a.h)(s.default,h({ref:(0,i.ref)(this,"preactMoveable")},this.state)),this.state.parentElement)},t}(a.Component),v=["draggable","resizable","scalable","rotatable","warpable","pinchable","snappable","origin","target","edge","throttleDrag","throttleResize","throttleScale","throttleRotate","keepRatio","dragArea","pinchThreshold","snapCenter","snapThreshold","horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","className","renderDirections","scrollable","getScrollPosition","scrollContainer","scrollThreshold","baseDirection"];t.PROPERTIES=v;var g=["dragStart","drag","dragEnd","resizeStart","resize","resizeEnd","scaleStart","scale","scaleEnd","rotateStart","rotate","rotateEnd","warpStart","warp","warpEnd","pinchStart","pinch","pinchEnd","dragGroupStart","dragGroup","dragGroupEnd","resizeGroupStart","resizeGroup","resizeGroupEnd","scaleGroupStart","scaleGroup","scaleGroupEnd","rotateGroupStart","rotateGroup","rotateGroupEnd","pinchGroupStart","pinchGroup","pinchGroupEnd","clickGroup","scroll","scrollGroup","renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"];t.EVENTS=g;var m=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;r.tempElement=document.createElement("div");var o=h({container:t},n),s={};g.forEach((function(e){s[(0,u.camelize)("on "+e)]=function(t){return r.trigger(e,t)}})),(0,a.render)((0,a.h)(p,h({ref:(0,i.ref)(r,"innerMoveable"),parentElement:t},o,s)),r.tempElement);var c=o.target;return(0,u.isArray)(c)&&c.length>1&&r.updateRect(),r}d(t,e);var n=t.prototype;return n.isMoveableElement=function(e){return this.getMoveable().isMoveableElement(e)},n.updateRect=function(){this.getMoveable().updateRect()},n.dragStart=function(e){this.getMoveable().dragStart(e)},n.isInside=function(e,t){return this.getMoveable().isInside(e,t)},n.getRect=function(){return this.getMoveable().getRect()},n.setState=function(e,t){this.innerMoveable.setState(e,t)},n.updateTarget=function(){this.getMoveable().updateTarget()},n.destroy=function(){(0,a.render)("",this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},n.getMoveable=function(){return this.innerMoveable.preactMoveable},t=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}([(0,i.Properties)(v,(function(e,t){Object.defineProperty(e,t,{get:function(){return this.getMoveable().props[t]},set:function(e){var n;this.setState(((n={})[t]=e,n))},enumerable:!0,configurable:!0})}))],t)}(r.default);t.default=m},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return void 0===e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){var e=function(){function e(){this._eventHandler={},this.options={}}var t=e.prototype;return t.trigger=function(e,t){void 0===t&&(t={});var n=this._eventHandler[e]||[],r=n.length>0;if(!r)return!0;n=n.concat(),t.eventType=e;var i=!1,a=[t],o=0;t.stop=function(){i=!0},t.currentTarget=this;for(var s=arguments.length,u=new Array(s>2?s-2:0),c=2;c<s;c++)u[c-2]=arguments[c];for(u.length>=1&&(a=a.concat(u)),o=0;n[o];o++)n[o].apply(this,a);return!i},t.once=function(e,t){if("object"===r(e)&&i(t)){var n,a=e;for(n in a)this.once(n,a[n]);return this}if("string"==typeof e&&"function"==typeof t){var o=this;this.on(e,(function n(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t.apply(o,i),o.off(e,n)}))}return this},t.hasOn=function(e){return!!this._eventHandler[e]},t.on=function(e,t){if("object"===r(e)&&i(t)){var n,a=e;for(n in a)this.on(n,a[n]);return this}if("string"==typeof e&&"function"==typeof t){var o=this._eventHandler[e];i(o)&&(this._eventHandler[e]=[],o=this._eventHandler[e]),o.push(t)}return this},t.off=function(e,t){if(i(e))return this._eventHandler={},this;if(i(t)){if("string"==typeof e)return this._eventHandler[e]=void 0,this;var n,r=e;for(n in r)this.off(n,r[n]);return this}var a,o,s=this._eventHandler[e];if(s)for(a=0;void 0!==(o=s[a]);a++)if(o===t){s=s.splice(a,1);break}return this},e}();return e.VERSION="2.1.2",e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Properties=function(e,t){return function(n){var r=n.prototype;e.forEach((function(e){t(r,e)}))}},t.prefixCSS=function(e,t){return t.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")},t.prefixNames=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map((function(t){return t.split(" ").map((function(t){return t?""+e+t:""})).join(" ")})).join(" ")},t.ref=function(e,t){return function(n){n&&(e[t]=n)}},t.refs=function(e,t,n){return function(r){r&&(e[t][n]=r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=I,t.hydrate=function(e,t){I(e,t,u)},t.h=t.createElement=v,t.Fragment=m,t.createRef=function(){return{}},t.Component=y,t.cloneElement=function(e,t){return t=h(h({},e.props),t),arguments.length>2&&(t.children=f.slice.call(arguments,2)),g(e.type,t,t.key||e.key,t.ref||e.ref)},t.createContext=function(e){var t={},n={__c:"__cC"+c++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,i=this;return this.getChildContext||(r=[],this.getChildContext=function(){return t[n.__c]=i,t},this.shouldComponentUpdate=function(t){e.value!==t.value&&r.some((function(e){e.context=t.value,w(e)}))},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Consumer.contextType=n,n},t.toChildArray=C,t._unmount=M,t.options=t.isValidElement=void 0;var r,i,a,o,s,u,c,l={},f=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function h(e,t){for(var n in t)e[n]=t[n];return e}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function v(e,t,n){var r,i,a,o,s=arguments;if(t=h({},t),arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(s[r]);if(null!=n&&(t.children=n),null!=e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===t[i]&&(t[i]=e.defaultProps[i]);return o=t.key,null!=(a=t.ref)&&delete t.ref,null!=o&&delete t.key,g(e,t,o,a)}function g(e,t,n,i){var a={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:null,__c:null,constructor:void 0};return r.vnode&&r.vnode(a),a}function m(e){return e.children}function y(e,t){this.props=e,this.context=t}function b(e,t){if(null==t)return e.__?b(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?b(e):null}function _(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return _(e)}}function w(e){(!e.__d&&(e.__d=!0)&&1===a.push(e)||s!==r.debounceRendering)&&((s=r.debounceRendering)||o)(S)}function S(){var e,t,n,r,i,o,s;for(a.sort((function(e,t){return t.__v.__b-e.__v.__b}));e=a.pop();)e.__d&&(n=void 0,r=void 0,o=(i=(t=e).__v).__e,(s=t.__P)&&(n=[],r=x(s,i,h({},i),t.__n,void 0!==s.ownerSVGElement,null,n,null==o?b(i):o),k(n,i),r!=o&&_(i)))}function A(e,t,n,r,i,a,o,s,u){var c,d,h,v,g,m,y,_=n&&n.__k||f,w=_.length;if(s==l&&(s=null!=a?a[0]:w?b(n,0):null),c=0,t.__k=C(t.__k,(function(n){if(null!=n){if(n.__=t,n.__b=t.__b+1,null===(h=_[c])||h&&n.key==h.key&&n.type===h.type)_[c]=void 0;else for(d=0;d<w;d++){if((h=_[d])&&n.key==h.key&&n.type===h.type){_[d]=void 0;break}h=null}if(v=x(e,n,h=h||l,r,i,a,o,s,u),(d=n.ref)&&h.ref!=d&&(y||(y=[]),h.ref&&y.push(h.ref,null,n),y.push(d,n.__c||v,n)),null!=v){if(null==m&&(m=v),null!=n.__d)v=n.__d,n.__d=null;else if(a==h||v!=s||null==v.parentNode){e:if(null==s||s.parentNode!==e)e.appendChild(v);else{for(g=s,d=0;(g=g.nextSibling)&&d<w;d+=2)if(g==v)break e;e.insertBefore(v,s)}"option"==t.type&&(e.value="")}s=v.nextSibling,"function"==typeof t.type&&(t.__d=v)}}return c++,n})),t.__e=m,null!=a&&"function"!=typeof t.type)for(c=a.length;c--;)null!=a[c]&&p(a[c]);for(c=w;c--;)null!=_[c]&&M(_[c],_[c]);if(y)for(c=0;c<y.length;c++)R(y[c],y[++c],y[++c])}function C(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)C(e[r],t,n);else n.push(t?t("string"==typeof e||"number"==typeof e?g(null,e,null,null):null!=e.__e||null!=e.__c?g(e.type,e.props,e.key,null):e):e);return n}function P(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===d.test(t)?n+"px":null==n?"":n}function E(e,t,n,r,i){var a,o,s,u,c;if(i?"className"===t&&(t="class"):"class"===t&&(t="className"),"key"===t||"children"===t);else if("style"===t)if(a=e.style,"string"==typeof n)a.cssText=n;else{if("string"==typeof r&&(a.cssText="",r=null),r)for(o in r)n&&o in n||P(a,o,"");if(n)for(s in n)r&&n[s]===r[s]||P(a,s,n[s])}else"o"===t[0]&&"n"===t[1]?(u=t!==(t=t.replace(/Capture$/,"")),c=t.toLowerCase(),t=(c in e?c:t).slice(2),n?(r||e.addEventListener(t,T,u),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,T,u)):"list"!==t&&"tagName"!==t&&"form"!==t&&!i&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n?e.removeAttribute(t):e.setAttribute(t,n))}function T(e){this.l[e.type](r.event?r.event(e):e)}function x(e,t,n,i,a,o,s,u,c){var l,f,d,p,v,g,b,_,w,S,P=t.type;if(void 0!==t.constructor)return null;(l=r.__b)&&l(t);try{e:if("function"==typeof P){if(_=t.props,w=(l=P.contextType)&&i[l.__c],S=l?w?w.props.value:l.__:i,n.__c?b=(f=t.__c=n.__c).__=f.__E:("prototype"in P&&P.prototype.render?t.__c=f=new P(_,S):(t.__c=f=new y(_,S),f.constructor=P,f.render=L),w&&w.sub(f),f.props=_,f.state||(f.state={}),f.context=S,f.__n=i,d=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=P.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=h({},f.__s)),h(f.__s,P.getDerivedStateFromProps(_,f.__s))),p=f.props,v=f.state,d)null==P.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==P.getDerivedStateFromProps&&null==f.__e&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(_,S),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(_,f.__s,S)){for(f.props=_,f.state=f.__s,f.__d=!1,f.__v=t,t.__e=n.__e,t.__k=n.__k,f.__h.length&&s.push(f),l=0;l<t.__k.length;l++)t.__k[l]&&(t.__k[l].__=t);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(_,f.__s,S),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(p,v,g)}))}f.context=S,f.props=_,f.state=f.__s,(l=r.__r)&&l(t),f.__d=!1,f.__v=t,f.__P=e,l=f.render(f.props,f.state,f.context),t.__k=C(null!=l&&l.type==m&&null==l.key?l.props.children:l),null!=f.getChildContext&&(i=h(h({},i),f.getChildContext())),d||null==f.getSnapshotBeforeUpdate||(g=f.getSnapshotBeforeUpdate(p,v)),A(e,t,n,i,a,o,s,u,c),f.base=t.__e,f.__h.length&&s.push(f),b&&(f.__E=f.__=null),f.__e=null}else t.__e=O(n.__e,t,n,i,a,o,s,c);(l=r.diffed)&&l(t)}catch(e){r.__e(e,t,n)}return t.__e}function k(e,t){r.__c&&r.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){r.__e(e,t.__v)}}))}function O(e,t,n,r,i,a,o,s){var u,c,d,h,p,v=n.props,g=t.props;if(i="svg"===t.type||i,null==e&&null!=a)for(u=0;u<a.length;u++)if(null!=(c=a[u])&&(null===t.type?3===c.nodeType:c.localName===t.type)){e=c,a[u]=null;break}if(null==e){if(null===t.type)return document.createTextNode(g);e=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type),a=null}if(null===t.type)null!=a&&(a[a.indexOf(e)]=null),v!==g&&(e.data=g);else if(t!==n){if(null!=a&&(a=f.slice.call(e.childNodes)),d=(v=n.props||l).dangerouslySetInnerHTML,h=g.dangerouslySetInnerHTML,!s){if(v===l)for(v={},p=0;p<e.attributes.length;p++)v[e.attributes[p].name]=e.attributes[p].value;(h||d)&&(h&&d&&h.__html==d.__html||(e.innerHTML=h&&h.__html||""))}(function(e,t,n,r,i){var a;for(a in n)a in t||E(e,a,null,n[a],r);for(a in t)i&&"function"!=typeof t[a]||"value"===a||"checked"===a||n[a]===t[a]||E(e,a,t[a],n[a],r)})(e,g,v,i,s),t.__k=t.props.children,h||A(e,t,n,r,"foreignObject"!==t.type&&i,a,o,l,s),s||("value"in g&&void 0!==g.value&&g.value!==e.value&&(e.value=null==g.value?"":g.value),"checked"in g&&void 0!==g.checked&&g.checked!==e.checked&&(e.checked=g.checked))}return e}function R(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){r.__e(e,n)}}function M(e,t,n){var i,a,o;if(r.unmount&&r.unmount(e),(i=e.ref)&&R(i,null,t),n||"function"==typeof e.type||(n=null!=(a=e.__e)),e.__e=e.__d=null,null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){r.__e(e,t)}i.base=i.__P=null}if(i=e.__k)for(o=0;o<i.length;o++)i[o]&&M(i[o],t,n);null!=a&&p(a)}function L(e,t,n){return this.constructor(e,n)}function I(e,t,n){var i,a,o;r.__&&r.__(e,t),a=(i=n===u)?null:n&&n.__k||t.__k,e=v(m,null,[e]),o=[],x(t,(i?t:n||t).__k=e,a||l,l,void 0!==t.ownerSVGElement,n&&!i?[n]:a?null:f.slice.call(t.childNodes),o,n||l,i),k(o,e)}t.isValidElement=i,t.options=r,t.options=r={__e:function(e,t){for(var n;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError)n.setState(n.constructor.getDerivedStateFromError(e));else{if(null==n.componentDidCatch)continue;n.componentDidCatch(e)}return w(n.__E=n)}catch(t){e=t}throw e}},t.isValidElement=i=function(e){return null!=e&&void 0===e.constructor},y.prototype.setState=function(e,t){var n;n=this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof e&&(e=e(n,this.props)),e&&h(n,e),null!=e&&this.__v&&(this.__e=!1,t&&this.__h.push(t),w(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),w(this))},y.prototype.render=m,a=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=l,c=0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={version:!0,Children:!0,render:!0,hydrate:!0,unmountComponentAtNode:!0,createPortal:!0,createElement:!0,createFactory:!0,cloneElement:!0,isValidElement:!0,findDOMNode:!0,PureComponent:!0,memo:!0,forwardRef:!0,unstable_batchedUpdates:!0,Suspense:!0,lazy:!0,createContext:!0,createRef:!0,Fragment:!0,Component:!0};t.hydrate=t.render=v,t.unmountComponentAtNode=P,t.createPortal=y,t.createElement=w,t.createFactory=p,t.cloneElement=A,t.isValidElement=C,t.findDOMNode=x,t.memo=O,t.forwardRef=R,t.Suspense=c,t.lazy=l,Object.defineProperty(t,"createContext",{enumerable:!0,get:function(){return a.createContext}}),Object.defineProperty(t,"createRef",{enumerable:!0,get:function(){return a.createRef}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return a.Fragment}}),Object.defineProperty(t,"Component",{enumerable:!0,get:function(){return a.Component}}),t.unstable_batchedUpdates=t.PureComponent=t.Children=t.version=t.default=void 0;var i=n(35);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var a=n(33);function o(e,t){for(var n in t)e[n]=t[n];return e}function s(e){var t=e.parentNode;t&&t.removeChild(e)}var u=a.options.__e;function c(e){this.__u=[],this.__f=e.fallback}function l(e){var t,n,r;function i(i){if(t||(t=e()).then((function(e){n=e.default}),(function(e){r=e})),r)throw r;if(!n)throw t;return(0,a.createElement)(n,i)}return i.displayName="Lazy",i.t=!0,i}a.options.__e=function(e,t,n){if(e.then&&n)for(var r,i=t;i=i.__;)if((r=i.__c)&&r.o)return n&&(t.__e=n.__e,t.__k=n.__k),void r.o(e);u(e,t,n)},(c.prototype=new a.Component).o=function(e){var t=this;t.__u.push(e);var n=function(){t.__u[t.__u.indexOf(e)]=t.__u[t.__u.length-1],t.__u.pop(),0==t.__u.length&&(t.__f&&(0,a._unmount)(t.__f),t.__v.__e=null,t.__v.__k=t.state.u,t.setState({u:null}))};null==t.state.u&&(t.__f=t.__f&&(0,a.cloneElement)(t.__f),t.setState({u:t.__v.__k}),function e(t){for(var n=0;n<t.length;n++){var r=t[n];null!=r&&("function"!=typeof r.type&&r.__e?s(r.__e):r.__k&&e(r.__k))}}(t.__v.__k),t.__v.__k=[]),e.then(n,n)},c.prototype.render=function(e,t){return t.u?this.__f:e.children};var f="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,d=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,h=a.options.event;function p(e){return w.bind(null,e)}function v(e,t,n){if(null==t.__k)for(;t.firstChild;)s(t.firstChild);return(0,a.render)(e,t),"function"==typeof n&&n(),e?e.__c:null}t.version="16.8.0",a.options.event=function(e){return h&&(e=h(e)),e.persist=function(){},e.nativeEvent=e};var g=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(e){return e.children},e}();function m(e){var t=this,n=e.container,r=(0,a.h)(g,{context:t.context},e.vnode);return t.i&&t.i!==n&&(t.l.parentNode&&t.i.removeChild(t.l),(0,a._unmount)(t.s),t.v=!1),e.vnode?t.v?(n.__k=t.__k,(0,a.render)(r,n),t.__k=n.__k):(t.l=document.createTextNode(""),(0,a.hydrate)("",n),n.appendChild(t.l),t.v=!0,t.i=n,(0,a.render)(r,n,t.l),t.__k=this.l.__k):t.v&&(t.l.parentNode&&t.i.removeChild(t.l),(0,a._unmount)(t.s)),t.s=r,t.componentWillUnmount=function(){t.l.parentNode&&t.i.removeChild(t.l),(0,a._unmount)(t.s)},null}function y(e,t){return(0,a.h)(m,{vnode:e,container:t})}var b=function(e,t){return e?(0,a.toChildArray)(e).map(t):null},_={map:b,forEach:b,count:function(e){return e?(0,a.toChildArray)(e).length:0},only:function(e){if(1!==(e=(0,a.toChildArray)(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:a.toChildArray};function w(){var e=a.h.apply(void 0,arguments),t=e.type,n=e.props;return"function"!=typeof t&&(n.defaultValue&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&"select"===t&&((0,a.toChildArray)(n.children).forEach((function(e){-1!=n.value.indexOf(e.props.value)&&(e.props.selected=!0)})),delete n.value),function(e,t){var n,r,i;for(i in t)if(n=d.test(i))break;if(n)for(i in r=e.props={},t)r[d.test(i)?i.replace(/([A-Z0-9])/,"-$1").toLowerCase():i]=t[i]}(e,n)),e.preactCompatNormalized=!1,S(e)}function S(e){return e.preactCompatNormalized=!0,function(e){var t=e.props;(t.class||t.className)&&(E.enumerable="className"in t,t.className&&(t.class=t.className),Object.defineProperty(t,"className",E))}(e),e}function A(e){return C(e)?S(a.cloneElement.apply(null,arguments)):e}function C(e){return!!e&&e.$$typeof===f}function P(e){return!!e.__k&&((0,a.render)(null,e),!0)}t.Children=_;var E={configurable:!0,get:function(){return this.class}};function T(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function x(e){return e&&(e.base||1===e.nodeType&&e)||null}var k=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).isPureReactComponent=!0,n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.shouldComponentUpdate=function(e,t){return T(this.props,e)||T(this.state,t)},r}(a.Component);function O(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:T(this.props,e)}function r(t){return this.shouldComponentUpdate=n,(0,a.h)(e,o({},t))}return r.prototype.isReactComponent=!0,r.displayName="Memo("+(e.displayName||e.name)+")",r.t=!0,r}function R(e){function t(t){var n=o({},t);return delete n.ref,e(n,t.ref)}return t.prototype.isReactComponent=!0,t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}function M(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(e){this["UNSAFE_"+t]=e}})}t.PureComponent=k,a.Component.prototype.isReactComponent={};var L=a.options.vnode;a.options.vnode=function(e){e.$$typeof=f,function(t){var n=e.type,r=e.props;if(r&&"string"==typeof n){var i={};for(var a in r)/^on(Ani|Tra)/.test(a)&&(r[a.toLowerCase()]=r[a],delete r[a]),i[a.toLowerCase()]=a;if(i.ondoubleclick&&(r.ondblclick=r[i.ondoubleclick],delete r[i.ondoubleclick]),i.onbeforeinput&&(r.onbeforeinput=r[i.onbeforeinput],delete r[i.onbeforeinput]),i.onchange&&("textarea"===n||"input"===n.toLowerCase()&&!/^fil|che|ra/i.test(r.type))){var o=i.oninput||"oninput";r[o]||(r[o]=r[i.onchange],delete r[i.onchange])}}}();var t=e.type;t&&t.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),"function"==typeof t&&!t.p&&t.prototype&&(M(t.prototype,"componentWillMount"),M(t.prototype,"componentWillReceiveProps"),M(t.prototype,"componentWillUpdate"),t.p=!0),L&&L(e)};var I=function(e,t){return e(t)};t.unstable_batchedUpdates=I;var N={useState:i.useState,useReducer:i.useReducer,useEffect:i.useEffect,useLayoutEffect:i.useLayoutEffect,useRef:i.useRef,useImperativeHandle:i.useImperativeHandle,useMemo:i.useMemo,useCallback:i.useCallback,useContext:i.useContext,useDebugValue:i.useDebugValue,version:"16.8.0",Children:_,render:v,hydrate:v,unmountComponentAtNode:P,createPortal:y,createElement:w,createContext:a.createContext,createFactory:p,cloneElement:A,createRef:a.createRef,Fragment:a.Fragment,isValidElement:C,findDOMNode:x,Component:a.Component,PureComponent:k,memo:O,forwardRef:R,unstable_batchedUpdates:I,Suspense:c,lazy:l};t.default=N},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useState=function(e){return h(_,e)},t.useReducer=h,t.useEffect=function(e,t){var n=d(r++);b(n.o,t)&&(n.i=e,n.o=t,i.__H.u.push(n))},t.useLayoutEffect=p,t.useRef=function(e){return v((function(){return{current:e}}),[])},t.useImperativeHandle=function(e,t,n){p((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))},t.useMemo=v,t.useCallback=function(e,t){return v((function(){return e}),t)},t.useContext=function(e){var t=i.context[e.__c];if(!t)return e.__;var n=d(r++);return null==n.i&&(n.i=!0,t.sub(i)),t.props.value},t.useDebugValue=function(e,t){o.options.useDebugValue&&o.options.useDebugValue(t?t(e):e)};var r,i,a,o=n(33),s=[],u=o.options.__r,c=o.options.diffed,l=o.options.__c,f=o.options.unmount;function d(e){o.options.__h&&o.options.__h(i);var t=i.__H||(i.__H={t:[],u:[]});return e>=t.t.length&&t.t.push({}),t.t[e]}function h(e,t,n){var a=d(r++);return a.__c||(a.__c=i,a.i=[n?n(t):_(void 0,t),function(t){var n=e(a.i[0],t);a.i[0]!==n&&(a.i[0]=n,a.__c.setState({}))}]),a.i}function p(e,t){var n=d(r++);b(n.o,t)&&(n.i=e,n.o=t,i.__h.push(n))}function v(e,t){var n=d(r++);return b(n.o,t)?(n.o=t,n.v=e,n.i=e()):n.i}function g(){s.some((function(e){e.__P&&(e.__H.u.forEach(m),e.__H.u.forEach(y),e.__H.u=[])})),s=[]}function m(e){e.m&&e.m()}function y(e){var t=e.i();"function"==typeof t&&(e.m=t)}function b(e,t){return!e||t.some((function(t,n){return t!==e[n]}))}function _(e,t){return"function"==typeof t?t(e):t}o.options.__r=function(e){u&&u(e),r=0,(i=e.__c).__H&&(i.__H.u.forEach(m),i.__H.u.forEach(y),i.__H.u=[])},o.options.diffed=function(e){c&&c(e);var t=e.__c;if(t){var n=t.__H;n&&n.u.length&&(1!==s.push(t)&&a===o.options.requestAnimationFrame||((a=o.options.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);"undefined"!=typeof window&&(t=requestAnimationFrame(n))})(g))}},o.options.__c=function(e,t){t.some((function(e){e.__h.forEach(m),e.__h=e.__h.filter((function(e){return!e.i||y(e)}))})),l&&l(e,t)},o.options.unmount=function(e){f&&f(e);var t=e.__c;if(t){var n=t.__H;n&&n.t.forEach((function(e){return e.m&&e.m()}))}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(34)),a=n(32),o=f(n(37)),s=n(38),u=f(n(39)),c=f(n(40)),l=f(n(41));function f(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function h(e,t,n,r,i,a){for(var o=n;o<r;++o)e[o]+=e[i+o-n]*a,t[o]+=t[i+o-n]*a}function p(e,t,n,r,i){for(var a=n;a<r;++a){var o=e[a],s=t[a];e[a]=e[i+a-n],e[i+a-n]=o,t[a]=t[i+a-n],t[i+a-n]=s}}function v(e,t,n,r,i){for(var a=n;a<r;++a)e[a]/=i,t[a]/=i}function g(e,t){void 0===t&&(t=Math.sqrt(e.length));for(var n=e.slice(),r=R(t),i=0;i<t;++i){var a=t*i,o=t*(i+1),s=a+i;if(0===n[s])for(var u=i+1;u<t;++u)if(n[t*u+i]){p(n,r,a,o,t*u);break}if(!n[s])return[];v(n,r,a,o,n[s]);for(u=0;u<t;++u){var c=t*u,l=c+t,f=n[c+i];0!==f&&i!==u&&h(n,r,c,l,a,-f)}}return r}function m(e,t){void 0===t&&(t=Math.sqrt(e.length));for(var n=[],r=0;r<t;++r)for(var i=0;i<t;++i)n[i*t+r]=e[t*r+i];return n}function y(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=Math.atan2(r,n);return i>0?i:i+2*Math.PI}function b(e,t){for(var n=e.slice(),r=e.length;r<t-1;++r)n[r]=0;return n[t-1]=1,n}function _(e,t,n){if(void 0===t&&(t=Math.sqrt(e.length)),t===n)return e;for(var r=R(n),i=Math.min(t,n),a=0;a<i-1;++a){for(var o=0;o<i-1;++o)r[a*n+o]=e[a*t+o];r[(a+1)*n-1]=e[(a+1)*t-1],r[(n-1)*n+a]=e[(t-1)*t+a]}return r[n*n-1]=e[t*t-1],r}function w(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=R(e);return t.forEach((function(t){r=S(r,t,e)})),r}function S(e,t,n){var r=[],i=e.length/n,a=t.length/i;if(!i)return t;if(!a)return e;for(var o=0;o<n;++o)for(var s=0;s<a;++s){r[o*a+s]=0;for(var u=0;u<i;++u)r[o*a+s]+=e[o*i+u]*t[u*a+s]}return r}function A(e,t,n){void 0===n&&(n=Math.sqrt(e.length));for(var r=[],i=e.length/n,a=t.length/i,o=0;o<n;++o)for(var s=0;s<a;++s){r[o+s*a]=0;for(var u=0;u<i;++u)r[o+s*a]+=e[o+u*i]*t[u+s*a]}return r}function C(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.length,r=0,i=n-1;i>=0;--i)r+=e[i];return n?r/n:0}function P(e,t){for(var n=Math.min(e.length,t.length),r=e.slice(),i=0;i<n;++i)r[i]=r[i]+t[i];return r}function E(e,t){for(var n=Math.min(e.length,t.length),r=e.slice(),i=0;i<n;++i)r[i]=r[i]-t[i];return r}function T(e,t,n){void 0===n&&(n=t.length);var r=S(e,t,n),i=r[n-1];return r.map((function(e){return e/i}))}function x(e,t){return T(O(t,3),b(e,3))}function k(e){return 9===e.length?[e[0],e[3],e[1],e[4],e[2],e[5]]:m(e)}function O(e,t){var n=Math.cos(e),r=Math.sin(e),i=R(t);return i[0]=n,i[1]=-r,i[t]=r,i[t+1]=n,i}function R(e){for(var t=e*e,n=[],r=0;r<t;++r)n[r]=r%(e+1)?0:1;return n}function M(e,t){for(var n=R(t),r=Math.min(e.length,t-1),i=0;i<r;++i)n[(t+1)*i]=e[i];return n}function L(e,t){for(var n=R(t),r=Math.min(e.length,t-1),i=0;i<r;++i)n[t*(i+1)-1]=e[i];return n}function I(e,t,n,r,i,a,o,s){var u=e[0],c=e[1],l=t[0],f=t[1],d=n[0],h=n[1],p=r[0],v=r[1],m=i[0],y=i[1],b=a[0],w=a[1],A=o[0],C=o[1],P=s[0],E=s[1],T=g([u,c,1,0,0,0,-m*u,-m*c,0,0,0,u,c,1,-y*u,-y*c,l,f,1,0,0,0,-b*l,-b*f,0,0,0,l,f,1,-w*l,-w*f,d,h,1,0,0,0,-A*d,-A*h,0,0,0,d,h,1,-C*d,-C*h,p,v,1,0,0,0,-P*p,-P*v,0,0,0,p,v,1,-E*p,-E*v],8);if(!T.length)return[];var x=S(T,[m,y,b,w,A,C,P,E],8);return x[8]=1,_(x,3,4)}var N=function(e,t){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function D(e,t){function n(){this.constructor=e}N(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F=function(){return(F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},B=(0,o.default)(),j=B.os.name.indexOf("ios")>-1||B.browser.name.indexOf("safari")>-1,U="moveable-",V=(0,a.prefixCSS)(U,"\n{\n\tposition: fixed;\n\twidth: 0;\n\theight: 0;\n\tleft: 0;\n\ttop: 0;\n\tz-index: 3000;\n}\n.control-box {\n    z-index: 0;\n}\n.line, .control {\n\tleft: 0;\n\ttop: 0;\n}\n.control {\n\tposition: absolute;\n\twidth: 14px;\n\theight: 14px;\n\tborder-radius: 50%;\n\tborder: 2px solid #fff;\n\tbox-sizing: border-box;\n\tbackground: #4af;\n\tmargin-top: -7px;\n    margin-left: -7px;\n    z-index: 10;\n    will-change: transform;\n}\n.line {\n\tposition: absolute;\n\twidth: 1px;\n\theight: 1px;\n\tbackground: #4af;\n\ttransform-origin: 0px 0.5px;\n}\n.line.rotation-line {\n\theight: 40px;\n\twidth: 1px;\n\ttransform-origin: 0.5px 39.5px;\n}\n.line.rotation-line .control {\n\tborder-color: #4af;\n\tbackground:#fff;\n\tcursor: alias;\n}\n.line.vertical.bold {\n    width: 2px;\n    margin-left: -1px;\n}\n.line.horizontal.bold {\n    height: 2px;\n    margin-top: -1px;\n}\n.control.origin {\n\tborder-color: #f55;\n\tbackground: #fff;\n\twidth: 12px;\n\theight: 12px;\n\tmargin-top: -6px;\n\tmargin-left: -6px;\n\tpointer-events: none;\n}\n.direction.e, .direction.w {\n\tcursor: ew-resize;\n}\n.direction.s, .direction.n {\n\tcursor: ns-resize;\n}\n.direction.nw, .direction.se, :host.reverse .direction.ne, :host.reverse .direction.sw {\n\tcursor: nwse-resize;\n}\n.direction.ne, .direction.sw, :host.reverse .direction.nw, :host.reverse .direction.se {\n\tcursor: nesw-resize;\n}\n.group {\n    z-index: -1;\n}\n.area {\n    position: absolute;\n}\n.area-pieces {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n}\n.area.avoid {\n    pointer-events: none;\n}\n.area.avoid+.area-pieces {\n    display: block;\n}\n.area-piece {\n    position: absolute;\n}\n"+(j?':global svg *:before {\n\tcontent:"";\n\ttransform-origin: inherit;\n}':"")+"\n"),W=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],G=Math.pow(10,10),H=-G,z={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]};function q(e,t){return[e[0]*t[0],e[1]*t[1]]}function Y(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.prefixNames.apply(void 0,[U].concat(e))}function X(){return R(3)}function K(e){return e&&"none"!==e?(0,s.isObject)(e)?e:(0,s.splitBracket)(e).value.split(/s*,\s*/g).map((function(e){return parseFloat(e)})):[1,0,0,1,0,0]}function Q(e,t,n){return w(t,L(n,t),e,L(n.map((function(e){return-e})),t))}function Z(e){return J(Ae(e,":before")).map((function(t,n){var r=(0,s.splitUnit)(t),i=r.value,a=r.unit;return i*function(e,t,n){return"%"===t?e.ownerSVGElement.viewBox.baseVal[n?"width":"height"]/100:1}(e,a,0===n)}))}function J(e){var t=e.transformOrigin;return t?t.split(" "):["0","0"]}function $(e,t,n){for(var r=document.body,i=!e||n?e:e.parentElement,a=!1,o="relative";i&&i!==r;){t===i&&(a=!0);var s=Ae(i),u=s.transform;if("static"!==(o=s.position)||u&&"none"!==u)break;i=i.parentElement,o="relative"}return{isStatic:"static"===o,isEnd:a||!i||i===r,offsetParent:i||r}}function ee(e,t,n,r){var i,a,o,u,c=e,l=[],f="svg"!==c.tagName.toLowerCase()&&"ownerSVGElement"in c,d=t||document.body,h=!1,p=!1,v=3,y=$(t,t,!0).offsetParent;for(n&&(t=e.parentElement);c&&!h;){var b=Ae(c),A=c.tagName.toLowerCase(),C=b.position,P="fixed"===C,T=b.transform,x=6===(u=K(T)).length?[u[0],u[2],u[4],u[1],u[3],u[5],0,0,1]:m(u);if(!p&&16===x.length){p=!0,v=4;for(var O=l.length,M=0;M<O;++M)l[M]=_(l[M],3,4)}p&&9===x.length&&(x=_(x,3,4));var I=c.offsetLeft,N=c.offsetTop;if(P){var D=(t||document.documentElement).getBoundingClientRect();I-=D.left,N-=D.top}var F=(0,s.isUndefined)(I),B=F,U=void 0;B&&"svg"!==A?(U=j?Z(c):J(b).map((function(e){return parseFloat(e)})),B=!1,"g"===A?(I=0,N=0):(I=(i=ne(c,U))[0],N=i[1],U[0]=i[2],U[1]=i[3])):U=J(b).map((function(e){return parseFloat(e)})),"svg"===A&&o&&l.push(te(c,v),R(v));var V=$(c,t),W=V.offsetParent,G=V.isEnd,H=V.isStatic;j&&!B&&!F&&H&&"relative"===C&&(I-=W.offsetLeft,N-=W.offsetTop,h=h||G);var z=0,q=0;if(B||y===W||(z=W.clientLeft,q=W.clientTop),l.push(Q(x,v,U),L([B?c:I-c.scrollLeft+z,B?U:N-c.scrollTop+q],v)),o||(o=x),a||(a=U),h||P)break;c=W,h=G}var Y=n?_(n,r,v):R(v),X=n?_(n,r,v):R(v),ee=R(v),ie=l.length,ae=$(d,d,!0).offsetParent;l.reverse(),l.forEach((function(e,t){var n;ie-2===t&&(X=Y.slice()),ie-1===t&&(ee=Y.slice()),(0,s.isObject)(e[v-1])&&(n=function(e,t,n,r,i,a){var o,s=le(e),u=s[0],c=s[1],l=t.getBoundingClientRect(),f=e.getBoundingClientRect(),d=f.left-l.left+t.scrollLeft,h=f.top-l.top+t.scrollTop,p=f.width,v=f.height,m=w(n,i,a),y=oe(m,u,c,n),b=y.left,_=y.top,S=y.width,A=y.height,C=re(m,r,n),P=E(C,[b,_]),T=[d+P[0]*p/S,h+P[1]*v/A],x=[0,0],k=0;for(;++k<10;){var O=g(i,n);o=E(re(O,T,n),re(O,C,n)),x[0]=o[0],x[1]=o[1];var R=oe(w(n,i,L(x,n),a),u,c,n),M=R.left,I=R.top,N=M-d,D=I-h;if(Math.abs(N)<2&&Math.abs(D)<2)break;T[0]-=N,T[1]-=D}return x.map((function(e){return Math.round(e)}))}(e[v-1],ae,v,e[2*v-1],Y,l[t+1]),e[v-1]=n[0],e[2*v-1]=n[1]),Y=S(Y,e,v)}));var se=(!f&&p?"matrix3d":"matrix")+"("+k(f&&16===o.length?_(o,4,3):o)+")";return[X,ee,Y,o,se,a,p]}function te(e,t){var n=e.clientWidth,r=e.clientHeight,i=e.viewBox.baseVal,a=i.width||n,o=i.height||r,s=n/a,u=r/o,c=e.preserveAspectRatio.baseVal,l=c.align,f=c.meetOrSlice,d=[0,0],h=[s,u],p=[0,0];if(1!==l){var v=(l-2)%3,g=Math.floor((l-2)/3);d[0]=a*v/2,d[1]=o*g/2;var m=2===f?Math.max(u,s):Math.min(s,u);h[0]=m,h[1]=m,p[0]=(n-a)/2*v,p[1]=(r-o)/2*g}var y=M(h,t);return y[t-1]=p[0],y[2*t-1]=p[1],Q(y,t,d)}function ne(e,t){if(!e.getBBox)return[0,0];var n=e.getBBox(),r=e.ownerSVGElement.viewBox.baseVal,i=n.x-r.x,a=n.y-r.y;return[i,a,t[0]-i,t[1]-a]}function re(e,t,n){return T(e,b(t,n),n)}function ie(e,t,n,r){return[re(e,[0,0],r),re(e,[t,0],r),re(e,[0,n],r),re(e,[t,n],r)]}function ae(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]})),r=Math.min.apply(Math,t),i=Math.min.apply(Math,n),a=Math.max.apply(Math,t),o=Math.max.apply(Math,n);return{left:r,top:i,right:a,bottom:o,width:a-r,height:o-i}}function oe(e,t,n,r){return ae(ie(e,t,n,r))}function se(e,t,n,r){var i=16===e.length?4:3,a=ie(e,n,r,i),o=a[0],s=o[0],u=o[1],c=a[1],l=c[0],f=c[1],d=a[2],h=d[0],p=d[1],v=a[3],g=v[0],m=v[1],b=re(e,t,i),_=b[0],w=b[1],S=Math.min(s,l,h,g),A=Math.min(u,f,p,m),C=Math.max(s,l,h,g),P=Math.max(u,f,p,m);_=_-S||0,w=w-A||0;var E=[((s=s-S||0)+(l=l-S||0)+(h=h-S||0)+(g=g-S||0))/4,((u=u-A||0)+(f=f-A||0)+(p=p-A||0)+(m=m-A||0))/4],T=y(E,[s,u]),x=y(E,[l,f]);return[[S,A,C,P],[_,w],[s,u],[l,f],[h,p],[g,m],T<x&&x-T<Math.PI||T>x&&x-T<-Math.PI?1:-1]}function ue(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=Math.sqrt(n*n+r*r),a=y(e,t);return{transform:"translate("+e[0]+"px, "+e[1]+"px) rotate("+a+"rad)",width:i+"px"}}function ce(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t.length,i=t.reduce((function(e,t){return e+t[0]}),0)/r,a=t.reduce((function(e,t){return e+t[1]}),0)/r;return{transform:"translate("+i+"px, "+a+"px) rotate("+e+"deg)"}}function le(e,t,n,r){void 0===t&&(t=window.getComputedStyle(e)),void 0===r&&(r=n||"border-box"===t.boxSizing);var i=e.offsetWidth,a=e.offsetHeight,o=!(0,s.isUndefined)(i);if((n||r)&&o)return[i,a];if(i=e.clientWidth,a=e.clientHeight,!o&&!i&&!a){var u=e.getBBox();return[u.width,u.height]}return n||r?[i+(parseFloat(t.borderLeftWidth)||0)+(parseFloat(t.borderRightWidth)||0),a+(parseFloat(t.borderTopWidth)||0)+(parseFloat(t.borderBottomWidth)||0)]:[i-(parseFloat(t.paddingLeft)||0)-(parseFloat(t.paddingRight)||0),a-(parseFloat(t.paddingTop)||0)-(parseFloat(t.paddingBottom)||0)]}function fe(e,t){return y(t>0?e[0]:e[1],t>0?e[1]:e[0])}function de(e,t,n,r){var i,a,o,u,c,l=0,f=0,d=0,h=0,p=[0,0],v=[0,0],g=[0,0],m=[0,0],y=[0,0],b=X(),_=X(),w=X(),S=X(),A=0,C=0,E=[0,0],T=1,x=1,k=!1,O="",R=[0,0],M={left:0,right:0,top:0,bottom:0,width:0,height:0},L={left:0,right:0,top:0,bottom:0,width:0,height:0},I=0,N=r?r.beforeMatrix:void 0,D=r?r.is3d?4:3:void 0;if(e){if(r)A=r.width,C=r.height;else{var F=Ae(e);A=e.offsetWidth,C=e.offsetHeight,(0,s.isUndefined)(A)&&(A=(i=le(e,F,!0))[0],C=i[1])}_=(a=ee(e,t,N,D))[0],b=a[1],w=a[2],S=a[3],O=a[4],E=a[5],k=a[6],l=(u=(o=se(w,E,A,C))[0])[0],f=u[1],d=u[2],h=u[3],p=o[1],v=o[2],g=o[3],m=o[4],y=o[5],T=o[6];var B;B=(c=se(b,P(E,function(e,t){void 0===t&&(t=Math.sqrt(e.length));for(var n=[],r=0;r<t-1;++r)n[r]=e[(r+1)*t-1];return n[t-1]=0,n}(S,k?4:3)),A,C))[0],R=c[1],x=c[6],R=[R[0]+B[0]-l,R[1]+B[1]-f],M=he(e),L=he($(n,n,!0).offsetParent||document.body),I=fe([v,g],T)}return{rotation:I,containerRect:L,beforeDirection:x,direction:T,target:e,left:l,top:f,right:d,bottom:h,pos1:v,pos2:g,pos3:m,pos4:y,width:A,height:C,beforeMatrix:_,matrix:w,targetTransform:O,offsetMatrix:b,targetMatrix:S,is3d:k,beforeOrigin:R,origin:p,transformOrigin:E,clientRect:M}}function he(e){var t=e.getBoundingClientRect(),n=t.left,r=t.width,i=t.top,a=t.bottom;return{left:n,right:t.right,top:i,bottom:a,width:r,height:t.height}}function pe(e){if(e){var t=e.getAttribute("data-direction");if(t){var n=[0,0];return t.indexOf("w")>-1&&(n[0]=-1),t.indexOf("e")>-1&&(n[0]=1),t.indexOf("n")>-1&&(n[1]=-1),t.indexOf("s")>-1&&(n[1]=1),n}}}function ve(e,t){return[P(t,e[0]),P(t,e[1]),P(t,e[2]),P(t,e[3])]}function ge(e){var t=e.left,n=e.top;return ve([e.pos1,e.pos2,e.pos3,e.pos4],[t,n])}function me(e,t){return t?Math.round(e/t)*t:e}function ye(e,t){return e.forEach((function(n,r){e[r]=me(e[r],t)})),e}function be(e,t){e[t]&&(e[t].unset(),e[t]=null)}function _e(e,t,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function we(e,t,n){var r=t.datas;return r.datas||(r.datas={}),F({},n,{target:e.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:e,datas:r.datas})}function Se(e,t,n){return e.triggerEvent(t,n)}function Ae(e,t){return window.getComputedStyle(e,t)}function Ce(e,t){var n={},r={};return e.filter((function(e){var i=e.name;if(n[i]||!t.some((function(t){return e[t]})))return!1;if(e.ableGroup){if(r[i])return!1;r[i]=!0}return n[i]=!0,!0}))}function Pe(e,t,n){return e*(t?n:1/n)}function Ee(e,t,n){return e*(t?1/n:n)}function Te(e,t){return e===t||null==e&&null==t}function xe(e,t,n,r,i,a){var o="Start"===i;if(o&&r.indexOf("Control")>-1&&e.areaElement===a.inputEvent.target)return!1;var s=""+n+r+i,u=""+n+r+"Condition",c="End"===i,l=i.indexOf("After")>-1;o&&e.updateRect(i,!0,!1);var f=r.indexOf("Group")>-1,d=e[t].filter((function(t){var n=o&&t[u];return!(!t[s]||n&&!n(a.inputEvent.target,e))&&t[s](e,a)})),h=d.length;o?function(e,t,n){var r=we(e,n,{isPinch:!!n.isPinch}),i=t?"Group":"";t&&(r.targets=e.props.targets),Se(e,"onRender"+i+"Start",r)}(e,f,a):c?function(e,t,n){var r=we(e,n,{isPinch:!!n.sPinch,isDrag:n.isDrag}),i=t?"Group":"";t&&(r.targets=e.props.targets),Se(e,"onRender"+i+"End",r)}(e,f,a):h&&function(e,t,n){var r=we(e,n,{isPinch:!!n.isPinch}),i=t?"Group":"";t&&(r.targets=e.props.targets),Se(e,"onRender"+i,r)}(e,f,a),c&&(e.state.dragger=null),!o&&h&&(d.some((function(e){return e.updateRect}))&&!f?e.updateRect(i,!1,!1):e.updateRect(i,!0,!1)),(!o&&h||c&&!h)&&e.forceUpdate(),o||c||l||!h||xe(e,t,n,r,i+"After",a)}function ke(e,t,n,r){var i={container:window,pinchThreshold:e.props.pinchThreshold};return["drag","pinch"].forEach((function(t){["Start","","End"].forEach((function(a){i[""+t+a.toLowerCase()]=function(i){return xe(e,n,t,r,a,i)}}))})),new c.default(t,i)}var Oe=(0,u.default)("div",V);function Re(e,t,n,r){return(0,i.createElement)("div",{key:"line"+r,className:Y("line","direction",e),"data-direction":e,style:ue(t,n)})}var Me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={conatainer:null,target:null,beforeMatrix:X(),matrix:X(),targetMatrix:X(),targetTransform:"",is3d:!1,left:0,top:0,width:0,height:0,transformOrigin:[0,0],direction:1,beforeDirection:1,beforeOrigin:[0,0],origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],clientRect:{left:0,top:0,bottom:0,right:0,width:0,height:0},containerRect:{left:0,top:0,bottom:0,right:0,width:0,height:0},rotation:0},t.targetAbles=[],t.controlAbles=[],t}D(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.edge,n=e.parentPosition,r=e.className;this.checkUpdate();var o=n||{left:0,top:0},s=o.left,u=o.top,c=this.state,l=c.left,f=c.top,d=c.pos1,h=c.pos2,p=c.pos3,v=c.pos4,g=c.target,m=c.direction;return(0,i.createElement)(Oe,{ref:(0,a.ref)(this,"controlBox"),className:Y("control-box",-1===m?"reverse":"")+" "+r,style:{position:"absolute",display:g?"block":"none",transform:"translate("+(l-s)+"px, "+(f-u)+"px) translateZ(50px)"}},this.renderAbles(),Re(t?"n":"",d,h,0),Re(t?"e":"",h,v,1),Re(t?"w":"",d,p,2),Re(t?"s":"",p,v,3))},n.componentDidMount=function(){this.controlBox.getElement();var e=this.props,t=e.parentMoveable,n=e.container;this.updateEvent(e),n||t||this.updateRect("End",!1,!0)},n.componentDidUpdate=function(e){this.updateEvent(e)},n.componentWillUnmount=function(){be(this,"targetDragger"),be(this,"controlDragger")},n.getContainer=function(){var e=this.props,t=e.parentMoveable;return e.container||t&&t.getContainer()||this.controlBox.getElement().parentElement},n.isMoveableElement=function(e){return e&&(e.getAttribute("class")||"").indexOf(U)>-1},n.dragStart=function(e){this.targetDragger&&this.targetDragger.onDragStart(e)},n.isInside=function(e,t){var n=this.state,r=n.pos1,i=n.pos2,a=n.pos3,o=n.pos4,s=n.target;if(!s)return!1;var u=s.getBoundingClientRect();return function(e,t,n,r,i){var a=[_e(e,t,n),_e(e,n,i),_e(e,i,t)],o=[_e(e,n,i),_e(e,i,r),_e(e,r,n)];return!!(a.every((function(e){return e>=0}))||a.every((function(e){return e<=0}))||o.every((function(e){return e>=0}))||o.every((function(e){return e<=0})))}([e-u.left,t-u.top],r,i,o,a)},n.updateRect=function(e,t,n){void 0===n&&(n=!0);var r=this.props.parentMoveable,i=this.state,a=i.target||this.props.target,o=this.getContainer();this.updateState(de(a,o,o,t?i:void 0),!r&&n)},n.updateEvent=function(e){var t=this.controlBox.getElement(),n=this.targetAbles.length,r=this.controlAbles.length,i=this.props.target,a=e.target,o=this.props.dragArea,s=e.dragArea,u=!o&&a!==i,c=!n&&this.targetDragger||u||s!==o;c&&(be(this,"targetDragger"),this.updateState({dragger:null})),r||be(this,"controlDragger"),i&&n&&!this.targetDragger&&(this.targetDragger=ke(this,o?this.areaElement:i,"targetAbles","")),!this.controlDragger&&r&&(this.controlDragger=ke(this,t,"controlAbles","Control")),c&&this.unsetAbles()},n.updateTarget=function(e){this.updateRect(e,!0)},n.getRect=function(){var e=this.state,t=ge(this.state),n=t[0],r=t[1],i=t[2],a=t[3],o=ae(t),s=e.width,u=e.height;return{width:o.width,height:o.height,left:o.left,top:o.top,pos1:n,pos2:r,pos3:i,pos4:a,offsetWidth:s,offsetHeight:u}},n.checkUpdate=function(){var e=this.props,t=e.target,n=e.container,r=e.parentMoveable,i=this.state,a=i.target,o=i.container;(a||t)&&(this.updateAbles(),(!Te(a,t)||!Te(o,n))&&(this.updateState({target:t,container:n}),r||!n&&!this.controlBox||this.updateRect("End",!1,!1)))},n.triggerEvent=function(e,t){var n=this.props[e];return n&&n(t)},n.unsetAbles=function(){var e=this;this.targetAbles.filter((function(t){return!!t.unset&&(t.unset(e),!0)})).length&&this.forceUpdate()},n.updateAbles=function(e,t){void 0===e&&(e=this.props.ables),void 0===t&&(t="");var n=this.props,r=e.filter((function(e){return e&&n[e.name]})),i="drag"+t+"ControlStart",a=Ce(r,["drag"+t+"Start","pinch"+t+"Start"]),o=Ce(r,[i]);this.targetAbles=a,this.controlAbles=o},n.updateState=function(e,t){if(t)this.setState(e);else{var n=this.state;for(var r in e)n[r]=e[r]}},n.renderAbles=function(){var e=this,t=this.props;return Ce(t.ables.filter((function(e){return e&&t[e.name]})),["render"]).map((function(t){return(0,t.render)(e,i)}))},t.defaultProps={target:null,container:null,origin:!0,keepRatio:!1,edge:!1,parentMoveable:null,parentPosition:null,ables:[],pinchThreshold:20,dragArea:!1,transformOrigin:"",className:""},t}(i.PureComponent);function Le(e){return y([e[0].clientX,e[0].clientY],[e[1].clientX,e[1].clientY])/Math.PI*180}var Ie={name:"pinchable",updateRect:!0,pinchStart:function(e,t){var n=t.datas,r=t.clientX,i=t.clientY,a=t.touches,o=t.inputEvent,s=t.targets,u=e.props,c=u.pinchable,l=u.ables;if(!c)return!1;var f="onPinch"+(s?"Group":"")+"Start",d="drag"+(s?"Group":"")+"ControlStart",h=(!0===c?e.controlAbles:l.filter((function(e){return c.indexOf(e.name)>-1}))).filter((function(e){return e.canPinch&&e[d]})),p=we(e,t,{});s&&(p.targets=s);var v=Se(e,f,p);n.isPinch=!1!==v,n.ables=h;var g=n.isPinch;if(!g)return!1;var m=Le(a);return h.forEach((function(t){n[t.name+"Datas"]={};var a={datas:n[t.name+"Datas"],clientX:r,clientY:i,inputEvent:o,parentRotate:m,pinchFlag:!0};t[d](e,a)})),e.state.snapDirection=[0,0],g},pinch:function(e,t){var n=t.datas,r=t.clientX,i=t.clientY,a=t.scale,o=t.distance,s=t.touches,u=t.inputEvent,c=t.targets;if(n.isPinch){var l=Le(s),f=o*(1-1/a),d=we(e,t,{});c&&(d.targets=c),Se(e,"onPinch"+(c?"Group":""),d);var h=n.ables,p="drag"+(c?"Group":"")+"Control";return h.forEach((function(t){t[p](e,{clientX:r,clientY:i,datas:n[t.name+"Datas"],inputEvent:u,parentDistance:f,parentRotate:l,pinchFlag:!0})})),d}},pinchEnd:function(e,t){var n=t.datas,r=t.clientX,i=t.clientY,a=t.isPinch,o=t.inputEvent,s=t.targets;if(n.isPinch){var u="onPinch"+(s?"Group":"")+"End",c=we(e,t,{isDrag:a});s&&(c.targets=s),Se(e,u,c);var l=n.ables,f="drag"+(s?"Group":"")+"ControlEnd";return l.forEach((function(t){t[f](e,{clientX:r,clientY:i,isDrag:a,datas:n[t.name+"Datas"],inputEvent:o,pinchFlag:!0})})),a}},pinchGroupStart:function(e,t){return this.pinchStart(e,F({},t,{targets:e.props.targets}))},pinchGroup:function(e,t){return this.pinch(e,F({},t,{targets:e.props.targets}))},pinchGroupEnd:function(e,t){return this.pinchEnd(e,F({},t,{targets:e.props.targets}))}};function Ne(e,t,n,r,i,a){var o=t.name,u=r[o]||(r[o]=[]),c=!!n.match(/End$/g);return e.moveables.map((function(e,r){var o=u[r]||(u[r]={}),l=(0,s.isFunction)(i)?i(e,o):i,f=t[n](e,F({},l,{datas:o,parentFlag:!0}));return f&&a&&a(e,o,f,r),c&&(e.state.dragger=null),f}))}function De(e){return(0,s.hasClass)(e,Y("direction"))}function Fe(e,t){var n=t.datas,r=e.state,i=r.matrix,a=r.beforeMatrix,o=r.is3d,s=r.left,u=r.top,c=r.origin,l=r.offsetMatrix,f=r.targetMatrix,d=r.transformOrigin,h=o?4:3;n.is3d=o,n.matrix=i,n.targetMatrix=f,n.beforeMatrix=a,n.offsetMatrix=l,n.transformOrigin=d,n.inverseMatrix=g(i,h),n.inverseBeforeMatrix=g(a,h),n.absoluteOrigin=b(P([s,u],c),h),n.startDragBeforeDist=T(n.inverseBeforeMatrix,n.absoluteOrigin,h),n.startDragDist=T(n.inverseMatrix,n.absoluteOrigin,h)}function Be(e,t){var n=e.datas,r=e.distX,i=e.distY,a=n.inverseBeforeMatrix,o=n.inverseMatrix,s=n.is3d,u=n.startDragBeforeDist,c=n.startDragDist,l=s?4:3;return E(T(t?a:o,P(n.absoluteOrigin,[r,i]),l),t?u:c)}function je(e){var t=[];return e[1]>=0&&(e[0]>=0&&t.push(3),e[0]<=0&&t.push(2)),e[1]<=0&&(e[0]>=0&&t.push(1),e[0]<=0&&t.push(0)),t}function Ue(e,t){return je(t).map((function(t){return e[t]}))}function Ve(e,t){var n=Ue(e,t);return[C.apply(void 0,n.map((function(e){return e[0]}))),C.apply(void 0,n.map((function(e){return e[1]})))]}function We(e,t){var n=e[0],r=e[1],i=e[2];return Ve([e[3],i,r,n],t)}function Ge(e,t){return We([e[0],e[1],e[2],e[3]],t)}function He(e,t,n,r,i,a){var o=We(ie(t,n,r,i),a);return[e[0]-o[0],e[1]-o[1]]}function ze(e,t,n,r){return S(e,Q(t,r,n),r)}function qe(e,t){var n=e.transformOrigin,r=e.offsetMatrix,i=e.is3d?4:3;return ze(r,S(e.targetMatrix,M(t,i),i),n,i)}function Ye(e,t,n,r,i,a){var o=e.props.groupable,u=e.state,c=u.transformOrigin,l=u.targetMatrix,f=u.offsetMatrix,d=u.is3d,h=u.width,p=u.height,v=u.left,g=u.top,m=d?4:3,y=o?v:0,b=o?g:0;return E(He(i,ze(f,l,function(e,t,n,r,i,a){return void 0===r&&(r=t),void 0===i&&(i=n),void 0===a&&(a=[0,0]),e?e.map((function(e,o){var u=(0,s.splitUnit)(e),c=u.value,l=u.unit,f=o?i:r,d=o?n:t;return"%"===e||isNaN(c)?d*(f?a[o]/f:0):"%"!==l?c:d*c/100})):a}(a,t,n,h,p,c),m),t,n,m,r),[y,b])}function Xe(e,t){return Ge(ge(e.state),t)}function Ke(e){var t=e.state;if(!t.guidelines||!t.guidelines.length){var n=e.props,r=n.horizontalGuidelines,i=void 0===r?[]:r,a=n.verticalGuidelines,o=void 0===a?[]:a,s=n.elementGuidelines,u=void 0===s?[]:s,c=n.bounds,l=n.snapCenter;if(c||i.length||o.length||u.length){var f=t.containerRect,d=f.width,h=f.height,p=f.top,v=f.left,g=t.clientRect,m=g.top,y=g.left,b=t.left,_=t.top,w=b-(y-v),S=_-(m-p),A=[];i.forEach((function(e){A.push({type:"horizontal",pos:[0,e],size:d})})),o.forEach((function(e){A.push({type:"vertical",pos:[e,0],size:h})})),u.forEach((function(e){var t=e.getBoundingClientRect(),n=t.top,r=t.left,i=t.width,a=t.height,o=n-p,s=o+a,u=r-v,c=u+i;A.push({type:"vertical",element:e,pos:[u+w,o],size:a}),A.push({type:"vertical",element:e,pos:[c+w,o],size:a}),A.push({type:"horizontal",element:e,pos:[u,o+S],size:i}),A.push({type:"horizontal",element:e,pos:[u,s+S],size:i}),l&&(A.push({type:"vertical",element:e,pos:[(u+c)/2+w,o],size:a,center:!0}),A.push({type:"horizontal",element:e,pos:[u,(o+s)/2+S],size:i,center:!0}))})),t.guidelines=A,t.enableSnap=!0}}}function Qe(e,t,n,r){return{vertical:Ze(e,t,!0,r),horizontal:Ze(e,n,!1,r)}}function Ze(e,t,n,r){void 0===r&&(r=0);var i=e.props.bounds;if(i){var a=i[n?"left":"top"],o=i[n?"right":"bottom"],u=Math.min.apply(Math,t),c=Math.max.apply(Math,t);if(!(0,s.isUndefined)(a)&&a+r>u)return{isBound:!0,offset:u-a,pos:a};if(!(0,s.isUndefined)(o)&&o-r<c)return{isBound:!0,offset:c-o,pos:o}}return{isBound:!1,offset:0,pos:0}}function Je(e,t,n,r,i){if(!e)return{isSnap:!1,dist:-1,offset:0,guidelines:[],snapPoses:[]};var a=[],o=1/0,s=0,u="vertical"===t?0:1,c=n.filter((function(n){return e.filter((function(e){var c=e.type,l=e.pos,f=e.center;if(!r&&f||c!==t)return!1;var d=n-l[u],h=Math.abs(d);return!(h>i)&&(o>h&&(o=h,a=[]),o===h&&(s=d,a.push(e)),!0)})).length}));return{isSnap:!!a.length,dist:isFinite(o)?o:-1,offset:s,guidelines:a,snapPoses:c}}function $e(e,t){var n=e.props,r=n.snappable,i=n.bounds,a=e.state,o=a.guidelines,s=a.enableSnap;return!(!r||!s||t&&!0!==r&&r.indexOf(t)||!(i||o&&o.length))}function et(e,t,n,r,i){var a=e.state.guidelines,o=(0,s.isUndefined)(i)?(0,s.isUndefined)(e.props.snapThreshold)?5:e.props.snapThreshold:i;return{vertical:Je(a,"vertical",t,r,o),horizontal:Je(a,"horizontal",n,r,o)}}function tt(e,t,n,r){var i=e.props.snapCenter&&n,a=["left","right"],o=["top","bottom"];return i&&(a.push("center"),o.push("middle")),a=a.filter((function(e){return e in t})),o=o.filter((function(e){return e in t})),et(e,a.map((function(e){return t[e]})),o.map((function(e){return t[e]})),i,r)}function nt(e,t){var n=Qe(e,[t[0]],[t[1]]),r=n.horizontal,i=r.isBound,a=r.offset,o=n.vertical,s=o.isBound,u=o.offset;if(i||s){var c=void 0,l=(c=i&&s?Math.abs(a)<Math.abs(u):s)?u:a;return{isVertical:c,offset:l,dist:Math.abs(l)}}}function rt(e,t,n,r,i,a){var o=function(e,t,n,r){var i=t[0]-e[0],a=t[1]-e[1];if(!i)return r?void 0:[0,n];if(!a)return r?[n,0]:void 0;var o=a/i,s=e[1]-o*e[0];if(r){var u=o*(t[0]+n)+s;return[n,u-t[1]]}return[(t[1]+n-s)/o-t[0],n]}(e,t,-n,r);if(!o)return NaN;var s=Be({datas:a,distX:o[0],distY:o[1]}),u=s[0],c=s[1];return i?c:u}function it(e,t,n,r,i,a){var o=ie(e,t,n,a?4:3);return ve(o,E(r,We(o,i)))}function at(e,t,n,r,i){var a,o=0,s=-1;if(t.map((function(t){return nt(e,t)})).forEach((function(e,t){e&&(!a||a.dist<e.dist)&&(a=e,s=t)})),a){var u=rt(n[s],t[s],a.offset,a.isVertical,r,i);isNaN(u)||(o=u)}else t.some((function(t,a){var s=function(e,t,n,r,i){var a,o=et(e,[t[0]],[t[1]]),s=o.horizontal,u=s.isSnap,c=s.offset,l=s.dist,f=o.vertical,d=f.isSnap,h=f.offset,p=f.dist,v=n[1]===t[1],g=n[0]===t[0];return u||d?rt(n,t,(a=u&&d?!(0!==l||!v)||(0!==h||!g)&&l>p:d)?h:c,a,r,i):NaN}(e,t,n[a],r,i);return!isNaN(s)&&(o=s,!0)}));return o}function ot(e,t,n,r,i,a,o,s){var u=We(ge(e.state),a),c=it(t,n,r,u,i,s);return i[0]&&i[1]?function(e,t,n,r,i,a,o,s,u){var c,l=Ue(t,n),f=[n[0],-1*n[1]],d=[-1*n[0],n[1]],h=Ve(t,f),p=Ve(t,d),v=Qe(e,[l[0][0]],[l[0][1]]),g=v.horizontal,m=g.isBound,y=g.offset,b=v.vertical,_=b.isBound,w=b.offset,S=0,A=0,C=nt(e,h),P=nt(e,p),E=C&&C.dist>Math.abs(w),T=P&&P.dist>Math.abs(y);if(E||T)if(E){var x=rt(Ve(t,[-1*f[0],f[1]]),h,C.offset,C.isVertical,!1,r);isNaN(x)||(S=x),A=at(e,[Ve(k=it(i,a+n[0]*S,o+n[1]*A,s,n,u),n)],[Ve(k,f)],!0,r)}else{var k;x=rt(Ve(t,[-1*d[0],d[1]]),h,P.offset,P.isVertical,!0,r);isNaN(x)||(A=x),S=at(e,[Ve(k=it(i,a+n[0]*S,o+n[1]*A,s,n,u),n)],[Ve(k,d)],!1,r)}else{var O=et(e,[l[0][0]],[l[0][1]]),R=O.horizontal.offset,M=O.vertical.offset;S=(c=Be({datas:r,distX:-(_?w:M),distY:-(m?y:R)}))[0],A=c[1]}return[n[0]*S,n[1]*A]}(e,c,i,o,t,n,r,u,s):function(e,t,n,r){var i,a,o=0!==n[0]?0:1,s=o>0,u=t.slice().reverse();e.props.keepRatio?(i=[Ve(t,n)],a=[Ve(u,n)]):(i=Ue(t,n),a=Ue(u,n),i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]),a.reverse(),a.push([(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]));var c=at(e,i,a,s,r),l=[0,0];return l[o]=n[o]*c,l}(e,c,i,o)}var st={name:"snappable",render:function(e,t){var n=e.state,r=n.top,i=n.left,a=n.pos1,o=n.pos2,s=n.pos3,u=n.pos4,c=n.snapDirection,l=n.clientRect,f=n.containerRect,d=l.left-f.left,h=l.top-f.top,p=Math.min(a[0],o[0],s[0],u[0]),v=Math.min(a[1],o[1],s[1],u[1]);if(!c||!$e(e,""))return[];var g=ge(e.state),m=ae(g),y=m.width,b=m.height,_=m.top,w=m.left,S=m.bottom,A=m.right,C=function(e,t,n){if(!0===n){var r=ae(t);return r.middle=(r.top+r.bottom)/2,r.center=(r.left+r.right)/2,tt(e,r,!0,1)}if(n[0]||n[1]){a=void 0;return e.props.keepRatio?a=[Ve(t,n)]:(a=Ue(t,n)).length>1&&a.push([(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]),et(e,a.map((function(e){return e[0]})),a.map((function(e){return e[1]})),!0,1)}for(var i=[t[0],t[1],t[3],t[2],t[0]],a=[],o=0;o<4;++o)a.push(i[o]),t.push([(i[o][0]+i[o+1][0])/2,(i[o][1]+i[o+1][1])/2]);return et(e,a.map((function(e){return e[0]})),a.map((function(e){return e[1]})),!0,1)}(e,g,c),P=C.vertical,E=P.guidelines,T=P.snapPoses,x=C.horizontal,k=x.guidelines,O=x.snapPoses,R=Qe(e,[w,A],[_,S],1),M=R.vertical,L=M.isBound,I=M.pos,N=R.horizontal,D=N.isBound,F=N.pos;return L&&T.indexOf(I)<0&&T.push(I),D&&O.indexOf(F)<0&&O.push(F),T.map((function(e,n){return t.createElement("div",{className:Y("line","vertical","guideline","target","bold"),key:"verticalTargetGuidline"+n,style:{top:v+"px",left:-i+e+"px",height:b+"px"}})})).concat(O.map((function(e,n){return t.createElement("div",{className:Y("line","horizontal","guideline","target","bold"),key:"horizontalTargetGuidline"+n,style:{top:-r+e+"px",left:p+"px",width:y+"px"}})})),E.map((function(e,n){var r=e.pos,a=e.size,o=e.element;return t.createElement("div",{className:Y("line","vertical","guideline",o?"bold":""),key:"verticalGuidline"+n,style:{top:v-h+r[1]+"px",left:-i+r[0]+"px",height:a+"px"}})})),k.map((function(e,n){var i=e.pos,a=e.size,o=e.element;return t.createElement("div",{className:Y("line","horizontal","guideline",o?"bold":""),key:"horizontalGuidline"+n,style:{top:-r+i[1]+"px",left:p-d+i[0]+"px",width:a+"px"}})})))},dragStart:function(e,t){e.state.snapDirection=!0,Ke(e)},pinchStart:function(e){this.unset(e)},dragEnd:function(e){this.unset(e)},dragControlCondition:De,dragControlStart:function(e,t){e.state.snapDirection=null,Ke(e)},dragControlEnd:function(e){this.unset(e)},dragGroupStart:function(e,t){e.state.snapDirection=!0,Ke(e)},dragGroupEnd:function(e){this.unset(e)},dragGroupControlStart:function(e,t){e.state.snapDirection=null,Ke(e)},dragGroupControlEnd:function(e){this.unset(e)},unset:function(e){var t=e.state;t.enableSnap=!1,t.guidelines=[],t.snapDirection=null}},ut={name:"draggable",dragStart:function(e,t){var n=t.datas,r=t.parentEvent,i=t.parentDragger,a=e.state,o=a.targetTransform,s=a.target;if(a.dragger)return!1;a.dragger=i||e.targetDragger;var u=window.getComputedStyle(s);n.datas={},n.left=parseFloat(u.left||"")||0,n.top=parseFloat(u.top||"")||0,n.bottom=parseFloat(u.bottom||"")||0,n.right=parseFloat(u.right||"")||0,n.transform=o,n.startTranslate=[0,0],Fe(e,{datas:n}),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1,function(e,t){t.absolutePoses=ge(e.state)}(e,n);var c=we(e,t,{set:function(e){n.startTranslate=e}});return!1!==(r||Se(e,"onDragStart",c))?n.isDrag=!0:(a.dragger=null,n.isPinch=!1),!!n.isDrag&&c},drag:function(e,t){var n=t.datas,r=t.parentEvent,i=t.parentFlag,a=t.distX,o=t.distY,s=n.isPinch,u=n.isDrag,c=n.prevDist,l=n.prevBeforeDist,f=n.transform,d=n.startTranslate;if(u){var h=e.props,p=h.parentMoveable,v=r?0:h.throttleDrag||0,g=!1;if(!s&&!r&&!i){var m=function(e,t,n,r){var i={isSnap:!1,offset:0},a={isSnap:!1,offset:0};if(!$e(e,"draggable"))return[i,a];var o=ae(ve(r.absolutePoses,[t,n])),s=o.left,u=o.right,c=o.top,l=o.bottom,f=tt(e,{left:s,right:u,top:c,bottom:l,center:(s+u)/2,middle:(c+l)/2},!0),d=Qe(e,[s,u],[c,l]);return d.vertical.isBound?(i.offset=d.vertical.offset,i.isSnap=!0):f.vertical.isSnap&&(i.offset=f.vertical.offset,i.isSnap=!0),d.horizontal.isBound?(a.offset=d.horizontal.offset,a.isSnap=!0):f.horizontal.isSnap&&(a.offset=f.horizontal.offset,a.isSnap=!0),[i,a]}(e,a,o,n),y=m[0],b=m[1];g=y.isSnap||b.isSnap,a-=y.offset,o-=b.offset}n.passDistX=a,n.passDistY=o;var _=P(Be({datas:n,distX:a,distY:o},!0),d),w=P(Be({datas:n,distX:a,distY:o},!1),d);g||(ye(w,v),ye(_,v));var S=E(_,d),A=E(w,d),C=E(A,c),T=E(S,l);n.prevDist=A,n.prevBeforeDist=S;var x=n.left+S[0],k=n.top+S[1],O=n.right-S[0],R=n.bottom-S[1],M=f+" translate("+A[0]+"px, "+A[1]+"px)";if(r||p||!C.every((function(e){return!e}))||!T.some((function(e){return!e}))){var L=we(e,t,{transform:M,dist:A,delta:C,translate:w,beforeDist:S,beforeDelta:T,beforeTranslate:_,left:x,top:k,right:O,bottom:R,isPinch:s});return!r&&Se(e,"onDrag",L),L}}},dragEnd:function(e,t){var n=t.parentEvent,r=t.datas,i=t.isDrag;if(r.isDrag)return e.state.dragger=null,r.isDrag=!1,!n&&Se(e,"onDragEnd",we(e,t,{isDrag:i})),i},dragGroupStart:function(e,t){var n=t.datas,r=this.dragStart(e,t);if(!r)return!1;var i=Ne(e,this,"dragStart",n,t),a=Se(e,"onDragGroupStart",F({},r,{targets:e.props.targets,events:i}));return n.isDrag=!1!==a,!!n.isDrag&&r},dragGroup:function(e,t){var n=t.datas;if(n.isDrag){var r=this.drag(e,t),i=t.datas,a=i.passDistX,o=i.passDistY,s=Ne(e,this,"drag",n,F({},t,{distX:a,distY:o}));if(r){var u=F({targets:e.props.targets,events:s},r);return Se(e,"onDragGroup",u),u}}},dragGroupEnd:function(e,t){var n=t.isDrag,r=t.datas;if(r.isDrag)return this.dragEnd(e,t),Ne(e,this,"dragEnd",r,t),Se(e,"onDragGroupEnd",we(e,t,{targets:e.props.targets,isDrag:n})),n}};function ct(e,t,n){return F({},e.dragger.move(t,n),{parentEvent:!0})}var lt=function(){function e(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={}}var t=e.prototype;return t.dragStart=function(e,t){return this.isDrag=!1,this.isFlag=!1,this.datas={},this.move(e,t)},t.drag=function(e,t){return this.move([e[0]-this.prevX,e[1]-this.prevY],t)},t.move=function(e,t){var n,r;return this.isFlag?(n=this.prevX+e[0],r=this.prevY+e[1],this.isDrag=!0):(this.prevX=e[0],this.prevY=e[1],this.startX=e[0],this.startY=e[1],n=e[0],r=e[1],this.isFlag=!0),this.prevX=n,this.prevY=r,{clientX:n,clientY:r,inputEvent:t,isDrag:this.isDrag,distX:n-this.startX,distY:r-this.startY,deltaX:e[0],deltaY:e[1],datas:this.datas,parentEvent:!0,parentDragger:this}},e}();function ft(e,t,n,r,i){e.startAbsoluteOrigin=[t-i[0]+r[0],n-i[1]+r[1]],e.prevDeg=y(e.startAbsoluteOrigin,[t,n])/Math.PI*180,e.startDeg=e.prevDeg,e.loop=0}function dt(e,t,n,r,i){var a=e.prevDeg,o=e.startDeg,s=e.loop;a>t&&a>270&&t<90?++e.loop:a<t&&a<90&&t>270&&--e.loop;var u=e.loop,c=360*s+a-o+r,l=360*u+t-o+r,f=n*((l=me(l,i))-c),d=n*(l-r);return e.prevDeg=l-360*u+o-r,[f,d,l]}function ht(e,t,n,r,i,a){return dt(e,y(e.startAbsoluteOrigin,[n,r])/Math.PI*180,t,i,a)}function pt(e,t,n,r,i){return"left"===e?[r,t]:"right"===e?[n,i]:"bottom"===e?[i,r]:[t,n]}function vt(e){return(0,s.hasClass)(e,Y("rotation"))}var gt={name:"rotatable",canPinch:!0,render:function(e,t){var n=e.props,r=n.rotatable,i=n.rotationPosition;if(!r)return null;var a=e.state,o=a.pos1,s=a.pos2,u=a.pos3,c=a.pos4,l=a.direction,f=pt(i,o,s,u,c),d=fe(f,l);return t.createElement("div",{key:"rotation",className:Y("line rotation-line"),style:{transform:"translate("+(f[0][0]+f[1][0])/2+"px, "+(f[0][1]+f[1][1])/2+"px) translateY(-40px) rotate("+d+"rad)"}},t.createElement("div",{className:Y("control","rotation")}))},dragControlCondition:vt,dragControlStart:function(e,t){var n=t.datas,r=t.clientX,i=t.clientY,a=t.parentRotate,o=t.parentFlag,s=t.pinchFlag,u=e.state,c=u.target,l=u.left,f=u.top,d=u.origin,h=u.beforeOrigin,p=u.direction,v=u.beforeDirection,g=u.targetTransform,m=u.pos1,y=u.pos2,b=u.pos3,_=u.pos4;if(!c)return!1;n.transform=g,n.left=l,n.top=f;var w=pt(e.props.rotationPosition,m,y,b,_),S=function(e,t){var n=e[0],r=e[1],i=x([0,-40,1],t);return[(n[0]+r[0])/2+i[0],(n[1]+r[1])/2+i[1]]}(w,fe(w,p));s||o?(n.beforeInfo={prevDeg:a,startDeg:a,loop:0},n.afterInfo={prevDeg:a,startDeg:a,loop:0}):(n.afterInfo={},n.beforeInfo={},ft(n.afterInfo,r,i,d,S),ft(n.beforeInfo,r,i,h,S)),n.direction=p,n.beforeDirection=v,n.startRotate=0,n.datas={};var A=we(e,t,{set:function(e){n.startRotate=e}}),C=Se(e,"onRotateStart",A);return n.isRotate=!1!==C,!!n.isRotate&&A},dragControl:function(e,t){var n,r,i,a,o=t.datas,s=t.clientX,u=t.clientY,c=t.parentRotate,l=t.parentFlag,f=t.pinchFlag,d=o.direction,h=o.beforeDirection,p=o.beforeInfo,v=o.afterInfo,g=o.isRotate,m=o.startRotate;if(g){var y,b,_,w,S,A,C=e.props,P=C.throttleRotate,E=void 0===P?0:P,T=C.parentMoveable;if(f||l?(y=(n=dt(v,c,d,m,E))[0],b=n[1],_=n[2],w=(r=dt(p,c,d,m,E))[0],S=r[1],A=r[2]):(y=(i=ht(v,d,s,u,m,E))[0],b=i[1],_=i[2],w=(a=ht(p,h,s,u,m,E))[0],S=a[1],A=a[2]),y||w||T){var x=we(e,t,{delta:y,dist:b,rotate:_,beforeDist:S,beforeDelta:w,beforeRotate:A,transform:o.transform+" rotate("+b+"deg)",isPinch:!!f});return Se(e,"onRotate",x),x}}},dragControlEnd:function(e,t){var n=t.datas,r=t.isDrag;return!!n.isRotate&&(n.isRotate=!1,Se(e,"onRotateEnd",we(e,t,{isDrag:r})),r)},dragGroupControlCondition:vt,dragGroupControlStart:function(e,t){var n=t.datas,r=t.inputEvent,i=e.state,a=i.left,o=i.top,s=i.beforeOrigin,u=this.dragControlStart(e,t);if(!u)return!1;var c=Ne(e,this,"dragControlStart",n,F({},t,{parentRotate:0}),(function(e,t,n){var i=e.state,u=i.left,c=i.top,l=i.beforeOrigin,f=P(E([u,c],[a,o]),E(l,s));t.prevClient=f,n.dragStart=ut.dragStart(e,(new lt).dragStart(f,r))})),l=Se(e,"onRotateGroupStart",F({},u,{targets:e.props.targets,events:c}));return n.isRotate=!1!==l,!!n.isDrag&&u},dragGroupControl:function(e,t){var n=t.inputEvent,r=t.datas;if(r.isRotate){var i=this.dragControl(e,t);if(i){var a=i.beforeDist,o=i.beforeDelta/180*Math.PI,s=Ne(e,this,"dragControl",r,F({},t,{parentRotate:a}),(function(e,t,r,i){var a=t.prevClient,s=a[0],u=a[1],c=x([s,u],o),l=c[0],f=c[1],d=[l-s,f-u];t.prevClient=[l,f];var h=ut.drag(e,ct(e.state,d,n));r.drag=h})),u=F({targets:e.props.targets,events:s},i);return e.rotation+=i.beforeDelta,Se(e,"onRotateGroup",u),u}}},dragGroupControlEnd:function(e,t){var n=t.isDrag,r=t.datas;if(r.isRotate)return this.dragControlEnd(e,t),Ne(e,this,"dragControlEnd",r,t),Se(e,"onRotateGroupEnd",we(e,t,{targets:e.props.targets,isDrag:n})),n}};function mt(e,t,n){var r=e.state,i=r.pos1,a=r.pos2,o=r.pos3,s=r.pos4,u=r.rotation,c=e.props.renderDirections,l=void 0===c?t:c,f=[i,a,o,s],d={};return l.forEach((function(e){d[e]=!0})),l.map((function(e){var t=z[e];return t&&d[e]?n.createElement("div",{className:Y("control","direction",e),"data-direction":e,key:e,style:ce.apply(void 0,[u].concat(t.map((function(e){return f[e]}))))}):null}))}function yt(e,t){return mt(e,["nw","ne","sw","se","n","w","s","e"],t)}function bt(e,t){return mt(e,["nw","ne","sw","se"],t)}var _t={name:"resizable",ableGroup:"size",updateRect:!0,canPinch:!0,render:function(e,t){var n=e.props,r=n.resizable,i=n.edge;if(r)return i?bt(e,t):yt(e,t)},dragControlCondition:De,dragControlStart:function(e,t){var n,r=t.inputEvent,i=t.pinchFlag,a=t.datas,o=r.target,s=i?[1,1]:pe(o),u=e.state,c=u.target,l=u.width,f=u.height;if(!s||!c)return!1;!i&&Fe(e,{datas:a}),a.datas={},a.direction=s,a.startOffsetWidth=l,a.startOffsetHeight=f,a.prevWidth=0,a.prevHeight=0,n=function(e){var t=window.getComputedStyle(e);return[parseFloat(t.width),parseFloat(t.height)]}(c),a.startWidth=n[0],a.startHeight=n[1],a.transformOrigin=e.props.transformOrigin,a.startDirection=function(e,t){var n=e.props.baseDirection,r=void 0===n?[-1,-1]:n;return[t[0]?t[0]:-1*r[0],t[1]?t[1]:-1*r[1]]}(e,s),a.fixedPosition=Xe(e,a.startDirection),a.fixedOriginalPosition=Xe(e,s);var d=we(e,t,{direction:s,set:function(e){var t=e[0],n=e[1];a.startWidth=t,a.startHeight=n},setOrigin:function(e){a.transformOrigin=e},dragStart:ut.dragStart(e,(new lt).dragStart([0,0],r))});return!1!==Se(e,"onResizeStart",d)&&(a.isResize=!0,e.state.snapDirection=s),!!a.isResize&&d},dragControl:function(e,t){var n=t.datas,r=t.distX,i=t.distY,a=t.parentFlag,o=t.pinchFlag,s=t.parentDistance,u=t.parentScale,c=t.inputEvent,l=t.dragClient,f=n.direction,d=n.isResize,h=n.transformOrigin;if(d){var p=n.startWidth,v=n.startHeight,g=n.startOffsetWidth,m=n.startOffsetHeight,b=n.prevWidth,_=n.prevHeight,w=e.props,S=w.throttleResize,A=void 0===S?0:S,C=w.parentMoveable,P=e.props.keepRatio||u,E=f[0]||!f[1],T=E?m/g:g/m,x=0,k=0;if(u)x=(u[0]-1)*g,k=(u[1]-1)*m;else if(o)s&&(x=s,k=s*m/g);else{var O=Be({datas:n,distX:r,distY:i});if(x=f[0]*O[0],k=f[1]*O[1],P&&g&&m){var R=y([0,0],O),M=y([0,0],f),L=y([0,0],[g,m]),I=Math.sqrt(x*x+k*k),N=Math.cos(R-M)*I;f[0]?f[1]?(x=Math.cos(L)*N,k=Math.sin(L)*N):k=Pe(x=N,E,T):x=Ee(k=N,E,T)}}var D=f[0]||P?Math.max(g+x,0):g,F=f[1]||P?Math.max(m+k,0):m,B=[0,0];if(o||(B=function(e,t,n,r,i){if(!$e(e,"resizable"))return[0,0];var a=e.state;return ot(e,a.matrix,t,n,r,r,i,a.is3d)}(e,D,F,f,n)),P){f[0]&&f[1]&&B[0]&&B[1]&&(Math.abs(B[0])>Math.abs(B[1])?B[1]=0:B[0]=0);var j=!B[0]&&!B[1];j&&(E?D=me(D,A):F=me(F,A)),f[0]&&!f[1]||B[0]&&!B[1]||j&&E?F=Pe(D+=B[0],E,T):(!f[0]&&f[1]||!B[0]&&B[1]||j&&!E)&&(D=Ee(F+=B[1],E,T))}else D+=B[0],F+=B[1],B[0]||(D=me(D,A)),B[1]||(F=me(F,A));var U=[(x=(D=Math.round(D))-g)-b,(k=(F=Math.round(F))-m)-_];if(n.prevWidth=x,n.prevHeight=k,C||!U.every((function(e){return!e}))){var V=P||a?f:n.startDirection,W=l||(P?n.fixedOriginalPosition:n.fixedPosition),G=!a&&o?[0,0]:Ye(e,D,F,V,W,h),H=we(e,t,{width:p+x,height:v+k,offsetWidth:D,offsetHeight:F,direction:f,dist:[x,k],delta:U,isPinch:!!o,drag:ut.drag(e,ct(e.state,G,c))});return Se(e,"onResize",H),H}}},dragControlAfter:function(e,t){var n=t.datas,r=n.isResize,i=n.startOffsetWidth,a=n.startOffsetHeight,o=n.prevWidth,s=n.prevHeight;if(r){var u=e.state,c=u.width-(i+o),l=u.height-(a+s),f=Math.abs(c)>3,d=Math.abs(l)>3;return f&&(n.startWidth+=c,n.startOffsetWidth+=c,n.prevWidth+=c),d&&(n.startHeight+=l,n.startOffsetHeight+=l,n.prevHeight+=l),f||d?(this.dragControl(e,t),!0):void 0}},dragControlEnd:function(e,t){var n=t.datas,r=t.isDrag;return!!n.isResize&&(n.isResize=!1,Se(e,"onResizeEnd",we(e,t,{isDrag:r})),r)},dragGroupControlCondition:De,dragGroupControlStart:function(e,t){var n=t.datas,r=this.dragControlStart(e,t);if(!r)return!1;var i=r.direction,a=We(ge(e.state),i),o=Ne(e,this,"dragControlStart",n,(function(n,r){var o=We(ge(n.state),i),s=T(O(-e.rotation/180*Math.PI,3),[o[0]-a[0],o[1]-a[1],1],3),u=s[0],c=s[1];return r.originalX=u,r.originalY=c,t})),s=F({},r,{targets:e.props.targets,events:o}),u=Se(e,"onResizeGroupStart",s);return n.isResize=!1!==u,!!n.isResize&&r},dragGroupControl:function(e,t){var n=t.datas;if(n.isResize){var r=this.dragControl(e,t);if(r){var i=r.offsetWidth,a=r.offsetHeight,o=r.dist,s=[i/(i-o[0]),a/(a-o[1])],u=n.fixedOriginalPosition,c=Ne(e,this,"dragControl",n,(function(n,r){var i=T(O(e.rotation/180*Math.PI,3),[r.originalX*s[0],r.originalY*s[1],1],3),a=i[0],o=i[1];return F({},t,{parentScale:s,dragClient:P(u,[a,o])})})),l=F({targets:e.props.targets,events:c},r);return Se(e,"onResizeGroup",l),l}}},dragGroupControlEnd:function(e,t){var n=t.isDrag,r=t.datas;if(r.isResize)return this.dragControlEnd(e,t),Ne(e,this,"dragControlEnd",r,t),Se(e,"onResizeGroupEnd",we(e,t,{targets:e.props.targets,isDrag:n})),n}},wt={name:"scalable",ableGroup:"size",canPinch:!0,render:function(e,t){var n=e.props,r=n.resizable,i=n.scalable,a=n.edge;if(!r&&i)return a?bt(e,t):yt(e,t)},dragControlCondition:De,dragControlStart:function(e,t){var n=t.datas,r=t.pinchFlag,i=t.inputEvent,a=i.target,o=r?[1,1]:pe(a),s=e.state,u=s.width,c=s.height,l=s.targetTransform,f=s.target;if(!o||!f)return!1;r||Fe(e,{datas:n}),n.datas={},n.transform=l,n.prevDist=[1,1],n.direction=o,n.width=u,n.height=c,n.startScale=[1,1];var d=we(e,t,{direction:o,set:function(e){n.startScale=e},dragStart:ut.dragStart(e,(new lt).dragStart([0,0],i))});return!1!==Se(e,"onScaleStart",d)&&(n.isScale=!0,e.state.snapDirection=o),!!n.isScale&&d},dragControl:function(e,t){var n=t.datas,r=t.distX,i=t.distY,a=t.parentScale,o=t.parentDistance,u=t.parentFlag,c=t.pinchFlag,l=t.inputEvent,f=t.dragClient,d=n.prevDist,h=n.direction,p=n.width,v=n.height,g=n.transform,m=n.isScale,b=n.startScale;if(!m)return!1;var _=e.props,w=_.throttleScale,S=_.parentMoveable,A=e.props.keepRatio||a,C=e.state,P=h[0]||!h[1],T=1,x=1,k=p*b[0],O=v*b[1],R=P?O/k:k/O;if(a)T=a[0],x=a[1];else if(c)o&&(T=(p+o)/p,x=(v+o*v/p)/v);else{var M=Be({datas:n,distX:r,distY:i}),L=h[0]*M[0],I=h[1]*M[1];if(A&&p&&v){var N=y([0,0],M),D=y([0,0],h),F=y([0,0],[k,O]),B=Math.sqrt(L*L+I*I),j=Math.cos(N-D)*B;h[0]?h[1]?(L=Math.cos(F)*j,I=Math.sin(F)*j):I=Pe(L=j,P,R):L=Ee(I=j,P,R)}T=(p+L)/p,x=(v+I)/v}T=h[0]?T*b[0]:b[0],x=h[1]?x*b[1]:b[1],0===T&&(T=1e-9*(d[0]>0?1:-1)),0===x&&(x=1e-9*(d[1]>0?1:-1));var U,V=[T/b[0],x/b[1]],W=h;if(e.props.groupable){W=[(V[0]>=0?1:-1)*h[0],(V[1]>=0?1:-1)*h[1]];var G=C.snapDirection;(0,s.isArray)(G)&&(G[0]||G[1])&&(C.snapDirection=W)}var H=[0,0];if(c||(H=function(e,t,n,r,i){var a=i.width,o=i.height;if(!$e(e,"scalable"))return[0,0];var s=ot(e,qe(i,t),a,o,n,r,i,i.is3d);return[s[0]/a,s[1]/o]}(e,V,h,W,n)),A){h[0]&&h[1]&&H[0]&&H[1]&&(Math.abs(H[0])>Math.abs(H[1])?H[1]=0:H[0]=0);var z=!H[0]&&!H[1];if(z&&(P?V[0]=me(V[0]*b[0],w)/b[0]:V[1]=me(V[1]*b[1],w)/b[1]),h[0]&&!h[1]||H[0]&&!H[1]||z&&P){V[0]+=H[0];var Y=Pe(p*V[0]*b[0],P,R);V[1]=Y/v/b[1]}else if(!h[0]&&h[1]||!H[0]&&H[1]||z&&!P){V[1]+=H[1];var X=Ee(v*V[1]*b[1],P,R);V[0]=X/p/b[0]}}else H[0]||(V[0]=me(V[0]*b[0],w)/b[0]),H[1]||(V[1]=me(V[1]*b[1],w)/b[1]);0===V[0]&&(V[0]=1e-9*(d[0]>0?1:-1)),0===V[1]&&(V[1]=1e-9*(d[1]>0?1:-1));var K=[V[0]/d[0],V[1]/d[1]];if(U=q(V,b),n.prevDist=V,T===d[0]&&x===d[1]&&!S)return!1;var Q=!u&&c?[0,0]:function(e,t,n,r){var i=e.state,a=i.is3d,o=i.left,s=i.top,u=i.width,c=i.height,l=a?4:3,f=e.props.groupable,d=qe(e.state,t),h=f?o:0,p=f?s:0;return E(He(r||Ge(ge(e.state),n),d,u,c,l,n),[h,p])}(e,K,h,f),Z=we(e,t,{scale:U,direction:h,dist:V,delta:K,transform:g+" scale("+T+", "+x+")",isPinch:!!c,drag:ut.drag(e,ct(e.state,Q,l))});return Se(e,"onScale",Z),Z},dragControlEnd:function(e,t){var n=t.datas,r=t.isDrag;return!!n.isScale&&(n.isScale=!1,Se(e,"onScaleEnd",we(e,t,{isDrag:r})),r)},dragGroupControlCondition:De,dragGroupControlStart:function(e,t){var n=t.datas,r=this.dragControlStart(e,t);if(!r)return!1;var i=r.direction,a=We(ge(e.state),i),o=Ne(e,this,"dragControlStart",n,(function(n,r){var o=We(ge(n.state),i),s=T(O(-e.rotation/180*Math.PI,3),[o[0]-a[0],o[1]-a[1],1],3),u=s[0],c=s[1];return r.originalX=u,r.originalY=c,t})),s=F({},r,{targets:e.props.targets,events:o}),u=Se(e,"onScaleGroupStart",s);return n.isScale=!1!==u,!!n.isScale&&s},dragGroupControl:function(e,t){var n=t.datas;if(n.isScale){var r=this.dragControl(e,t);if(r){var i=r.scale,a=r.direction,o=r.dist,s=We(ge(e.state),q(a,o)),u=Ne(e,this,"dragControl",n,(function(n,r){var a=T(O(e.rotation/180*Math.PI,3),[r.originalX*i[0],r.originalY*i[1],1],3),o=a[0],u=a[1];return F({},t,{parentScale:i,dragClient:P(s,[o,u])})})),c=F({targets:e.props.targets,events:u},r);return Se(e,"onScaleGroup",c),c}}},dragGroupControlEnd:function(e,t){var n=t.isDrag,r=t.datas;if(r.isScale)return this.dragControlEnd(e,t),Ne(e,this,"dragControlEnd",r,t),Se(e,"onScaleGroupEnd",we(e,t,{targets:e.props.targets,isDrag:n})),n}};function St(e,t){return e.map((function(e,n){return(0,s.dot)(e,t[n],1,2)}))}function At(e,t,n){var r=y(e,t),i=y(e,n)-r;return i>=0?i:i+2*Math.PI}var Ct={name:"warpable",ableGroup:"size",render:function(e,t){var n=e.props,r=n.resizable,i=n.scalable,a=n.warpable;if(!r&&!i&&a){var o=e.state,s=o.pos1,u=o.pos2,c=o.pos3,l=o.pos4,f=St(s,u),d=St(u,s),h=St(s,c),p=St(c,s),v=St(c,l),g=St(l,c),m=St(u,l),y=St(l,u);return[t.createElement("div",{className:Y("line"),key:"middeLine1",style:ue(f,v)}),t.createElement("div",{className:Y("line"),key:"middeLine2",style:ue(d,g)}),t.createElement("div",{className:Y("line"),key:"middeLine3",style:ue(h,m)}),t.createElement("div",{className:Y("line"),key:"middeLine4",style:ue(p,y)})].concat(yt(e,t))}},dragControlCondition:function(e){return(0,s.hasClass)(e,Y("direction"))},dragControlStart:function(e,t){var n=t.datas,r=t.inputEvent,i=e.props.target,a=pe(r.target);if(!a||!i)return!1;var o=e.state,s=o.transformOrigin,u=o.is3d,c=o.targetTransform,l=o.targetMatrix,f=o.width,d=o.height,h=o.left,p=o.top;n.datas={},n.targetTransform=c,n.warpTargetMatrix=u?l:_(l,3,4),n.targetInverseMatrix=function(e,t,n){void 0===n&&(n=Math.sqrt(e.length));for(var r=e.slice(),i=0;i<n;++i)r[i*n+t-1]=0,r[(t-1)*n+i]=0;return r[(t-1)*(n+1)]=1,r}(g(n.warpTargetMatrix,4),3,4),n.direction=a,n.left=h,n.top=p,Fe(e,{datas:n}),n.poses=[[0,0],[f,0],[0,d],[f,d]].map((function(e,t){return E(e,s)})),n.nextPoses=n.poses.map((function(e){var t=e[0],r=e[1];return T(n.warpTargetMatrix,[t,r,0,1],4)})),n.startMatrix=R(4),n.prevMatrix=R(4),n.absolutePoses=ge(o),n.posIndexes=je(a),o.snapDirection=a;var v=Se(e,"onWarpStart",we(e,t,{set:function(e){n.startMatrix=e}}));return!1!==v&&(n.isWarp=!0),v},dragControl:function(e,t){var n=t.datas,r=t.distX,i=t.distY,a=n.targetInverseMatrix,o=n.prevMatrix,s=n.isWarp,u=n.startMatrix,c=n.poses,l=n.posIndexes,f=n.absolutePoses;if(!s)return!1;if($e(e,"warpable")){var d=l.map((function(e){return f[e]}));d.length>1&&d.push([(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2]);var h=et(e,d.map((function(e){return e[0]+r})),d.map((function(e){return e[1]+i}))),p=h.horizontal.offset,v=h.vertical.offset;i-=p,r-=v}var m=Be({datas:n,distX:r,distY:i},!0),y=n.nextPoses.slice();if(l.forEach((function(e){y[e]=P(y[e],m)})),!W.every((function(e){return t=e.map((function(e){return c[e]})),n=e.map((function(e){return y[e]})),r=At(t[0],t[1],t[2]),i=At(n[0],n[1],n[2]),a=Math.PI,!(r>=a&&i<=a||r<=a&&i>=a);var t,n,r,i,a})))return!1;var b=I(c[0],c[1],c[2],c[3],y[0],y[1],y[2],y[3]);if(!b.length)return!1;var _=k(S(a,b,4)),w=n.targetTransform+" matrix3d("+_.join(",")+")",C=A(g(o,4),_,4);return n.prevMatrix=_,Se(e,"onWarp",we(e,t,{delta:C,matrix:A(u,_,4),multiply:A,dist:_,transform:w})),!0},dragControlEnd:function(e,t){var n=t.datas,r=t.isDrag;return!!n.isWarp&&(n.isWarp=!1,Se(e,"onWarpEnd",we(e,t,{isDrag:r})),r)}},Pt=Y("area"),Et=Y("area-pieces"),Tt=Y("area-piece"),xt=Y("avoid");function kt(e){var t=e.areaElement,n=e.state,r=n.width,i=n.height;(0,s.removeClass)(t,xt),t.style.cssText+="left: 0px; top: 0px; width: "+r+"px; height: "+i+"px"}function Ot(e){return e.createElement("div",{key:"area_pieces",className:Et},e.createElement("div",{className:Tt}),e.createElement("div",{className:Tt}),e.createElement("div",{className:Tt}),e.createElement("div",{className:Tt}))}function Rt(e){var t=e.scrollContainer;return[t.scrollLeft,t.scrollTop]}var Mt=[st,Ie,ut,gt,_t,wt,Ct,{name:"scrollable",canPinch:!0,dragStart:function(e,t){var n=e.props.scrollContainer,r=void 0===n?e.getContainer():n,i=r.getBoundingClientRect(),a=t.datas;a.scrollContainer=r,a.scrollRect={left:i.left,top:i.top,width:i.width,height:i.height},a.isScroll=!0},drag:function(e,t){this.checkScroll(e,t)},dragEnd:function(e,t){t.datas.isScroll=!1},dragGroupStart:function(e,t){this.dragStart(e,t)},dragGroup:function(e,t){this.drag(e,F({},t,{targets:e.props.targets}))},dragGroupEnd:function(e,t){this.dragEnd(e,t)},checkScroll:function(e,t){var n=t.datas,r=t.inputEvent,i=t.clientX,a=t.clientY,o=t.isScroll,s=t.targets;if(n.isScroll){o||(n.prevClientX=i,n.prevClientY=a);var u=e.props,c=u.scrollThreshold,l=void 0===c?0:c,f=u.getScrollPosition,d=void 0===f?Rt:f,h=n.scrollContainer,p=n.scrollRect,v=[0,0];if(p.top>a-l?v[1]=-1:p.top+p.height<a+l&&(v[1]=1),p.left>i-l?v[0]=-1:p.left+p.width<i+l&&(v[0]=1),v[0]||v[1]){var g=d({scrollContainer:h,direction:v}),m=we(e,t,{scrollContainer:h,direction:v}),y=s?"onScrollGroup":"onScroll";s&&(m.targets=s),Se(e,y,m),requestAnimationFrame((function(){if(n.prevClientX===i&&n.prevClientY===a){var t=d({scrollContainer:h,direction:v}),o=t[0]-g[0],s=t[1]-g[1];(o||s)&&(e.targetDragger.scrollBy(v[0]?o:0,v[1]?s:0,r,!1),setTimeout((function(){n.prevClientX===i&&n.prevClientY===a&&e.targetDragger.onDrag(r,!0)}),10))}}))}}}},{name:"dragArea",render:function(e,t){var n=e.props,r=n.target,i=n.dragArea,o=n.groupable,s=e.state,u=s.width,c=s.height,l=s.pos1,f=s.pos2,d=s.pos3,h=s.pos4;if(o)return[t.createElement("div",{key:"area",ref:(0,a.ref)(e,"areaElement"),className:Pt}),Ot(t)];if(!r||!i)return[];var p=I([0,0],[u,0],[0,c],[u,c],l,f,d,h),v=p.length?"matrix3d("+k(p).join(",")+")":"none";return[t.createElement("div",{key:"area",ref:(0,a.ref)(e,"areaElement"),className:Pt,style:{top:"0px",left:"0px",width:u+"px",height:c+"px",transformOrigin:"0 0",transform:v}}),Ot(t)]},dragStart:function(e,t){var n=t.datas,r=t.clientX,i=t.clientY,a=t.inputEvent;n.isDragArea=!1,n.inputTarget=a.target;var o=e.areaElement,u=e.state,c=u.clientRect,l=u.pos1,f=u.pos2,d=u.pos3,h=u.pos4,p=c.left,v=c.top,g=c.width,m=c.height,y=ae([l,f,d,h]),b=y.left,_=y.top,w=r-p,S=i-v,A=[{left:b,top:_,width:g,height:S-10},{left:b,top:_,width:w-10,height:m},{left:b,top:_+S+10,width:g,height:m-S-10},{left:b+w+10,top:_,width:g-w-10,height:m}],C=[].slice.call(o.nextElementSibling.children);A.forEach((function(e,t){C[t].style.cssText="left: "+e.left+"px;top: "+e.top+"px; width: "+e.width+"px; height: "+e.height+"px;"})),(0,s.addClass)(o,xt)},drag:function(e,t){var n=t.datas;n.isDragArea||(n.isDragArea=!0,kt(e))},dragEnd:function(e,t){var n=t.inputEvent,r=t.isDragArea;t.datas.isDragArea||kt(e);var i=e.state.target,a=n.target;if(!r&&!e.isMoveableElement(a)){var o=i.contains(a);Se(e,"onClick",we(e,t,{inputTarget:a,isTarget:i===a,containsTarget:o}))}},dragGroupStart:function(e,t){this.dragStart(e,t)},dragGroup:function(e,t){this.drag(e,t)},dragGroupEnd:function(e,t){var n=t.inputEvent,r=t.isDragArea,i=t.datas;r||kt(e);var a=i.inputTarget,o=n.target;if(!r&&!e.isMoveableElement(o)&&a!==o){var u=e.props.targets,c=u.indexOf(o),l=c>-1,f=!1;-1===c&&(f=(c=(0,s.findIndex)(u,(function(e){return e.contains(o)})))>-1),Se(e,"onClickGroup",we(e,t,{targets:u,inputTarget:o,targetIndex:c,isTarget:l,containsTarget:f}))}}},{name:"origin",render:function(e,t){if(!e.props.origin)return null;var n=e.state,r=n.beforeOrigin,i=n.rotation;return[t.createElement("div",{className:Y("control","origin"),style:ce(i,r),key:"beforeOrigin"})]}}],Lt={name:"groupable",render:function(e,t){var n=e.props.targets||[];e.moveables=[];var r=e.state,i={left:r.left,top:r.top};return n.map((function(n,r){return t.createElement(Me,{key:r,ref:(0,a.refs)(e,"moveables",r),target:n,origin:!1,parentMoveable:e,parentPosition:i})})).slice()}};function It(e,t){return Math.max.apply(Math,e.map((function(e){var n=e[0],r=e[1],i=e[2],a=e[3];return Math.max(n[t],r[t],i[t],a[t])})))}function Nt(e,t){return Math.min.apply(Math,e.map((function(e){var n=e[0],r=e[1],i=e[2],a=e[3];return Math.min(n[t],r[t],i[t],a[t])})))}var Dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.differ=new l.default,t.moveables=[],t.rotation=0,t}D(t,e);var n=t.prototype;return n.updateEvent=function(e){var t=this.state,n=this.props;t.target||(t.target=this.areaElement,this.controlBox.getElement().style.display="block",this.targetDragger=ke(this,t.target,"targetAbles","Group"),this.controlDragger=ke(this,this.controlBox.getElement(),"controlAbles","GroupControl"));var r=!Te(e.container,n.container);r&&(t.container=n.container);var i=this.differ.update(n.targets),a=i.added,o=i.changed,s=i.removed;(r||a.length||o.length||s.length)&&this.updateRect()},n.checkUpdate=function(){this.updateAbles()},n.updateRect=function(e,t,n){var r;if(void 0===n&&(n=!0),this.controlBox){this.moveables.forEach((function(t){t.updateRect(e,!1,!1)}));var i=this.state,a=this.props,o=i.target||a.target;(!t||""!==e&&a.updateGroup)&&(this.rotation=a.defaultGroupRotate);var s=this.rotation,u=function(e,t){if(!e.length)return[0,0,0,0];var n=e.map((function(e){return ge(e.state)})),r=G,i=G,a=0,o=0,s=me(t,1e-7);if(s%90){var u=t/180*Math.PI,c=Math.tan(u),l=-1/c,f=[H,G],d=[H,G];n.forEach((function(e){e.forEach((function(e){var t=e[1]-c*e[0],n=e[1]-l*e[0];f[0]=Math.max(f[0],t),f[1]=Math.min(f[1],t),d[0]=Math.max(d[0],n),d[1]=Math.min(d[1],n)}))})),f.forEach((function(e){d.forEach((function(t){var n=(t-e)/(c-l),a=c*n+e;r=Math.min(r,n),i=Math.min(i,a)}))}));var h=n.map((function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return[x(t,-u),x(n,-u),x(r,-u),x(i,-u)]}));a=It(h,0)-Nt(h,0),o=It(h,1)-Nt(h,1)}else if(r=Nt(n,0),i=Nt(n,1),a=It(n,0)-r,o=It(n,1)-i,s%180){var p=a;a=o,o=p}return[r,i,a,o]}(this.moveables,s),c=u[0],l=u[1],f=u[2],d=u[3];o.style.cssText+="left:0px;top:0px;width:"+f+"px; height:"+d+"px;transform:rotate("+s+"deg)",i.width=f,i.height=d;var h=de(o,this.controlBox.getElement(),this.getContainer(),i),p=[h.left,h.top];r=ge(h),h.pos1=r[0],h.pos2=r[1],h.pos3=r[2],h.pos4=r[3],h.origin=P(p,h.origin),h.beforeOrigin=P(p,h.beforeOrigin);var v=h.clientRect;v.top+=l-h.top-i.top,v.left+=c-h.left-i.left,this.updateState(F({},h,{left:c-h.left,top:l-h.top}),n)}},n.triggerEvent=function(t,n){if(t.indexOf("Group")>-1)return e.prototype.triggerEvent.call(this,t,n)},n.updateAbles=function(){e.prototype.updateAbles.call(this,this.props.ables.concat([Lt]),"Group")},t.defaultProps=F({},Me.defaultProps,{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0}),t}(Me),Ft=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}D(t,e);var n=t.prototype;return n.render=function(){var e=this.props.ables||[],t=this.props.target||this.props.targets,n=(0,s.isArray)(t);if(n&&t.length>1){var r=F({},this.props,{target:null,targets:t,ables:Mt.concat([Lt],e)});return(0,i.createElement)(Dt,F({key:"group",ref:(0,a.ref)(this,"moveable")},r))}var o=n?t[0]:t;return(0,i.createElement)(Me,F({key:"single",ref:(0,a.ref)(this,"moveable")},F({},this.props,{target:o,ables:Mt.concat(e)})))},n.isMoveableElement=function(e){return this.moveable.isMoveableElement(e)},n.dragStart=function(e){this.moveable.dragStart(e)},n.isInside=function(e,t){return this.moveable.isInside(e,t)},n.updateRect=function(){this.moveable.updateRect()},n.updateTarget=function(){this.moveable.updateTarget()},n.getRect=function(){return this.moveable.getRect()},n.destroy=function(){this.moveable.componentWillUnmount()},t}(i.PureComponent);t.default=Ft},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="undefined"!=typeof window&&window||{},i=(r.RegExp,r.navigator),a=[{criteria:"PhantomJS",identity:"PhantomJS"},{criteria:/Whale/,identity:"Whale",versionSearch:"Whale"},{criteria:/Edge/,identity:"Edge",versionSearch:"Edge"},{criteria:/MSIE|Trident|Windows Phone/,identity:"IE",versionSearch:"IEMobile|MSIE|rv"},{criteria:/MiuiBrowser/,identity:"MIUI Browser",versionSearch:"MiuiBrowser"},{criteria:/SamsungBrowser/,identity:"Samsung Internet",versionSearch:"SamsungBrowser"},{criteria:/SAMSUNG /,identity:"Samsung Internet",versionSearch:"Version"},{criteria:/Chrome|CriOS/,identity:"Chrome"},{criteria:/Android/,identity:"Android Browser",versionSearch:"Version"},{criteria:/iPhone|iPad/,identity:"Safari",versionSearch:"Version"},{criteria:"Apple",identity:"Safari",versionSearch:"Version"},{criteria:"Firefox",identity:"Firefox"}],o=[{criteria:/Windows Phone/,identity:"Windows Phone",versionSearch:"Windows Phone"},{criteria:"Windows 2000",identity:"Window",versionAlias:"5.0"},{criteria:/Windows NT/,identity:"Window",versionSearch:"Windows NT"},{criteria:/iPhone|iPad/,identity:"iOS",versionSearch:"iPhone OS|CPU OS"},{criteria:"Mac",versionSearch:"OS X",identity:"MAC"},{criteria:/Android/,identity:"Android"},{criteria:/Tizen/,identity:"Tizen"},{criteria:/Web0S/,identity:"WebOS"}],s=[{criteria:/iPhone|iPad/,browserVersionSearch:"Version",webviewBrowserVersion:/-1/},{criteria:/iPhone|iPad|Android/,webviewToken:/NAVER|DAUM|; wv/}],u={browser:{version:"-1",name:"unknown"},os:{version:"-1",name:"unknown"}};function c(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n}var l=void 0;function f(e){l=e}function d(e,t){return t&&t.test?!!t.test(e):e.indexOf(t)>-1}function h(e,t){var n=c(e,(function(e){return d(l,e.criteria)}))[0];return n&&n.identity||t.name}function p(e,t){return c(e,(function(e){var n=e.criteria,r=new RegExp(e.identity,"i").test(t);return!!(n?r&&d(l,n):r)}))[0]}function v(e,t){var n=u.browser.version,r=new RegExp("("+e+")","i").exec(t);if(!r)return n;var i=r.index,a=r[0];if(i>-1){var o=i+a.length+1;n=t.substring(o).split(" ")[0].replace(/_/g,".").replace(/;|\)/g,"")}return n}function g(e){if(e)return v(function(e){var t=p(a,e);return t||(t={criteria:e,versionSearch:e,identity:e}),t}(e).versionSearch||e,l)}function m(e){var t=function(e){return p(o,e)}(e)||{},n=u.os.version,r=void 0;if(e){if(t.versionAlias)return t.versionAlias;var i=t.versionSearch||e,a=new RegExp("("+i+")\\s([\\d_\\.]+|\\d_0)","i");return a.exec(l)&&(r=a.exec(l)[2].replace(/_/g,".").replace(/;|\)/g,"")),r||n}}function y(){var e=h(o,u.os);return{name:e,version:m(e)}}function b(){var e,t=h(a,u.browser);return{name:t,version:g(t),webview:(e=void 0,function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}(c(s,(function(e){return d(l,e.criteria)})),(function(t){return e=v(t.browserVersionSearch,l),!(!d(l,t.webviewToken)&&!d(e,t.webviewBrowserVersion))})))}}function _(){return-1!==l.indexOf("Mobi")}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.userAgent;f(e);var t={os:y(),browser:b(),isMobile:_()};return t.browser.name=t.browser.name.toLowerCase(),t.os.name=t.os.name.toLowerCase(),t.os.version=t.os.version.toLowerCase(),"ios"===t.os.name&&t.browser.webview&&(t.browser.version="-1"),t}w.VERSION="2.1.5";var S=w;t.default=S},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.cutHex=S,t.hexToRGBA=A,t.toFullHex=C,t.hslToRGBA=P,t.stringToRGBA=function(e){if("#"===e.charAt(0))return 4===e.length||5===e.length?A(C(e)):A(e);if(-1!==e.indexOf("(")){var t=p(e),n=t.prefix,r=t.value;if(!n||!r)return;var i=h(r),a=[],o=i.length;switch(n){case"rgb":case"rgba":for(var s=0;s<o;++s)a[s]=parseFloat(i[s]);return a;case"hsl":case"hsla":for(s=0;s<o;++s)-1!==i[s].indexOf("%")?a[s]=parseFloat(i[s])/100:a[s]=parseFloat(i[s]);return P(a)}}},t.dot=function(e,t,n,r){return(e*r+t*n)/(n+r)},t.isUndefined=function(e){return"undefined"===r(e)},t.isObject=function(e){return e&&"object"===r(e)},t.isArray=function(e){return Array.isArray(e)},t.isString=function(e){return"string"===r(e)},t.isFunction=function(e){return"function"===r(e)},t.splitSpace=function(e){return e.match(/("[^"]*")|('[^']*')|([^\s()]*(?:\((?:[^()]*|\([^()]*\))*\))[^\s()]*)|\S+/g)||[]},t.splitComma=h,t.splitBracket=p,t.splitUnit=function(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var n=t[1],r=t[2],i=t[3];return{prefix:n,unit:i,value:parseFloat(r)}},t.camelize=function(e){return e.replace(/[\s-_]([a-z])/g,(function(e,t){return t.toUpperCase()}))},t.decamelize=function(e,t){void 0===t&&(t="-");return e.replace(/([a-z])([A-Z])/g,(function(e,n,r){return""+n+t+r.toLowerCase()}))},t.toArray=function(e){return[].slice.call(e)},t.now=v,t.findIndex=g,t.find=function(e,t,n){var r=g(e,t);return r>-1?e[r]:n},t.$=function(e,t){return t?o.querySelectorAll(e):o.querySelector(e)},t.hasClass=function(e,t){if(e.classList)return e.classList.contains(t);return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},t.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},t.removeClass=function(e,t){if(e.classList)e.classList.remove(t);else{var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}},t.fromCSS=function(e,t){if(!e||!t||!t.length)return{};var n;if(e instanceof Element)n=e;else{if(!e.length)return{};n=e[0]}for(var r={},i=window.getComputedStyle(n),a=t.length,o=0;o<a;++o)r[t[o]]=i[t[o]];return r},t.addEvent=function(e,t,n,r){e.addEventListener(t,n,r)},t.removeEvent=function(e,t,n){e.removeEventListener(t,n)},t.cancelAnimationFrame=t.requestAnimationFrame=t.KEYFRAMES=t.ANIMATION=t.FILTER=t.TRANSFORM=t.getCrossBrowserProperty=t.document=t.IS_WINDOW=t.UNDEFINED=t.NUMBER=t.STRING=t.OBJECT=t.ARRAY=t.PROPERTY=t.FUNCTION=t.COLOR_MODELS=t.HSLA=t.HSL=t.RGBA=t.RGB=void 0;t.RGB="rgb";t.RGBA="rgba";t.HSL="hsl";t.HSLA="hsla";var i=["rgb","rgba","hsl","hsla"];t.COLOR_MODELS=i;t.FUNCTION="function";t.PROPERTY="property";t.ARRAY="array";t.OBJECT="object";t.STRING="string";t.NUMBER="number";t.UNDEFINED="undefined";var a="undefined"!==("undefined"==typeof window?"undefined":r(window));t.IS_WINDOW=a;var o="undefined"!==("undefined"==typeof document?"undefined":r(document))&&document;t.document=o;var s=["webkit","ms","moz","o"],u=function(e){if(!o)return"";var t=(o.body||o.documentElement).style,n=s.length;if("undefined"!==r(t[e]))return e;for(var i=0;i<n;++i){var a="-"+s[i]+"-"+e;if("undefined"!==r(t[a]))return a}return""};t.getCrossBrowserProperty=u;var c=u("transform");t.TRANSFORM=c;var l=u("filter");t.FILTER=l;var f=u("animation");t.ANIMATION=f;var d=f.replace("animation","keyframes");function h(e){var t=e.match(/("[^"]*"|'[^']*'|[^,\s()]*\((?:[^()]*|\([^()]*\))*\)[^,\s()]*|[^,])+/g);return t?t.map((function(e){return e.trim()})):[]}function p(e){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function v(){return Date.now?Date.now():(new Date).getTime()}function g(e,t,n){void 0===n&&(n=-1);for(var r=e.length,i=0;i<r;++i)if(t(e[i],i,e))return i;return n}t.KEYFRAMES=d;var m,y,b=(m=v(),(y=a&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame))?y.bind(window):function(e){var t=v();return window.setTimeout((function(){e(t-m)}),1e3/60)});t.requestAnimationFrame=b;var _,w=(_=a&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame))?_.bind(window):function(e){clearTimeout(e)};function S(e){return e.replace("#","")}function A(e){var t=S(e),n=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),i=parseInt(t.substring(4,6),16),a=parseInt(t.substring(6,8),16)/255;return isNaN(a)&&(a=1),[n,r,i,a]}function C(e){var t=e.charAt(1),n=e.charAt(2),r=e.charAt(3),i=e.charAt(4);return["#",t,t,n,n,r,r,i,i].join("")}function P(e){var t=e[0],n=e[1],r=e[2];t<0&&(t+=360*Math.floor((Math.abs(t)+360)/360)),t%=360;var i,a=(1-Math.abs(2*r-1))*n,o=a*(1-Math.abs(t/60%2-1)),s=r-a/2;return t<60?i=[a,o,0]:t<120?i=[o,a,0]:t<180?i=[0,a,o]:t<240?i=[0,o,a]:t<300?i=[o,0,a]:t<360&&(i=[a,0,o]),[Math.round(255*(i[0]+s)),Math.round(255*(i[1]+s)),Math.round(255*(i[2]+s)),e.length>3?e[3]:1]}t.cancelAnimationFrame=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(34);var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var o=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0};var s=function(e,t){var n,s="rCS"+o(t).toString(36),u=0;return function(o){function c(e){return o.call(this,e)||this}return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(c,o),c.prototype.render=function(){var t=this.props,n=t.className,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["className"]);return(0,r.createElement)(e,a({className:n+" "+s},i))},c.prototype.componentDidMount=function(){0===u&&(n=function(e,t){var n=document.createElement("style");return n.setAttribute("type","text/css"),n.innerHTML=t.replace(/([^}{]*){/gm,(function(t,n){return(r=n,i=r.match(/("[^"]*"|'[^']*'|[^,\s()]*\((?:[^()]*|\([^()]*\))*\)[^,\s()]*|[^,])+/g),i?i.map((function(e){return e.trim()})):[]).map((function(t){return t.indexOf(":global")>-1?t.replace(/\:global/g,""):t.indexOf(":host")>-1?""+t.replace(/\:host/g,"."+e):"."+e+" "+t})).join(", ")+"{";var r,i})),(document.head||document.body).appendChild(n),n}(s,t)),++u},c.prototype.componentWillUnmount=function(){0===--u&&n&&n.parentNode.removeChild(n)},c.prototype.getElement=function(){return this.element||(this.element=(0,r.findDOMNode)(this))},c}(r.Component)};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drag=function(e,t){return new v(e,t)},t.default=void 0;var r=n(38),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){var i=d(e),a=d(t),o=d(r);return s(h(r[0],p(i,o)),h(r[0],p(a,o)),n[0])}function o(e){return e.touches?l(e.touches):[f(e)]}function s(e,t,n){var r=e.clientX,i=e.clientY;return{clientX:r,clientY:i,deltaX:r-t.clientX,deltaY:i-t.clientY,distX:r-n.clientX,distY:i-n.clientY}}function u(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function c(e,t,n){return e.map((function(e,r){return s(e,t[r],n[r])}))}function l(e){for(var t=Math.min(e.length,2),n=[],r=0;r<t;++r)n.push(f(e[r]));return n}function f(e){return{clientX:e.clientX,clientY:e.clientY}}function d(e){return{clientX:(e[0].clientX+e[1].clientX)/2,clientY:(e[0].clientY+e[1].clientY)/2}}function h(e,t){return{clientX:e.clientX+t.clientX,clientY:e.clientY+t.clientY}}function p(e,t){return{clientX:e.clientX-t.clientX,clientY:e.clientY-t.clientY}}var v=function(){function e(e,t){var n=this;void 0===t&&(t={}),this.el=e,this.options={},this.flag=!1,this.pinchFlag=!1,this.datas={},this.isDrag=!1,this.isPinch=!1,this.isMouse=!1,this.isTouch=!1,this.prevClients=[],this.startClients=[],this.movement=0,this.startPinchClients=[],this.startDistance=0,this.customDist=[0,0],this.onDragStart=function(e){if(n.flag||!1!==e.cancelable){if(function(e){return e.touches&&e.touches.length>=2}(e)){if(!n.flag&&e.touches.length!==e.changedTouches.length)return;n.pinchFlag||n.onPinchStart(e)}if(!n.flag){var t=n.startClients[0]?n.startClients:o(e);n.customDist=[0,0],n.flag=!0,n.isDrag=!1,n.startClients=t,n.prevClients=t,n.datas={},n.movement=0;var r=s(t[0],n.prevClients[0],n.startClients[0]),a=n.options,u=a.dragstart;(a.preventRightClick&&3===e.which||!1===(u&&u(i({datas:n.datas,inputEvent:e},r))))&&(n.startClients=[],n.prevClients=[],n.flag=!1),n.flag&&e.preventDefault()}}},this.onDrag=function(e,t){if(n.flag){var r=o(e);n.pinchFlag&&n.onPinch(e,r);var a=n.move([0,0],e,r);if(a&&(a.deltaX||a.deltaY)){var s=n.options.drag;s&&s(i({},a,{isScroll:!!t,inputEvent:e}))}}},this.onDragEnd=function(e){if(n.flag){n.pinchFlag&&n.onPinchEnd(e),n.flag=!1;var t=n.options.dragend,r=n.prevClients,o=n.startClients,u=n.pinchFlag?a(r,r,o,n.startPinchClients):s(r[0],r[0],o[0]);n.startClients=[],n.prevClients=[],t&&t(i({datas:n.datas,isDrag:n.isDrag,inputEvent:e},u))}},this.options=i({container:e,preventRightClick:!0,pinchThreshold:0,events:["touch","mouse"]},t);var u=this.options,c=u.container,l=u.events;if(this.isTouch=l.indexOf("touch")>-1,this.isMouse=l.indexOf("mouse")>-1,this.customDist=[0,0],this.isMouse&&((0,r.addEvent)(e,"mousedown",this.onDragStart),(0,r.addEvent)(c,"mousemove",this.onDrag),(0,r.addEvent)(c,"mouseup",this.onDragEnd)),this.isTouch){var f={passive:!1};(0,r.addEvent)(e,"touchstart",this.onDragStart,f),(0,r.addEvent)(c,"touchmove",this.onDrag,f),(0,r.addEvent)(c,"touchend",this.onDragEnd,f)}}var t=e.prototype;return t.isDragging=function(){return this.isDrag},t.isPinching=function(){return this.isPinch},t.scrollBy=function(e,t,n,r){void 0===r&&(r=!0),this.flag&&(this.startClients.forEach((function(n){n.clientX-=e,n.clientY-=t})),this.prevClients.forEach((function(n){n.clientX-=e,n.clientY-=t})),r&&this.onDrag(n,!0))},t.move=function(e,t,n){var r=e[0],o=e[1];void 0===n&&(n=this.prevClients);var u=this.customDist,c=this.prevClients,l=this.startClients,f=this.pinchFlag?a(n,c,l,this.startPinchClients):s(n[0],c[0],l[0]);u[0]+=r,u[1]+=o,f.deltaX+=r,f.deltaY+=o;var d=f.deltaX,h=f.deltaY;return f.distX+=u[0],f.distY+=u[1],this.movement+=Math.sqrt(d*d+h*h),this.prevClients=n,this.isDrag=!0,i({datas:this.datas},f,{isScroll:!1,inputEvent:t})},t.onPinchStart=function(e){var t,n,r=this.options,a=r.pinchstart,o=r.pinchThreshold;if(!(this.isDrag&&this.movement>o)){var f=l(e.changedTouches);if(this.pinchFlag=!0,(t=this.startClients).push.apply(t,f),(n=this.prevClients).push.apply(n,f),this.startDistance=u(this.prevClients),this.startPinchClients=this.prevClients.slice(),a){var h=this.prevClients,p=d(h),v=s(p,p,p);a(i({datas:this.datas,touches:c(h,h,h)},v,{inputEvent:e}))}}},t.onPinch=function(e,t){if(this.flag&&this.pinchFlag){this.isPinch=!0;var n=this.options.pinch;if(n){var r=this.prevClients,a=this.startClients,o=s(d(t),d(r),d(a)),l=u(t);n(i({datas:this.datas,touches:c(t,r,a),scale:l/this.startDistance,distance:l},o,{inputEvent:e}))}}},t.onPinchEnd=function(e){if(this.flag&&this.pinchFlag){var t=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.options.pinchend;if(n){var r=this.prevClients,a=this.startClients,o=s(d(r),d(r),d(a));n(i({datas:this.datas,isPinch:t,touches:c(r,r,a)},o,{inputEvent:e})),this.isPinch=!1,this.pinchFlag=!1}}},t.unset=function(){var e=this.el,t=this.options.container;this.isMouse&&((0,r.removeEvent)(e,"mousedown",this.onDragStart),(0,r.removeEvent)(t,"mousemove",this.onDrag),(0,r.removeEvent)(t,"mouseup",this.onDragEnd)),this.isTouch&&((0,r.removeEvent)(e,"touchstart",this.onDragStart),(0,r.removeEvent)(t,"touchmove",this.onDrag),(0,r.removeEvent)(t,"touchend",this.onDragEnd))},e}();var g=v;t.default=g},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.diff=function(e,t){return(0,i.diff)(e,t,u)},t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(42));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var s,u="function"==typeof Map?void 0:(s=0,function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++s)});var c=function(e){function t(t){return void 0===t&&(t=[]),e.call(this,t,u)||this}return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diff=u,t.default=void 0;var r=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(e){return this.values[this.keys.indexOf(e)]},t.set=function(e,t){var n=this.keys,r=this.values,i=n.indexOf(e),a=-1===i?n.length:i;n[a]=e,r[a]=t},e}(),i=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(e){return this.object[e]},t.set=function(e,t){this.object[e]=t},e}(),a="function"==typeof Map,o=function(){function e(){}var t=e.prototype;return t.connect=function(e,t){this.prev=e,this.next=t,e&&(e.next=this),t&&(t.prev=this)},t.disconnect=function(){var e=this.prev,t=this.next;e&&(e.next=t),t&&(t.prev=e)},t.getIndex=function(){for(var e=this,t=-1;e;)e=e.prev,++t;return t},e}();var s=function(){function e(e,t,n,r,i,a,o,s){this.prevList=e,this.list=t,this.added=n,this.removed=r,this.changed=i,this.maintained=a,this.changedBeforeAdded=o,this.fixed=s}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var e=function(e,t){var n=[],r=[];return e.forEach((function(e){var t=e[0],i=e[1],a=new o;n[t]=a,r[i]=a})),n.forEach((function(e,t){e.connect(n[t-1])})),e.filter((function(e,n){return!t[n]})).map((function(e,t){var i=e[0],a=e[1];if(i===a)return[0,0];var o=n[i],s=r[a-1],u=o.getIndex();return o.disconnect(),s?o.connect(s,s.next):o.connect(void 0,n[0]),[u,o.getIndex()]}))}(this.changedBeforeAdded,this.fixed),t=this.changed,n=[];this.cacheOrdered=e.filter((function(e,r){var i=e[0],a=e[1],o=t[r],s=o[0],u=o[1];if(i!==a)return n.push([s,u]),!0})),this.cachePureChanged=n},e}();function u(e,t,n){var o=a?Map:n?i:r,u=n||function(e){return e},c=[],l=[],f=[],d=e.map(u),h=t.map(u),p=new o,v=new o,g=[],m=[],y={},b=[],_=0,w=0;return d.forEach((function(e,t){p.set(e,t)})),h.forEach((function(e,t){v.set(e,t)})),d.forEach((function(e,t){var n=v.get(e);void 0===n?(++w,l.push(t)):y[n]=w})),h.forEach((function(e,t){var n=p.get(e);void 0===n?(c.push(t),++_):(f.push([n,t]),w=y[t]||0,g.push([n-w,t-_]),m.push(t===n),n!==t&&b.push([n,t]))})),l.reverse(),new s(e,t,c,l,b,f,g,m)}var c=function(){function e(e,t){void 0===e&&(e=[]),this.findKeyCallback=t,this.list=[].slice.call(e)}return e.prototype.update=function(e){var t=[].slice.call(e),n=u(this.list,t,this.findKeyCallback);return this.list=t,n},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultTextLayerFactory=t.TextLayerBuilder=void 0;var r=n(5),i=n(6);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var u=function(){function e(t){var n=t.textLayerDiv,i=t.eventBus,o=t.pageIndex,s=t.viewport,u=t.findController,c=void 0===u?null:u,l=t.enhanceTextSelection,f=void 0!==l&&l;a(this,e),this.textLayerDiv=n,this.eventBus=i||(0,r.getGlobalEventBus)(),this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=o,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=s,this.textDivs=[],this.findController=c,this.textLayerRenderTask=null,this.enhanceTextSelection=f,this._boundEvents=Object.create(null),this._bindEvents(),this._bindMouse()}return s(e,[{key:"_finishRendering",value:function(){this.renderingDone=!0,this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs=[];var n=document.createDocumentFragment();this.textLayerRenderTask=(0,i.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:t,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then((function(){e.textLayerDiv.appendChild(n),e._finishRendering(),e._updateMatches()}),(function(e){}))}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)}},{key:"setTextContentStream",value:function(e){this.cancel(),this.textContentStream=e}},{key:"setTextContent",value:function(e){this.cancel(),this.textContent=e}},{key:"_convertMatches",value:function(e,t){if(!e)return[];for(var n=this.findController,r=this.textContentItemsStr,i=0,a=0,o=r.length-1,s=n.state.query.length,u=[],c=0,l=e.length;c<l;c++){for(var f=e[c];i!==o&&f>=a+r[i].length;)a+=r[i].length,i++;i===r.length&&console.error("Could not find a matching mapping");var d={begin:{divIdx:i,offset:f-a}};for(f+=t?t[c]:s;i!==o&&f>a+r[i].length;)a+=r[i].length,i++;d.end={divIdx:i,offset:f-a},u.push(d)}return u}},{key:"_renderMatches",value:function(e){if(0!==e.length){var t=this.findController,n=this.pageIdx,r=this.textContentItemsStr,i=this.textDivs,a=n===t.selected.pageIdx,o=t.selected.matchIdx,s=null,u={divIdx:-1,offset:void 0},c=o,l=c+1;if(t.state.highlightAll)c=0,l=e.length;else if(!a)return;for(var f=c;f<l;f++){var d=e[f],h=d.begin,p=d.end,v=a&&f===o,g=v?" selected":"";if(v&&t.scrollMatchIntoView({element:i[h.divIdx],pageIndex:n,matchIndex:o}),s&&h.divIdx===s.divIdx?_(s.divIdx,s.offset,h.offset):(null!==s&&_(s.divIdx,s.offset,u.offset),b(h)),h.divIdx===p.divIdx)_(h.divIdx,h.offset,p.offset,"highlight"+g);else{_(h.divIdx,h.offset,u.offset,"highlight begin"+g);for(var m=h.divIdx+1,y=p.divIdx;m<y;m++)i[m].className="highlight middle"+g;b(p,"highlight end"+g)}s=p}s&&_(s.divIdx,s.offset,u.offset)}function b(e,t){var n=e.divIdx;i[n].textContent="",_(n,0,e.offset,t)}function _(e,t,n,a){var o=i[e],s=r[e].substring(t,n),u=document.createTextNode(s);if(a){var c=document.createElement("span");return c.className=a,c.appendChild(u),void o.appendChild(c)}o.appendChild(u)}}},{key:"_updateMatches",value:function(){if(this.renderingDone){for(var e=this.findController,t=this.matches,n=this.pageIdx,r=this.textContentItemsStr,i=this.textDivs,a=-1,o=0,s=t.length;o<s;o++){for(var u=t[o],c=Math.max(a,u.begin.divIdx),l=u.end.divIdx;c<=l;c++){var f=i[c];f.textContent=r[c],f.className=""}a=u.end.divIdx+1}if(e&&e.highlightMatches){var d=e.pageMatches[n]||null,h=e.pageMatchesLength[n]||null;this.matches=this._convertMatches(d,h),this._renderMatches(this.matches)}}}},{key:"_bindEvents",value:function(){var e=this,t=this.eventBus,n=this._boundEvents;n.pageCancelled=function(r){if(r.pageNumber===e.pageNumber)if(e.textLayerRenderTask)console.error("TextLayerBuilder._bindEvents: `this.cancel()` should have been called when the page was reset, or rendering cancelled.");else for(var i in n)t.off(i.toLowerCase(),n[i]),delete n[i]},n.updateTextLayerMatches=function(t){t.pageIndex!==e.pageIdx&&-1!==t.pageIndex||e._updateMatches()},t.on("pagecancelled",n.pageCancelled),t.on("updatetextlayermatches",n.updateTextLayerMatches)}},{key:"_bindMouse",value:function(){var e=this,t=this.textLayerDiv,n=null;t.addEventListener("mousedown",(function(r){if(e.enhanceTextSelection&&e.textLayerRenderTask)return e.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));var i=t.querySelector(".endOfContent");if(i){var a=r.target!==t;if(a=a&&"none"!==window.getComputedStyle(i).getPropertyValue("-moz-user-select")){var o=t.getBoundingClientRect(),s=Math.max(0,(r.pageY-o.top)/o.height);i.style.top=(100*s).toFixed(2)+"%"}i.classList.add("active")}})),t.addEventListener("mouseup",(function(){if(e.enhanceTextSelection&&e.textLayerRenderTask)n=setTimeout((function(){e.textLayerRenderTask&&e.textLayerRenderTask.expandTextDivs(!1),n=null}),300);else{var r=t.querySelector(".endOfContent");r&&(r.style.top="",r.classList.remove("active"))}}))}}]),e}();t.TextLayerBuilder=u;var c=function(){function e(){a(this,e)}return s(e,[{key:"createTextLayerBuilder",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new u({textLayerDiv:e,pageIndex:t,viewport:n,enhanceTextSelection:r})}}]),e}();t.DefaultTextLayerFactory=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postFollowState=s,t.handleReceiveFollowState=function(){var e=this,t=function(t){var n=t.value,s=n.pageNumber,u=n.scale,c=n.pageOffsetTop,l=n.pageOffsetLeft,f=n.v2,d=n.uuid,h=void 0===d?"":d,p=n.finishKey,v=void 0===p?"":p,g=null!==f&&"object"===a(f),m=g?f.pageNumber:s;if(m){var y=u&&!(1===u&&"auto"===e._currentScaleValue)&&u*o.bind(e)(),b=!i.GLOBAL_STATE.isInPresentationMode&&y&&!function(e,t){if(t===e)return!0;if(Math.abs(t-e)<1e-15)return!0;return!1}(e._currentScale,y);b&&e._setScale(y);var _,w,S=e._pages[m-1].div,A=g?f.pageOffsetTop:c;"number"==typeof A&&(_=A*S.clientHeight,g||(_-=window.innerHeight/2)),"number"==typeof l&&(w=l*S.clientWidth-e.viewer.clientWidth/2);var C=!i.GLOBAL_STATE.isInPresentationMode&&{top:_,left:w};(0,r.scrollIntoView)(S,C,!1,!i.GLOBAL_STATE.isInPresentationMode&&!b),(0,i.sendMessage)(i.IFRAME_EVENT.VC_FOLLOW_FINISHED,{uuid:h,finishKey:v,type:"applied"})}else(0,i.sendMessage)(i.IFRAME_EVENT.VC_FOLLOW_FINISHED,{uuid:h,finishKey:v,type:"failed",reason:"no pageNumber: ".concat(m)})};this.eventBus.on("receiveVcFollowState",t),window.addEventListener("storage",(function(e){if("__debug_follow__"===e.key&&1===window.__debug_follow_role__){var n=JSON.parse(e.newValue);console.log("[drive follow debug]",n),t({value:n})}}))},t.postFollowStateByThrottle=void 0;var r=n(5),i=n(9);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){var e,t=this._pages[this._currentPageNumber-1],n=this.container.clientWidth/t.width*t.scale,r=this.container.clientHeight/t.height*t.scale,i=(e=t).width<=e.height?n:Math.min(r,n);return Math.min(1.25,i)}function s(){var e,t=this._currentPageNumber,n=this._pages,r=this._currentScale,a=this._currentScaleValue,s=this.viewer,u=n[t-1].div.getBoundingClientRect(),c=u.x,l=u.y,f=u.width,d=u.height,h="auto"===a?1:r/o.bind(this)(),p=(window.innerHeight/2-l)/d,v=p>1?1:p<0?0:p,g=(s.clientWidth/2-c)/f;if(i.GLOBAL_STATE.isInPresentationMode)e={pageNumber:t,pageOffsetTop:0};else{for(var m=l,y=t;m>0&&y>1;){m=n[--y-1].div.getBoundingClientRect().y}e={pageNumber:y,pageOffsetTop:Math.abs(m)/d}}var b={pageNumber:t,scale:h,pageOffsetTop:v,pageOffsetLeft:g,v2:e};(0,i.sendMessage)(i.IFRAME_EVENT.POST_VC_FOLLOW_STATE,b),0===window.__debug_follow_role__&&window.localStorage.setItem("__debug_follow__",JSON.stringify(b))}var u=(0,i.throttle)(s,250);t.postFollowStateByThrottle=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setActionPermission=f,t.initAsyncActionListeners=function(e){document.addEventListener("copy",l.copy),document.addEventListener("contextmenu",l.contextmenu),document.addEventListener("keydown",(function(e){"KeyF"===e.code&&(e.metaKey||e.ctrlKey)?l.search(e):"KeyP"===e.code&&(e.metaKey||e.ctrlKey)&&l.print(e)})),window.addEventListener("beforeprint",l.beforeprint),window.addEventListener("afterprint",(function(){document.body.classList.contains("unprintable")&&document.body.classList.remove("unprintable")})),window.addEventListener("message",(function(t){var n,i,u=t.data;if(u.key)switch(u.key){case"asyncAction":if(u.value&&"object"===o(u.value)){var c=u.value,l=c.actionName,f=c.result;if(!s[l])return;s[l](f)}break;case"setActionPermission":if(u.value&&"object"===o(u.value))for(var d=0,h=Object.entries(u.value);d<h.length;d++){var p=(n=h[d],i=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(n,i)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=p[0],g=p[1],m=Boolean(g);m!==r.GLOBAL_STATE[v]&&(r.GLOBAL_STATE[v]=m,"copyable"===v&&e.dispatch("toggleCopyable",m))}break;case"setCopySecret":if(u.value&&"object"===o(u.value)){var y=u.value,b=y.secret,_=y.withEntityId;r.GLOBAL_CONSTANT.COPY_SECRET=b,r.GLOBAL_CONSTANT.WITH_ENTITY_ID=_}}}))},t.asyncActionMap=t.asyncAction=t.PROMISE_MAP=void 0;var r=n(9),i=n(46);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s={};function u(e,t){parent.postMessage({key:"asyncAction",value:Object.assign({},{actionName:e},{data:t})},"*")}t.PROMISE_MAP=s;var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return function(r){if(s[e])return r.preventDefault();new Promise((function(n){s[e]=n,u(e,t(r)),setTimeout((function(){n(!1),delete s[e]}),3e3)})).then((function(e){n(e)})).catch((function(e){return console.error(e),!1})).finally((function(){delete s[e]}))}};t.asyncAction=c;var l={copy:c("copy",(function(e){var t;try{t=document.getSelection().toString()}catch(e){console.error(e)}if(!r.GLOBAL_STATE.copyable)return e.preventDefault(),{content:t};if(!(0,r.isWebKit)())return e.preventDefault(),{content:t};var n=r.GLOBAL_CONSTANT.COPY_SECRET,a=r.GLOBAL_CONSTANT.WITH_ENTITY_ID;return n&&e.clipboardData&&t.length?(e.preventDefault(),e.clipboardData.setData("text/html",(0,i.encrypt)(n,{"text/plain":t},a)),{showEncryptToast:!0}):void 0}),(function(e){return f("copyable",e)})),contextmenu:function(e){var t=r.GLOBAL_STATE.copyable,n=r.GLOBAL_STATE.printable;t&&n||e.preventDefault()},search:c("search",(function(e){e.preventDefault()})),beforeprint:c("print",(function(e){e.preventDefault()}),(function(e){e||document.body.classList.add("unprintable"),f("printable",e)})),print:function(e){r.GLOBAL_STATE.printable||e.preventDefault()}};function f(e,t){r.GLOBAL_STATE&&r.GLOBAL_STATE.hasOwnProperty(e)&&(r.GLOBAL_STATE[e]=Boolean(t))}t.asyncActionMap=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encrypt=function(e,t,n){var r=c(e),o=JSON.stringify({key:r.toString(i.default),content:t}),s=function(e,t){var n=e instanceof Uint8Array?c(e):e;return a.default.encrypt(t,n,{iv:u}).ciphertext.toString(i.default)}(r,o),l=n?' data-with-entity-id="true"':"";return"<".concat("lark-paste-protect",' data-content="').concat(s,'"').concat(l,"></").concat("lark-paste-protect",">")};var r=s(n(47)),i=s(n(50)),a=s(n(51)),o=s(n(57));function s(e){return e&&e.__esModule?e:{default:e}}var u=o.default.parse("_larkcustomdata_");function c(e){var t="string"==typeof e?new Uint8Array(e):e;return r.default.create(t)}},function(e,t,n){"use strict";var r,i,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,n=t.init;(t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,r=[],i=0;i<t;i++)r[i>>>2]|=e[i]<<24-i%4*8;n.call(this,r,t)}else n.apply(this,arguments)}).prototype=t}}(),e.lib.WordArray},"object"===s(t)?e.exports=t=o(n(48)):(i=[n(48)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},function(e,t,n){"use strict";var r,i,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(){var e=e||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!=typeof global&&global.crypto&&(r=global.crypto),!r)try{r=n(49)}catch(e){}var i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},s=o.lib={},u=s.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=u.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new c.init(t,e)}}),l=o.enc={},f=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},d=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},h=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=s.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,a=r.sigBytes,o=this.blockSize,s=a/(4*o),u=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,l=e.min(4*u,a);if(u){for(var f=0;f<u;f+=o)this._doProcessBlock(i,f);n=i.splice(0,u),r.sigBytes-=l}return new c.init(n,l)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),v=(s.Hasher=p.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new v.HMAC.init(e,n).finalize(t)}}}),o.algo={});return o}(Math);return e},"object"===s(t)?e.exports=t=o():(i=[],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},function(e,t){},function(e,t,n){"use strict";var r,i,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){var t,n;return n=(t=e).lib.WordArray,t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],a=0;a<n;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<n;s++)i.push(r.charAt(o>>>6*(3-s)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var a=0;a<r.length;a++)i[r.charCodeAt(a)]=a}var o=r.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return function(e,t,r){for(var i=[],a=0,o=0;o<t;o++)if(o%4){var s=r[e.charCodeAt(o-1)]<<o%4*2,u=r[e.charCodeAt(o)]>>>6-o%4*2,c=s|u;i[a>>>2]|=c<<24-a%4*8,a++}return n.create(i,a)}(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},"object"===s(t)?e.exports=t=o(n(48)):(i=[n(48)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},function(e,t,n){"use strict";var r,i,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){return function(){var t=e,n=t.lib.BlockCipher,r=t.algo,i=[],a=[],o=[],s=[],u=[],c=[],l=[],f=[],d=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,i[n]=p,a[p]=n;var v=e[n],g=e[v],m=e[g],y=257*e[p]^16843008*p;o[n]=y<<24|y>>>8,s[n]=y<<16|y>>>16,u[n]=y<<8|y>>>24,c[n]=y,y=16843009*m^65537*g^257*v^16843008*n,l[p]=y<<24|y>>>8,f[p]=y<<16|y>>>16,d[p]=y<<8|y>>>24,h[p]=y,n?(n=v^e[e[e[m^v]]],r^=e[e[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],v=r.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),a=this._keySchedule=[],o=0;o<r;o++)o<n?a[o]=t[o]:(c=a[o-1],o%n?n>6&&o%n==4&&(c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c]):(c=i[(c=c<<8|c>>>24)>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c],c^=p[o/n|0]<<24),a[o]=a[o-n]^c);for(var s=this._invKeySchedule=[],u=0;u<r;u++){if(o=r-u,u%4)var c=a[o];else c=a[o-4];s[u]=u<4||o<=4?c:l[i[c>>>24]]^f[i[c>>>16&255]]^d[i[c>>>8&255]]^h[i[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,u,c,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,f,d,h,a),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,a,o,s){for(var u=this._nRounds,c=e[t]^n[0],l=e[t+1]^n[1],f=e[t+2]^n[2],d=e[t+3]^n[3],h=4,p=1;p<u;p++){var v=r[c>>>24]^i[l>>>16&255]^a[f>>>8&255]^o[255&d]^n[h++],g=r[l>>>24]^i[f>>>16&255]^a[d>>>8&255]^o[255&c]^n[h++],m=r[f>>>24]^i[d>>>16&255]^a[c>>>8&255]^o[255&l]^n[h++],y=r[d>>>24]^i[c>>>16&255]^a[l>>>8&255]^o[255&f]^n[h++];c=v,l=g,f=m,d=y}v=(s[c>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&d])^n[h++],g=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[d>>>8&255]<<8|s[255&c])^n[h++],m=(s[f>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[255&l])^n[h++],y=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^n[h++],e[t]=v,e[t+1]=g,e[t+2]=m,e[t+3]=y},keySize:8});t.AES=n._createHelper(v)}(),e.AES},"object"===s(t)?e.exports=t=o(n(48),n(50),n(52),n(53),n(56)):(i=[n(48),n(50),n(52),n(53),n(56)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},function(e,t,n){"use strict";var r,i,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,a=r.Hasher,o=n.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=o.MD5=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a=this._hash.words,o=e[t+0],u=e[t+1],h=e[t+2],p=e[t+3],v=e[t+4],g=e[t+5],m=e[t+6],y=e[t+7],b=e[t+8],_=e[t+9],w=e[t+10],S=e[t+11],A=e[t+12],C=e[t+13],P=e[t+14],E=e[t+15],T=a[0],x=a[1],k=a[2],O=a[3];T=c(T,x,k,O,o,7,s[0]),O=c(O,T,x,k,u,12,s[1]),k=c(k,O,T,x,h,17,s[2]),x=c(x,k,O,T,p,22,s[3]),T=c(T,x,k,O,v,7,s[4]),O=c(O,T,x,k,g,12,s[5]),k=c(k,O,T,x,m,17,s[6]),x=c(x,k,O,T,y,22,s[7]),T=c(T,x,k,O,b,7,s[8]),O=c(O,T,x,k,_,12,s[9]),k=c(k,O,T,x,w,17,s[10]),x=c(x,k,O,T,S,22,s[11]),T=c(T,x,k,O,A,7,s[12]),O=c(O,T,x,k,C,12,s[13]),k=c(k,O,T,x,P,17,s[14]),T=l(T,x=c(x,k,O,T,E,22,s[15]),k,O,u,5,s[16]),O=l(O,T,x,k,m,9,s[17]),k=l(k,O,T,x,S,14,s[18]),x=l(x,k,O,T,o,20,s[19]),T=l(T,x,k,O,g,5,s[20]),O=l(O,T,x,k,w,9,s[21]),k=l(k,O,T,x,E,14,s[22]),x=l(x,k,O,T,v,20,s[23]),T=l(T,x,k,O,_,5,s[24]),O=l(O,T,x,k,P,9,s[25]),k=l(k,O,T,x,p,14,s[26]),x=l(x,k,O,T,b,20,s[27]),T=l(T,x,k,O,C,5,s[28]),O=l(O,T,x,k,h,9,s[29]),k=l(k,O,T,x,y,14,s[30]),T=f(T,x=l(x,k,O,T,A,20,s[31]),k,O,g,4,s[32]),O=f(O,T,x,k,b,11,s[33]),k=f(k,O,T,x,S,16,s[34]),x=f(x,k,O,T,P,23,s[35]),T=f(T,x,k,O,u,4,s[36]),O=f(O,T,x,k,v,11,s[37]),k=f(k,O,T,x,y,16,s[38]),x=f(x,k,O,T,w,23,s[39]),T=f(T,x,k,O,C,4,s[40]),O=f(O,T,x,k,o,11,s[41]),k=f(k,O,T,x,p,16,s[42]),x=f(x,k,O,T,m,23,s[43]),T=f(T,x,k,O,_,4,s[44]),O=f(O,T,x,k,A,11,s[45]),k=f(k,O,T,x,E,16,s[46]),T=d(T,x=f(x,k,O,T,h,23,s[47]),k,O,o,6,s[48]),O=d(O,T,x,k,y,10,s[49]),k=d(k,O,T,x,P,15,s[50]),x=d(x,k,O,T,g,21,s[51]),T=d(T,x,k,O,A,6,s[52]),O=d(O,T,x,k,p,10,s[53]),k=d(k,O,T,x,w,15,s[54]),x=d(x,k,O,T,u,21,s[55]),T=d(T,x,k,O,b,6,s[56]),O=d(O,T,x,k,E,10,s[57]),k=d(k,O,T,x,m,15,s[58]),x=d(x,k,O,T,C,21,s[59]),T=d(T,x,k,O,v,6,s[60]),O=d(O,T,x,k,S,10,s[61]),k=d(k,O,T,x,h,15,s[62]),x=d(x,k,O,T,_,21,s[63]),a[0]=a[0]+T|0,a[1]=a[1]+x|0,a[2]=a[2]+k|0,a[3]=a[3]+O|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var a=t.floor(r/4294967296),o=r;n[15+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,u=s.words,c=0;c<4;c++){var l=u[c];u[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+i+o;return(s<<a|s>>>32-a)+t}function l(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+i+o;return(s<<a|s>>>32-a)+t}function f(e,t,n,r,i,a,o){var s=e+(t^n^r)+i+o;return(s<<a|s>>>32-a)+t}function d(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+i+o;return(s<<a|s>>>32-a)+t}n.MD5=a._createHelper(u),n.HmacMD5=a._createHmacHelper(u)}(Math),e.MD5},"object"===s(t)?e.exports=t=o(n(48)):(i=[n(48)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},function(e,t,n){"use strict";var r,i,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){var t,n,r,i,a,o,s;return n=(t=e).lib,r=n.Base,i=n.WordArray,a=t.algo,o=a.MD5,s=a.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,a=r.hasher.create(),o=i.create(),s=o.words,u=r.keySize,c=r.iterations;s.length<u;){n&&a.update(n),n=a.update(e).finalize(t),a.reset();for(var l=1;l<c;l++)n=a.finalize(n),a.reset();o.concat(n)}return o.sigBytes=4*u,o}}),t.EvpKDF=function(e,t,n){return s.create(n).compute(e,t)},e.EvpKDF},"object"===s(t)?e.exports=t=o(n(48),n(54),n(55)):(i=[n(48),n(54),n(55)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},function(e,t,n){"use strict";var r,i,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){var t,n,r,i,a,o,s;return n=(t=e).lib,r=n.WordArray,i=n.Hasher,a=t.algo,o=[],s=a.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],s=n[3],u=n[4],c=0;c<80;c++){if(c<16)o[c]=0|e[t+c];else{var l=o[c-3]^o[c-8]^o[c-14]^o[c-16];o[c]=l<<1|l>>>31}var f=(r<<5|r>>>27)+u+o[c];f+=c<20?1518500249+(i&a|~i&s):c<40?1859775393+(i^a^s):c<60?(i&a|i&s|a&s)-1894007588:(i^a^s)-899497514,u=s,s=a,a=i<<30|i>>>2,i=r,r=f}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=i._createHelper(s),t.HmacSHA1=i._createHmacHelper(s),e.SHA1},"object"===s(t)?e.exports=t=o(n(48)):(i=[n(48)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},function(e,t,n){"use strict";var r,i,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){var t,n,r;n=(t=e).lib.Base,r=t.enc.Utf8,t.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),o=this._iKey=t.clone(),s=a.words,u=o.words,c=0;c<n;c++)s[c]^=1549556828,u[c]^=909522486;a.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})},"object"===s(t)?e.exports=t=o(n(48)):(i=[n(48)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},function(e,t,n){"use strict";var r,i,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){var t,n,r,i,a,o,s,u,c,l,f,d,h,p,v,g,m,y;e.lib.Cipher||(n=(t=e).lib,r=n.Base,i=n.WordArray,a=n.BufferedBlockAlgorithm,(o=t.enc).Utf8,s=o.Base64,u=t.algo.EvpKDF,c=n.Cipher=a.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?y:g}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),n.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),l=t.mode={},f=n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),d=l.CBC=function(){var e=f.extend();function t(e,t,n){var r,i=this._iv;i?(r=i,this._iv=void 0):r=this._prevBlock;for(var a=0;a<n;a++)e[t+a]^=r[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,a=e.slice(n,n+i);r.decryptBlock(e,n),t.call(this,e,n,i),this._prevBlock=a}}),e}(),h=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,a=r<<24|r<<16|r<<8|r,o=[],s=0;s<r;s+=4)o.push(a);var u=i.create(o,r);e.concat(u)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},n.BlockCipher=c.extend({cfg:c.cfg.extend({mode:d,padding:h}),reset:function(){var e;c.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),p=n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),v=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?i.create([1398893684,1701076831]).concat(n).concat(t):t).toString(s)},parse:function(e){var t,n=s.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=i.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),p.create({ciphertext:n,salt:t})}},g=n.SerializableCipher=r.extend({cfg:r.extend({format:v}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),a=i.finalize(t),o=i.cfg;return p.create({ciphertext:a,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),m=(t.kdf={}).OpenSSL={execute:function(e,t,n,r){r||(r=i.random(8));var a=u.create({keySize:t+n}).compute(e,r),o=i.create(a.words.slice(t),4*n);return a.sigBytes=4*t,p.create({key:a,iv:o,salt:r})}},y=n.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:m}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var a=g.encrypt.call(this,e,t,i.key,r);return a.mixIn(i),a},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=i.iv,g.decrypt.call(this,e,t,i.key,r)}}))},"object"===s(t)?e.exports=t=o(n(48),n(53)):(i=[n(48),n(53)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},function(e,t,n){"use strict";var r,i,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){return e.enc.Utf8},"object"===s(t)?e.exports=t=o(n(48)):(i=[n(48)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var r=n(5),i=n(9);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventBus=t,this._wasLocalized=!1,this.reset(),this._bindListeners()}var t,n,o;return t=e,(n=[{key:"setPageNumber",value:function(e,t){this.pageNumber=e,this.pageLabel=t,this._updateUIState(!1)}},{key:"setPagesCount",value:function(e,t){this.pagesCount=e,this.hasPageLabels=t,this._updateUIState(!0)}},{key:"setPageScale",value:function(e,t){this.pageScaleValue=(e||t).toString(),this.pageScale=t,this._updateUIState(!1)}},{key:"reset",value:function(){this.pageNumber=0,this.pageLabel=null,this.hasPageLabels=!1,this.pagesCount=0,this.pageScaleValue=r.DEFAULT_SCALE_VALUE,this.pageScale=r.DEFAULT_SCALE,this._updateUIState(!0)}},{key:"_bindListeners",value:function(){var e=this;this.eventBus.on("localized",(function(){e._localized()}))}},{key:"_localized",value:function(){this._wasLocalized=!0,this._updateUIState(!0)}},{key:"_updateUIState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._wasLocalized){var t=this.pageNumber,n=this.pagesCount;e&&!this.hasPageLabels&&(0,i.sendMessage)(i.IFRAME_EVENT.PAGE_COUNT,n),this.hasPageLabels?(0,i.sendMessage)(i.IFRAME_EVENT.PAGE_COUNT,n):(0,i.sendMessage)(i.IFRAME_EVENT.PAGE_INDEX,t)}}}])&&a(t.prototype,n),o&&a(t,o),e}();t.Toolbar=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericCom=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(1),o=n(60),s=n(61);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){c(a,r,i,o,s,"next",e)}function s(e){c(a,r,i,o,s,"throw",e)}o(void 0)}))}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.GenericCom={};var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,e);var t,n,r,a,o,s=p(u);function u(){return f(this,u),s.apply(this,arguments)}return t=u,(n=[{key:"_writeToStorage",value:(o=l(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("pdfjs.preferences",JSON.stringify(t));case 1:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})},{key:"_readFromStorage",value:(a=l(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JSON.parse(localStorage.getItem("pdfjs.preferences")));case 1:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})}])&&d(t.prototype,n),r&&d(t,r),u}(o.BasePreferences),y=Object.create(a.DefaultExternalServices);y.createDownloadManager=function(e){return new s.DownloadManager(e)},y.createPreferences=function(){return new m},a.PDFViewerApplication.externalServices=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePreferences=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r};function a(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)}))}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=null;var l=function(){function e(){var t=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.constructor===e)throw new Error("Cannot initialize BasePreferences.");this.prefs=null,this._initializedPromise=(c||(c=Promise.resolve({showPreviousViewOnLoad:!0,defaultZoomValue:"",sidebarViewOnLoad:0,cursorToolOnLoad:0,enableWebGL:!1,eventBusDispatchToDOM:!1,pdfBugEnabled:!1,disableRange:!1,disableStream:!1,disableAutoFetch:!1,disableFontFace:!1,textLayerMode:1,useOnlyCssZoom:!1,externalLinkTarget:2,renderer:"canvas",renderInteractiveForms:!1,enablePrintAutoRotate:!1,disableOpenActionDestination:!0,disablePageMode:!1,disablePageLabels:!1,historyUpdateUrl:!1,scrollModeOnLoad:0,spreadModeOnLoad:0})),c).then((function(e){return Object.defineProperty(t,"defaults",{value:Object.freeze(e),writable:!1,enumerable:!0,configurable:!1}),t.prefs=Object.assign(Object.create(null),e),t._readFromStorage(e)})).then((function(e){if(e)for(var n in e){var r=t.defaults[n],i=e[n];void 0!==r&&s(i)===s(r)&&(t.prefs[n]=i)}}))}var t,n,r,a,l,f,d,h,p;return t=e,(n=[{key:"_writeToStorage",value:(p=o(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented: _writeToStorage");case 1:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})},{key:"_readFromStorage",value:(h=o(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented: _readFromStorage");case 1:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)})},{key:"reset",value:(d=o(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializedPromise;case 2:return this.prefs=Object.assign(Object.create(null),this.defaults),e.abrupt("return",this._writeToStorage(this.defaults));case 4:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"set",value:(f=o(i.default.mark((function e(t,n){var r,a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializedPromise;case 2:if(void 0!==(r=this.defaults[t])){e.next=7;break}throw new Error('Set preference: "'.concat(t,'" is undefined.'));case 7:if(void 0!==n){e.next=9;break}throw new Error("Set preference: no value is specified.");case 9:if(a=s(n),o=s(r),a===o){e.next=19;break}if("number"!==a||"string"!==o){e.next=16;break}n=n.toString(),e.next=17;break;case 16:throw new Error('Set preference: "'.concat(n,'" is a ').concat(a,", ")+"expected a ".concat(o,"."));case 17:e.next=21;break;case 19:if("number"!==a||Number.isInteger(n)){e.next=21;break}throw new Error('Set preference: "'.concat(n,'" must be an integer.'));case 21:return this.prefs[t]=n,e.abrupt("return",this._writeToStorage(this.prefs));case 23:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"get",value:(l=o(i.default.mark((function e(t){var n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializedPromise;case 2:if(void 0!==(n=this.defaults[t])){e.next=7;break}throw new Error('Get preference: "'.concat(t,'" is undefined.'));case 7:if(void 0===(r=this.prefs[t])){e.next=10;break}return e.abrupt("return",r);case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"getAll",value:(a=o(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializedPromise;case 2:return e.abrupt("return",Object.assign(Object.create(null),this.defaults,this.prefs));case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})}])&&u(t.prototype,n),r&&u(t,r),e}();t.BasePreferences=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadManager=void 0;var r=n(6);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=r.apiCompatibilityParams.disableCreateObjectURL||!1;function o(e,t){var n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=e,n.target="_parent","download"in n&&(n.download=t),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}var s=function(){function e(t){var n=t.disableCreateObjectURL,r=void 0===n?a:n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.disableCreateObjectURL=r}var t,n,s;return t=e,(n=[{key:"downloadUrl",value:function(e,t){(0,r.createValidAbsoluteUrl)(e,"http://example.com")&&o(e+"#pdfjs.action=download",t)}},{key:"downloadData",value:function(e,t,n){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([e],{type:n}),t);o((0,r.createObjectURL)(e,n,this.disableCreateObjectURL),t)}},{key:"download",value:function(e,t,n){navigator.msSaveBlob?navigator.msSaveBlob(e,n)||this.downloadUrl(t,n):this.disableCreateObjectURL?this.downloadUrl(t,n):o(r.URL.createObjectURL(e),n)}}])&&i(t.prototype,n),s&&i(t,s),e}();t.DownloadManager=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPrintService=u;var r=n(5),i=n(1),a=n(9),o=null;var s=window.navigator.userAgent.toLowerCase();function u(e,t,n,i){this.pdfDocument=e,this.pagesOverview=t,this.printContainer=n,this.eventBus=i||(0,r.getGlobalEventBus)(),this.disableCreateObjectURL=e.loadingParams.disableCreateObjectURL,this.currentPage=-1,this.scratchCanvas=document.createElement("canvas"),this._isSafari=s.includes("safari")&&!/chrome|android/.test(s)}u.prototype={layout:function(){this.throwIfInactive();var e=document.querySelector("body");e.setAttribute("data-pdfjsprinting",!0),this.pagesOverview.every((function(e){return e.width===this.pagesOverview[0].width&&e.height===this.pagesOverview[0].height}),this)||console.warn("Not all pages have the same size. The printed result may be incorrect!"),this.pageStyleSheet=document.createElement("style");var t=this.pagesOverview[0];this.pageStyleSheet.textContent="@supports ((size:A4) and (size:1pt 1pt)) {@page { size: "+t.width+"pt "+t.height+"pt;}}",e.appendChild(this.pageStyleSheet)},destroy:function(){o===this&&(this.printContainer.textContent="",this.pageStyleSheet&&(this.pageStyleSheet.remove(),this.pageStyleSheet=null),this.scratchCanvas.width=this.scratchCanvas.height=0,this.scratchCanvas=null,o=null,g().then((function(){(0,a.sendMessage)(a.IFRAME_EVENT.PRINT_MODAL_CLOSE)})))},renderPages:function(){var e=this,t=this.pagesOverview.length;return new Promise((function n(i,s){if(e.throwIfInactive(),++e.currentPage>=t){if(window.initialData.watermarkEnable){(0,a.sendMessage)(a.IFRAME_EVENT.GET_WATERMARK_INFO);var u=null,c=function n(r){e.eventBus.off("receiveWatermarkInfo",n),u&&(clearTimeout(u),u=null);var a=r.watermarkInfo||{},o=a.watermarkImage,s=a.width,c=a.height;if(o&&s&&c){var l=new Image;return l.onload=function(){var n=document.createElement("div");if(n.style.width="100%",e._isSafari){var r=e.pagesOverview.reduce((function(e,t){return e+=Math.floor(t.height*(150/72))}),0);n.style.height="".concat(r,"px")}else n.style.height="100%";n.style.zIndex="999",n.style.position="fixed",n.style.pointerEvents="none",n.style.top="0px",n.style.left="0px",n.style.backgroundImage="url('".concat(o,"'), url('").concat(o,"')"),n.style.backgroundRepeat="repeat",n.style.backgroundPosition="0px 0px, ".concat(s/2,"px ").concat(c/2,"px"),e.printContainer.prepend(n),d(t,t),i()},l.onerror=function(){d(t,t),i()},void(l.src=o)}d(t,t),i()};return e.eventBus.on("receiveWatermarkInfo",c),void(u=window.setTimeout((function(){e.eventBus.off("receiveWatermarkInfo",c),(0,a.sendMessage)(a.IFRAME_EVENT.PRINT_ERROR),s(new Error("Timeout: did not receive watermark info within 20s"))}),2e4))}return d(t,t),void i()}var l=e.currentPage;d(l,t),function(e,t,n,i){var a=o.scratchCanvas;a.width=Math.floor(i.width*(150/72)),a.height=Math.floor(i.height*(150/72));var s=Math.floor(i.width*r.CSS_UNITS)+"px",u=Math.floor(i.height*r.CSS_UNITS)+"px",c=a.getContext("2d");return c.save(),c.fillStyle="rgb(255, 255, 255)",c.fillRect(0,0,a.width,a.height),c.restore(),t.getPage(n).then((function(e){var t={canvasContext:c,transform:[150/72,0,0,150/72,0,0],viewport:e.getViewport({scale:1,rotation:i.rotation}),intent:"print"};return e.render(t).promise})).then((function(){return{width:s,height:u}}))}(0,e.pdfDocument,l+1,e.pagesOverview[l]).then(e.useRenderedPage.bind(e)).then((function(){n(i,s)}),s)}))},useRenderedPage:function(e){this.throwIfInactive();var t=document.createElement("img");t.style.width=e.width,t.style.height=e.height;var n=this.scratchCanvas;try{t.src=n.toDataURL()}catch(e){(0,a.sendMessage)(a.IFRAME_EVENT.PRINT_ERROR)}var r=document.createElement("div");return r.appendChild(t),this.printContainer.appendChild(r),new Promise((function(e,n){t.onload=e,t.onerror=n}))},performPrint:function(){var e=this;return this.throwIfInactive(),new Promise((function(t){setTimeout((function(){e.active?(c.call(window),setTimeout(t,20)):t()}),0)}))},get active(){return this===o},throwIfInactive:function(){if(!this.active)throw new Error("This print request was cancelled or completed.")},abort:function(){return f()}};var c=window.print;function l(e){var t=document.createEvent("CustomEvent");t.initCustomEvent(e,!1,!1,"custom"),window.dispatchEvent(t)}function f(){o&&(o.destroy(),l("afterprint"))}function d(e,t){var n=Math.round(100*e/t);(0,a.sendMessage)(a.IFRAME_EVENT.PRINT_PROGRESS,n)}window.print=function(){if(o)console.warn("Ignored window.print() because of a pending print job.");else{g().then((function(){o&&(0,a.sendMessage)(a.IFRAME_EVENT.PRINT_MODAL_OPEN)}));try{l("beforeprint")}finally{if(!o)return console.error("Expected print service to be initialized."),void g().then((function(){(0,a.sendMessage)(a.IFRAME_EVENT.PRINT_MODAL_CLOSE)}));var e=o;o.renderPages().then((function(){return(0,a.sendMessage)(a.IFRAME_EVENT.PRINT_MODAL_CLOSE),e.performPrint()})).catch((function(){})).then((function(){e.active&&f()}))}}};var h,p=!!document.attachEvent;if(window.addEventListener("keydown",(function(e){if(a.GLOBAL_STATE.printable&&80===e.keyCode&&(e.ctrlKey||e.metaKey)&&!e.altKey&&(!e.shiftKey||window.chrome||window.opera)){if(window.print(),p)return;return e.preventDefault(),void(e.stopImmediatePropagation?e.stopImmediatePropagation():e.stopPropagation())}}),!0),p&&document.attachEvent("onkeydown",(function(e){if(80===(e=e||window.event).keyCode&&e.ctrlKey)return e.keyCode=0,!1})),"onbeforeprint"in window){var v=function(e){"custom"!==e.detail&&e.stopImmediatePropagation&&e.stopImmediatePropagation()};window.addEventListener("beforeprint",v),window.addEventListener("afterprint",v)}function g(){return h||(h=new Promise((function(e,t){e()}))),h}i.PDFPrintServiceFactory.instance={supportsPrinting:!0,createPrintService:function(e,t,n,r){if(o)throw new Error("The print service is created and active.");return o=new u(e,t,n,r)}}}]);